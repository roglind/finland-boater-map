var $n=Object.defineProperty;var Hn=(d,g,b)=>g in d?$n(d,g,{enumerable:!0,configurable:!0,writable:!0,value:b}):d[g]=b;var Wt=(d,g,b)=>Hn(d,typeof g!="symbol"?g+"":g,b);function Kn(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function Qn(d){if(d.__esModule)return d;var g=d.default;if(typeof g=="function"){var b=function y(){return this instanceof y?Reflect.construct(g,arguments,this.constructor):g.apply(this,arguments)};b.prototype=g.prototype}else b={};return Object.defineProperty(b,"__esModule",{value:!0}),Object.keys(d).forEach(function(y){var E=Object.getOwnPropertyDescriptor(d,y);Object.defineProperty(b,y,E.get?E:{enumerable:!0,get:function(){return d[y]}})}),b}var Qe={},Nr={};Nr.byteLength=ti;Nr.toByteArray=ei;Nr.fromByteArray=oi;var xt=[],bt=[],Xn=typeof Uint8Array<"u"?Uint8Array:Array,jr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ar=0,jn=jr.length;ar<jn;++ar)xt[ar]=jr[ar],bt[jr.charCodeAt(ar)]=ar;bt[45]=62;bt[95]=63;function Xe(d){var g=d.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=d.indexOf("=");b===-1&&(b=g);var y=b===g?0:4-b%4;return[b,y]}function ti(d){var g=Xe(d),b=g[0],y=g[1];return(b+y)*3/4-y}function ri(d,g,b){return(g+b)*3/4-b}function ei(d){var g,b=Xe(d),y=b[0],E=b[1],c=new Xn(ri(d,y,E)),s=0,n=E>0?y-4:y,a;for(a=0;a<n;a+=4)g=bt[d.charCodeAt(a)]<<18|bt[d.charCodeAt(a+1)]<<12|bt[d.charCodeAt(a+2)]<<6|bt[d.charCodeAt(a+3)],c[s++]=g>>16&255,c[s++]=g>>8&255,c[s++]=g&255;return E===2&&(g=bt[d.charCodeAt(a)]<<2|bt[d.charCodeAt(a+1)]>>4,c[s++]=g&255),E===1&&(g=bt[d.charCodeAt(a)]<<10|bt[d.charCodeAt(a+1)]<<4|bt[d.charCodeAt(a+2)]>>2,c[s++]=g>>8&255,c[s++]=g&255),c}function ni(d){return xt[d>>18&63]+xt[d>>12&63]+xt[d>>6&63]+xt[d&63]}function ii(d,g,b){for(var y,E=[],c=g;c<b;c+=3)y=(d[c]<<16&16711680)+(d[c+1]<<8&65280)+(d[c+2]&255),E.push(ni(y));return E.join("")}function oi(d){for(var g,b=d.length,y=b%3,E=[],c=16383,s=0,n=b-y;s<n;s+=c)E.push(ii(d,s,s+c>n?n:s+c));return y===1?(g=d[b-1],E.push(xt[g>>2]+xt[g<<4&63]+"==")):y===2&&(g=(d[b-2]<<8)+d[b-1],E.push(xt[g>>10]+xt[g>>4&63]+xt[g<<2&63]+"=")),E.join("")}var fe={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */fe.read=function(d,g,b,y,E){var c,s,n=E*8-y-1,a=(1<<n)-1,h=a>>1,S=-7,P=b?E-1:0,U=b?-1:1,M=d[g+P];for(P+=U,c=M&(1<<-S)-1,M>>=-S,S+=n;S>0;c=c*256+d[g+P],P+=U,S-=8);for(s=c&(1<<-S)-1,c>>=-S,S+=y;S>0;s=s*256+d[g+P],P+=U,S-=8);if(c===0)c=1-h;else{if(c===a)return s?NaN:(M?-1:1)*(1/0);s=s+Math.pow(2,y),c=c-h}return(M?-1:1)*s*Math.pow(2,c-y)};fe.write=function(d,g,b,y,E,c){var s,n,a,h=c*8-E-1,S=(1<<h)-1,P=S>>1,U=E===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=y?0:c-1,A=y?1:-1,B=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(n=isNaN(g)?1:0,s=S):(s=Math.floor(Math.log(g)/Math.LN2),g*(a=Math.pow(2,-s))<1&&(s--,a*=2),s+P>=1?g+=U/a:g+=U*Math.pow(2,1-P),g*a>=2&&(s++,a/=2),s+P>=S?(n=0,s=S):s+P>=1?(n=(g*a-1)*Math.pow(2,E),s=s+P):(n=g*Math.pow(2,P-1)*Math.pow(2,E),s=0));E>=8;d[b+M]=n&255,M+=A,n/=256,E-=8);for(s=s<<E|n,h+=E;h>0;d[b+M]=s&255,M+=A,s/=256,h-=8);d[b+M-A]|=B*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(d){const g=Nr,b=fe,y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;d.Buffer=n,d.SlowBuffer=q,d.INSPECT_MAX_BYTES=50;const E=2147483647;d.kMaxLength=E,n.TYPED_ARRAY_SUPPORT=c(),!n.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const u=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(u,e),u.foo()===42}catch{return!1}}Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}});function s(u){if(u>E)throw new RangeError('The value "'+u+'" is invalid for option "size"');const e=new Uint8Array(u);return Object.setPrototypeOf(e,n.prototype),e}function n(u,e,i){if(typeof u=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return P(u)}return a(u,e,i)}n.poolSize=8192;function a(u,e,i){if(typeof u=="string")return U(u,e);if(ArrayBuffer.isView(u))return A(u);if(u==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);if(wt(u,ArrayBuffer)||u&&wt(u.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(wt(u,SharedArrayBuffer)||u&&wt(u.buffer,SharedArrayBuffer)))return B(u,e,i);if(typeof u=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const l=u.valueOf&&u.valueOf();if(l!=null&&l!==u)return n.from(l,e,i);const w=N(u);if(w)return w;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof u[Symbol.toPrimitive]=="function")return n.from(u[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u)}n.from=function(u,e,i){return a(u,e,i)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array);function h(u){if(typeof u!="number")throw new TypeError('"size" argument must be of type number');if(u<0)throw new RangeError('The value "'+u+'" is invalid for option "size"')}function S(u,e,i){return h(u),u<=0?s(u):e!==void 0?typeof i=="string"?s(u).fill(e,i):s(u).fill(e):s(u)}n.alloc=function(u,e,i){return S(u,e,i)};function P(u){return h(u),s(u<0?0:z(u)|0)}n.allocUnsafe=function(u){return P(u)},n.allocUnsafeSlow=function(u){return P(u)};function U(u,e){if((typeof e!="string"||e==="")&&(e="utf8"),!n.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const i=D(u,e)|0;let l=s(i);const w=l.write(u,e);return w!==i&&(l=l.slice(0,w)),l}function M(u){const e=u.length<0?0:z(u.length)|0,i=s(e);for(let l=0;l<e;l+=1)i[l]=u[l]&255;return i}function A(u){if(wt(u,Uint8Array)){const e=new Uint8Array(u);return B(e.buffer,e.byteOffset,e.byteLength)}return M(u)}function B(u,e,i){if(e<0||u.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(u.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');let l;return e===void 0&&i===void 0?l=new Uint8Array(u):i===void 0?l=new Uint8Array(u,e):l=new Uint8Array(u,e,i),Object.setPrototypeOf(l,n.prototype),l}function N(u){if(n.isBuffer(u)){const e=z(u.length)|0,i=s(e);return i.length===0||u.copy(i,0,0,e),i}if(u.length!==void 0)return typeof u.length!="number"||ir(u.length)?s(0):M(u);if(u.type==="Buffer"&&Array.isArray(u.data))return M(u.data)}function z(u){if(u>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return u|0}function q(u){return+u!=u&&(u=0),n.alloc(+u)}n.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==n.prototype},n.compare=function(e,i){if(wt(e,Uint8Array)&&(e=n.from(e,e.offset,e.byteLength)),wt(i,Uint8Array)&&(i=n.from(i,i.offset,i.byteLength)),!n.isBuffer(e)||!n.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===i)return 0;let l=e.length,w=i.length;for(let v=0,k=Math.min(l,w);v<k;++v)if(e[v]!==i[v]){l=e[v],w=i[v];break}return l<w?-1:w<l?1:0},n.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(e,i){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return n.alloc(0);let l;if(i===void 0)for(i=0,l=0;l<e.length;++l)i+=e[l].length;const w=n.allocUnsafe(i);let v=0;for(l=0;l<e.length;++l){let k=e[l];if(wt(k,Uint8Array))v+k.length>w.length?(n.isBuffer(k)||(k=n.from(k)),k.copy(w,v)):Uint8Array.prototype.set.call(w,k,v);else if(n.isBuffer(k))k.copy(w,v);else throw new TypeError('"list" argument must be an Array of Buffers');v+=k.length}return w};function D(u,e){if(n.isBuffer(u))return u.length;if(ArrayBuffer.isView(u)||wt(u,ArrayBuffer))return u.byteLength;if(typeof u!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof u);const i=u.length,l=arguments.length>2&&arguments[2]===!0;if(!l&&i===0)return 0;let w=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return Vt(u).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return pr(u).length;default:if(w)return l?-1:Vt(u).length;e=(""+e).toLowerCase(),w=!0}}n.byteLength=D;function at(u,e,i){let l=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,e>>>=0,i<=e))return"";for(u||(u="utf8");;)switch(u){case"hex":return mr(this,e,i);case"utf8":case"utf-8":return et(this,e,i);case"ascii":return hr(this,e,i);case"latin1":case"binary":return tr(this,e,i);case"base64":return Y(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pt(this,e,i);default:if(l)throw new TypeError("Unknown encoding: "+u);u=(u+"").toLowerCase(),l=!0}}n.prototype._isBuffer=!0;function j(u,e,i){const l=u[e];u[e]=u[i],u[i]=l}n.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<e;i+=2)j(this,i,i+1);return this},n.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<e;i+=4)j(this,i,i+3),j(this,i+1,i+2);return this},n.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<e;i+=8)j(this,i,i+7),j(this,i+1,i+6),j(this,i+2,i+5),j(this,i+3,i+4);return this},n.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?et(this,0,e):at.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(e){if(!n.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:n.compare(this,e)===0},n.prototype.inspect=function(){let e="";const i=d.INSPECT_MAX_BYTES;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},y&&(n.prototype[y]=n.prototype.inspect),n.prototype.compare=function(e,i,l,w,v){if(wt(e,Uint8Array)&&(e=n.from(e,e.offset,e.byteLength)),!n.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(i===void 0&&(i=0),l===void 0&&(l=e?e.length:0),w===void 0&&(w=0),v===void 0&&(v=this.length),i<0||l>e.length||w<0||v>this.length)throw new RangeError("out of range index");if(w>=v&&i>=l)return 0;if(w>=v)return-1;if(i>=l)return 1;if(i>>>=0,l>>>=0,w>>>=0,v>>>=0,this===e)return 0;let k=v-w,T=l-i;const K=Math.min(k,T),H=this.slice(w,v),Q=e.slice(i,l);for(let J=0;J<K;++J)if(H[J]!==Q[J]){k=H[J],T=Q[J];break}return k<T?-1:T<k?1:0};function Dt(u,e,i,l,w){if(u.length===0)return-1;if(typeof i=="string"?(l=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,ir(i)&&(i=w?0:u.length-1),i<0&&(i=u.length+i),i>=u.length){if(w)return-1;i=u.length-1}else if(i<0)if(w)i=0;else return-1;if(typeof e=="string"&&(e=n.from(e,l)),n.isBuffer(e))return e.length===0?-1:zt(u,e,i,l,w);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?w?Uint8Array.prototype.indexOf.call(u,e,i):Uint8Array.prototype.lastIndexOf.call(u,e,i):zt(u,[e],i,l,w);throw new TypeError("val must be string, number or Buffer")}function zt(u,e,i,l,w){let v=1,k=u.length,T=e.length;if(l!==void 0&&(l=String(l).toLowerCase(),l==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(u.length<2||e.length<2)return-1;v=2,k/=2,T/=2,i/=2}function K(Q,J){return v===1?Q[J]:Q.readUInt16BE(J*v)}let H;if(w){let Q=-1;for(H=i;H<k;H++)if(K(u,H)===K(e,Q===-1?0:H-Q)){if(Q===-1&&(Q=H),H-Q+1===T)return Q*v}else Q!==-1&&(H-=H-Q),Q=-1}else for(i+T>k&&(i=k-T),H=i;H>=0;H--){let Q=!0;for(let J=0;J<T;J++)if(K(u,H+J)!==K(e,J)){Q=!1;break}if(Q)return H}return-1}n.prototype.includes=function(e,i,l){return this.indexOf(e,i,l)!==-1},n.prototype.indexOf=function(e,i,l){return Dt(this,e,i,l,!0)},n.prototype.lastIndexOf=function(e,i,l){return Dt(this,e,i,l,!1)};function Xt(u,e,i,l){i=Number(i)||0;const w=u.length-i;l?(l=Number(l),l>w&&(l=w)):l=w;const v=e.length;l>v/2&&(l=v/2);let k;for(k=0;k<l;++k){const T=parseInt(e.substr(k*2,2),16);if(ir(T))return k;u[i+k]=T}return k}function ur(u,e,i,l){return At(Vt(e,u.length-i),u,i,l)}function ot(u,e,i,l){return At(Ir(e),u,i,l)}function V(u,e,i,l){return At(pr(e),u,i,l)}function Jt(u,e,i,l){return At(lr(e,u.length-i),u,i,l)}n.prototype.write=function(e,i,l,w){if(i===void 0)w="utf8",l=this.length,i=0;else if(l===void 0&&typeof i=="string")w=i,l=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(l)?(l=l>>>0,w===void 0&&(w="utf8")):(w=l,l=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const v=this.length-i;if((l===void 0||l>v)&&(l=v),e.length>0&&(l<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");w||(w="utf8");let k=!1;for(;;)switch(w){case"hex":return Xt(this,e,i,l);case"utf8":case"utf-8":return ur(this,e,i,l);case"ascii":case"latin1":case"binary":return ot(this,e,i,l);case"base64":return V(this,e,i,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Jt(this,e,i,l);default:if(k)throw new TypeError("Unknown encoding: "+w);w=(""+w).toLowerCase(),k=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Y(u,e,i){return e===0&&i===u.length?g.fromByteArray(u):g.fromByteArray(u.slice(e,i))}function et(u,e,i){i=Math.min(u.length,i);const l=[];let w=e;for(;w<i;){const v=u[w];let k=null,T=v>239?4:v>223?3:v>191?2:1;if(w+T<=i){let K,H,Q,J;switch(T){case 1:v<128&&(k=v);break;case 2:K=u[w+1],(K&192)===128&&(J=(v&31)<<6|K&63,J>127&&(k=J));break;case 3:K=u[w+1],H=u[w+2],(K&192)===128&&(H&192)===128&&(J=(v&15)<<12|(K&63)<<6|H&63,J>2047&&(J<55296||J>57343)&&(k=J));break;case 4:K=u[w+1],H=u[w+2],Q=u[w+3],(K&192)===128&&(H&192)===128&&(Q&192)===128&&(J=(v&15)<<18|(K&63)<<12|(H&63)<<6|Q&63,J>65535&&J<1114112&&(k=J))}}k===null?(k=65533,T=1):k>65535&&(k-=65536,l.push(k>>>10&1023|55296),k=56320|k&1023),l.push(k),w+=T}return pt(l)}const jt=4096;function pt(u){const e=u.length;if(e<=jt)return String.fromCharCode.apply(String,u);let i="",l=0;for(;l<e;)i+=String.fromCharCode.apply(String,u.slice(l,l+=jt));return i}function hr(u,e,i){let l="";i=Math.min(u.length,i);for(let w=e;w<i;++w)l+=String.fromCharCode(u[w]&127);return l}function tr(u,e,i){let l="";i=Math.min(u.length,i);for(let w=e;w<i;++w)l+=String.fromCharCode(u[w]);return l}function mr(u,e,i){const l=u.length;(!e||e<0)&&(e=0),(!i||i<0||i>l)&&(i=l);let w="";for(let v=e;v<i;++v)w+=Or[u[v]];return w}function Pt(u,e,i){const l=u.slice(e,i);let w="";for(let v=0;v<l.length-1;v+=2)w+=String.fromCharCode(l[v]+l[v+1]*256);return w}n.prototype.slice=function(e,i){const l=this.length;e=~~e,i=i===void 0?l:~~i,e<0?(e+=l,e<0&&(e=0)):e>l&&(e=l),i<0?(i+=l,i<0&&(i=0)):i>l&&(i=l),i<e&&(i=e);const w=this.subarray(e,i);return Object.setPrototypeOf(w,n.prototype),w};function tt(u,e,i){if(u%1!==0||u<0)throw new RangeError("offset is not uint");if(u+e>i)throw new RangeError("Trying to access beyond buffer length")}n.prototype.readUintLE=n.prototype.readUIntLE=function(e,i,l){e=e>>>0,i=i>>>0,l||tt(e,i,this.length);let w=this[e],v=1,k=0;for(;++k<i&&(v*=256);)w+=this[e+k]*v;return w},n.prototype.readUintBE=n.prototype.readUIntBE=function(e,i,l){e=e>>>0,i=i>>>0,l||tt(e,i,this.length);let w=this[e+--i],v=1;for(;i>0&&(v*=256);)w+=this[e+--i]*v;return w},n.prototype.readUint8=n.prototype.readUInt8=function(e,i){return e=e>>>0,i||tt(e,1,this.length),this[e]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(e,i){return e=e>>>0,i||tt(e,2,this.length),this[e]|this[e+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(e,i){return e=e>>>0,i||tt(e,2,this.length),this[e]<<8|this[e+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(e,i){return e=e>>>0,i||tt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(e,i){return e=e>>>0,i||tt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},n.prototype.readBigUInt64LE=dt(function(e){e=e>>>0,It(e,"offset");const i=this[e],l=this[e+7];(i===void 0||l===void 0)&&_t(e,this.length-8);const w=i+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,v=this[++e]+this[++e]*2**8+this[++e]*2**16+l*2**24;return BigInt(w)+(BigInt(v)<<BigInt(32))}),n.prototype.readBigUInt64BE=dt(function(e){e=e>>>0,It(e,"offset");const i=this[e],l=this[e+7];(i===void 0||l===void 0)&&_t(e,this.length-8);const w=i*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],v=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+l;return(BigInt(w)<<BigInt(32))+BigInt(v)}),n.prototype.readIntLE=function(e,i,l){e=e>>>0,i=i>>>0,l||tt(e,i,this.length);let w=this[e],v=1,k=0;for(;++k<i&&(v*=256);)w+=this[e+k]*v;return v*=128,w>=v&&(w-=Math.pow(2,8*i)),w},n.prototype.readIntBE=function(e,i,l){e=e>>>0,i=i>>>0,l||tt(e,i,this.length);let w=i,v=1,k=this[e+--w];for(;w>0&&(v*=256);)k+=this[e+--w]*v;return v*=128,k>=v&&(k-=Math.pow(2,8*i)),k},n.prototype.readInt8=function(e,i){return e=e>>>0,i||tt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},n.prototype.readInt16LE=function(e,i){e=e>>>0,i||tt(e,2,this.length);const l=this[e]|this[e+1]<<8;return l&32768?l|4294901760:l},n.prototype.readInt16BE=function(e,i){e=e>>>0,i||tt(e,2,this.length);const l=this[e+1]|this[e]<<8;return l&32768?l|4294901760:l},n.prototype.readInt32LE=function(e,i){return e=e>>>0,i||tt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},n.prototype.readInt32BE=function(e,i){return e=e>>>0,i||tt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},n.prototype.readBigInt64LE=dt(function(e){e=e>>>0,It(e,"offset");const i=this[e],l=this[e+7];(i===void 0||l===void 0)&&_t(e,this.length-8);const w=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(l<<24);return(BigInt(w)<<BigInt(32))+BigInt(i+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),n.prototype.readBigInt64BE=dt(function(e){e=e>>>0,It(e,"offset");const i=this[e],l=this[e+7];(i===void 0||l===void 0)&&_t(e,this.length-8);const w=(i<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(w)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+l)}),n.prototype.readFloatLE=function(e,i){return e=e>>>0,i||tt(e,4,this.length),b.read(this,e,!0,23,4)},n.prototype.readFloatBE=function(e,i){return e=e>>>0,i||tt(e,4,this.length),b.read(this,e,!1,23,4)},n.prototype.readDoubleLE=function(e,i){return e=e>>>0,i||tt(e,8,this.length),b.read(this,e,!0,52,8)},n.prototype.readDoubleBE=function(e,i){return e=e>>>0,i||tt(e,8,this.length),b.read(this,e,!1,52,8)};function it(u,e,i,l,w,v){if(!n.isBuffer(u))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>w||e<v)throw new RangeError('"value" argument is out of bounds');if(i+l>u.length)throw new RangeError("Index out of range")}n.prototype.writeUintLE=n.prototype.writeUIntLE=function(e,i,l,w){if(e=+e,i=i>>>0,l=l>>>0,!w){const T=Math.pow(2,8*l)-1;it(this,e,i,l,T,0)}let v=1,k=0;for(this[i]=e&255;++k<l&&(v*=256);)this[i+k]=e/v&255;return i+l},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(e,i,l,w){if(e=+e,i=i>>>0,l=l>>>0,!w){const T=Math.pow(2,8*l)-1;it(this,e,i,l,T,0)}let v=l-1,k=1;for(this[i+v]=e&255;--v>=0&&(k*=256);)this[i+v]=e/k&255;return i+l},n.prototype.writeUint8=n.prototype.writeUInt8=function(e,i,l){return e=+e,i=i>>>0,l||it(this,e,i,1,255,0),this[i]=e&255,i+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(e,i,l){return e=+e,i=i>>>0,l||it(this,e,i,2,65535,0),this[i]=e&255,this[i+1]=e>>>8,i+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(e,i,l){return e=+e,i=i>>>0,l||it(this,e,i,2,65535,0),this[i]=e>>>8,this[i+1]=e&255,i+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(e,i,l){return e=+e,i=i>>>0,l||it(this,e,i,4,4294967295,0),this[i+3]=e>>>24,this[i+2]=e>>>16,this[i+1]=e>>>8,this[i]=e&255,i+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(e,i,l){return e=+e,i=i>>>0,l||it(this,e,i,4,4294967295,0),this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=e&255,i+4};function rr(u,e,i,l,w){yt(e,l,w,u,i,7);let v=Number(e&BigInt(4294967295));u[i++]=v,v=v>>8,u[i++]=v,v=v>>8,u[i++]=v,v=v>>8,u[i++]=v;let k=Number(e>>BigInt(32)&BigInt(4294967295));return u[i++]=k,k=k>>8,u[i++]=k,k=k>>8,u[i++]=k,k=k>>8,u[i++]=k,i}function br(u,e,i,l,w){yt(e,l,w,u,i,7);let v=Number(e&BigInt(4294967295));u[i+7]=v,v=v>>8,u[i+6]=v,v=v>>8,u[i+5]=v,v=v>>8,u[i+4]=v;let k=Number(e>>BigInt(32)&BigInt(4294967295));return u[i+3]=k,k=k>>8,u[i+2]=k,k=k>>8,u[i+1]=k,k=k>>8,u[i]=k,i+8}n.prototype.writeBigUInt64LE=dt(function(e,i=0){return rr(this,e,i,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=dt(function(e,i=0){return br(this,e,i,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(e,i,l,w){if(e=+e,i=i>>>0,!w){const K=Math.pow(2,8*l-1);it(this,e,i,l,K-1,-K)}let v=0,k=1,T=0;for(this[i]=e&255;++v<l&&(k*=256);)e<0&&T===0&&this[i+v-1]!==0&&(T=1),this[i+v]=(e/k>>0)-T&255;return i+l},n.prototype.writeIntBE=function(e,i,l,w){if(e=+e,i=i>>>0,!w){const K=Math.pow(2,8*l-1);it(this,e,i,l,K-1,-K)}let v=l-1,k=1,T=0;for(this[i+v]=e&255;--v>=0&&(k*=256);)e<0&&T===0&&this[i+v+1]!==0&&(T=1),this[i+v]=(e/k>>0)-T&255;return i+l},n.prototype.writeInt8=function(e,i,l){return e=+e,i=i>>>0,l||it(this,e,i,1,127,-128),e<0&&(e=255+e+1),this[i]=e&255,i+1},n.prototype.writeInt16LE=function(e,i,l){return e=+e,i=i>>>0,l||it(this,e,i,2,32767,-32768),this[i]=e&255,this[i+1]=e>>>8,i+2},n.prototype.writeInt16BE=function(e,i,l){return e=+e,i=i>>>0,l||it(this,e,i,2,32767,-32768),this[i]=e>>>8,this[i+1]=e&255,i+2},n.prototype.writeInt32LE=function(e,i,l){return e=+e,i=i>>>0,l||it(this,e,i,4,2147483647,-2147483648),this[i]=e&255,this[i+1]=e>>>8,this[i+2]=e>>>16,this[i+3]=e>>>24,i+4},n.prototype.writeInt32BE=function(e,i,l){return e=+e,i=i>>>0,l||it(this,e,i,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=e&255,i+4},n.prototype.writeBigInt64LE=dt(function(e,i=0){return rr(this,e,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=dt(function(e,i=0){return br(this,e,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function _r(u,e,i,l,w,v){if(i+l>u.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function Er(u,e,i,l,w){return e=+e,i=i>>>0,w||_r(u,e,i,4),b.write(u,e,i,l,23,4),i+4}n.prototype.writeFloatLE=function(e,i,l){return Er(this,e,i,!0,l)},n.prototype.writeFloatBE=function(e,i,l){return Er(this,e,i,!1,l)};function er(u,e,i,l,w){return e=+e,i=i>>>0,w||_r(u,e,i,8),b.write(u,e,i,l,52,8),i+8}n.prototype.writeDoubleLE=function(e,i,l){return er(this,e,i,!0,l)},n.prototype.writeDoubleBE=function(e,i,l){return er(this,e,i,!1,l)},n.prototype.copy=function(e,i,l,w){if(!n.isBuffer(e))throw new TypeError("argument should be a Buffer");if(l||(l=0),!w&&w!==0&&(w=this.length),i>=e.length&&(i=e.length),i||(i=0),w>0&&w<l&&(w=l),w===l||e.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("sourceEnd out of bounds");w>this.length&&(w=this.length),e.length-i<w-l&&(w=e.length-i+l);const v=w-l;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,l,w):Uint8Array.prototype.set.call(e,this.subarray(l,w),i),v},n.prototype.fill=function(e,i,l,w){if(typeof e=="string"){if(typeof i=="string"?(w=i,i=0,l=this.length):typeof l=="string"&&(w=l,l=this.length),w!==void 0&&typeof w!="string")throw new TypeError("encoding must be a string");if(typeof w=="string"&&!n.isEncoding(w))throw new TypeError("Unknown encoding: "+w);if(e.length===1){const k=e.charCodeAt(0);(w==="utf8"&&k<128||w==="latin1")&&(e=k)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(i<0||this.length<i||this.length<l)throw new RangeError("Out of range index");if(l<=i)return this;i=i>>>0,l=l===void 0?this.length:l>>>0,e||(e=0);let v;if(typeof e=="number")for(v=i;v<l;++v)this[v]=e;else{const k=n.isBuffer(e)?e:n.from(e,w),T=k.length;if(T===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(v=0;v<l-i;++v)this[v+i]=k[v%T]}return this};const Tt={};function nr(u,e,i){Tt[u]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${u}]`,this.stack,delete this.name}get code(){return u}set code(w){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:w,writable:!0})}toString(){return`${this.name} [${u}]: ${this.message}`}}}nr("ERR_BUFFER_OUT_OF_BOUNDS",function(u){return u?`${u} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),nr("ERR_INVALID_ARG_TYPE",function(u,e){return`The "${u}" argument must be of type number. Received type ${typeof e}`},TypeError),nr("ERR_OUT_OF_RANGE",function(u,e,i){let l=`The value of "${u}" is out of range.`,w=i;return Number.isInteger(i)&&Math.abs(i)>2**32?w=fr(String(i)):typeof i=="bigint"&&(w=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(w=fr(w)),w+="n"),l+=` It must be ${e}. Received ${w}`,l},RangeError);function fr(u){let e="",i=u.length;const l=u[0]==="-"?1:0;for(;i>=l+4;i-=3)e=`_${u.slice(i-3,i)}${e}`;return`${u.slice(0,i)}${e}`}function Fr(u,e,i){It(e,"offset"),(u[e]===void 0||u[e+i]===void 0)&&_t(e,u.length-(i+1))}function yt(u,e,i,l,w,v){if(u>i||u<e){const k=typeof e=="bigint"?"n":"";let T;throw e===0||e===BigInt(0)?T=`>= 0${k} and < 2${k} ** ${(v+1)*8}${k}`:T=`>= -(2${k} ** ${(v+1)*8-1}${k}) and < 2 ** ${(v+1)*8-1}${k}`,new Tt.ERR_OUT_OF_RANGE("value",T,u)}Fr(l,w,v)}function It(u,e){if(typeof u!="number")throw new Tt.ERR_INVALID_ARG_TYPE(e,"number",u)}function _t(u,e,i){throw Math.floor(u)!==u?(It(u,i),new Tt.ERR_OUT_OF_RANGE("offset","an integer",u)):e<0?new Tt.ERR_BUFFER_OUT_OF_BOUNDS:new Tt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,u)}const vr=/[^+/0-9A-Za-z-_]/g;function rt(u){if(u=u.split("=")[0],u=u.trim().replace(vr,""),u.length<2)return"";for(;u.length%4!==0;)u=u+"=";return u}function Vt(u,e){e=e||1/0;let i;const l=u.length;let w=null;const v=[];for(let k=0;k<l;++k){if(i=u.charCodeAt(k),i>55295&&i<57344){if(!w){if(i>56319){(e-=3)>-1&&v.push(239,191,189);continue}else if(k+1===l){(e-=3)>-1&&v.push(239,191,189);continue}w=i;continue}if(i<56320){(e-=3)>-1&&v.push(239,191,189),w=i;continue}i=(w-55296<<10|i-56320)+65536}else w&&(e-=3)>-1&&v.push(239,191,189);if(w=null,i<128){if((e-=1)<0)break;v.push(i)}else if(i<2048){if((e-=2)<0)break;v.push(i>>6|192,i&63|128)}else if(i<65536){if((e-=3)<0)break;v.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((e-=4)<0)break;v.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return v}function Ir(u){const e=[];for(let i=0;i<u.length;++i)e.push(u.charCodeAt(i)&255);return e}function lr(u,e){let i,l,w;const v=[];for(let k=0;k<u.length&&!((e-=2)<0);++k)i=u.charCodeAt(k),l=i>>8,w=i%256,v.push(w),v.push(l);return v}function pr(u){return g.toByteArray(rt(u))}function At(u,e,i,l){let w;for(w=0;w<l&&!(w+i>=e.length||w>=u.length);++w)e[w+i]=u[w];return w}function wt(u,e){return u instanceof e||u!=null&&u.constructor!=null&&u.constructor.name!=null&&u.constructor.name===e.name}function ir(u){return u!==u}const Or=function(){const u="0123456789abcdef",e=new Array(256);for(let i=0;i<16;++i){const l=i*16;for(let w=0;w<16;++w)e[l+w]=u[i]+u[w]}return e}();function dt(u){return typeof BigInt>"u"?Yt:u}function Yt(){throw new Error("BigInt not supported")}})(Qe);var je={exports:{}},si={},ai=Object.freeze({__proto__:null,default:si}),Ut=Qn(ai);(function(d,g){var b=void 0,y=function(E){return b||(b=new Promise(function(c,s){var n=typeof E<"u"?E:{},a=n.onAbort;n.onAbort=function(t){s(new Error(t)),a&&a(t)},n.postRun=n.postRun||[],n.postRun.push(function(){c(n)}),d=void 0;var h;h||(h=typeof n<"u"?n:{});var S=typeof window=="object",P=typeof WorkerGlobalScope<"u",U=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";h.onRuntimeInitialized=function(){function t(m,x){switch(typeof x){case"boolean":Vn(m,x?1:0);break;case"number":Dn(m,x);break;case"string":zn(m,x,-1,-1);break;case"object":if(x===null)We(m);else if(x.length!=null){var L=Rr(x,Ar);Jn(m,L,x.length,-1),Ur(L)}else Lr(m,"Wrong API use : tried to return a value of an unknown type ("+x+").",-1);break;default:We(m)}}function r(m,x){for(var L=[],W=0;W<m;W+=1){var Z=yt(x+4*W,"i32"),$=Wn(Z);if($===1||$===2)Z=Gn(Z);else if($===3)Z=qn(Z);else if($===4){$=Z,Z=Zn($),$=Cn($);for(var Et=new Uint8Array(Z),mt=0;mt<Z;mt+=1)Et[mt]=ot[$+mt];Z=Et}else Z=null;L.push(Z)}return L}function o(m,x){this.Qa=m,this.db=x,this.Oa=1,this.lb=[]}function f(m,x){if(this.db=x,x=Yt(m)+1,this.eb=Kr(x),this.eb===null)throw Error("Unable to allocate memory for the SQL string");u(m,V,this.eb,x),this.kb=this.eb,this.Za=this.pb=null}function p(m){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),m!=null){var x=this.filename,L="/",W=x;if(L&&(L=typeof L=="string"?L:Wr(L),W=x?lr(L+"/"+x):L),x=K(!0,!0),W=yn(W,x),m){if(typeof m=="string"){L=Array(m.length);for(var Z=0,$=m.length;Z<$;++Z)L[Z]=m.charCodeAt(Z);m=L}Sr(W,x|146),L=sr(W,577),Be(L,m,0,m.length,0),zr(L),Sr(W,x)}}this.handleError(F(this.filename,_)),this.db=yt(_,"i32"),qe(this.db),this.fb={},this.Sa={}}var _=Ot(4),I=h.cwrap,F=I("sqlite3_open","number",["string","number"]),G=I("sqlite3_close_v2","number",["number"]),C=I("sqlite3_exec","number",["number","string","number","number","number"]),nt=I("sqlite3_changes","number",["number"]),ft=I("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Ue=I("sqlite3_sql","string",["number"]),En=I("sqlite3_normalized_sql","string",["number"]),Le=I("sqlite3_prepare_v2","number",["number","number","number","number","number"]),vn=I("sqlite3_bind_text","number",["number","number","number","number","number"]),Ne=I("sqlite3_bind_blob","number",["number","number","number","number","number"]),In=I("sqlite3_bind_double","number",["number","number","number"]),kn=I("sqlite3_bind_int","number",["number","number","number"]),xn=I("sqlite3_bind_parameter_index","number",["number","string"]),Mn=I("sqlite3_step","number",["number"]),Sn=I("sqlite3_errmsg","string",["number"]),Bn=I("sqlite3_column_count","number",["number"]),Pn=I("sqlite3_data_count","number",["number"]),Tn=I("sqlite3_column_double","number",["number","number"]),Fe=I("sqlite3_column_text","string",["number","number"]),An=I("sqlite3_column_blob","number",["number","number"]),Rn=I("sqlite3_column_bytes","number",["number","number"]),Un=I("sqlite3_column_type","number",["number","number"]),Ln=I("sqlite3_column_name","string",["number","number"]),Nn=I("sqlite3_reset","number",["number"]),Fn=I("sqlite3_clear_bindings","number",["number"]),On=I("sqlite3_finalize","number",["number"]),Oe=I("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Wn=I("sqlite3_value_type","number",["number"]),Zn=I("sqlite3_value_bytes","number",["number"]),qn=I("sqlite3_value_text","string",["number"]),Cn=I("sqlite3_value_blob","number",["number"]),Gn=I("sqlite3_value_double","number",["number"]),Dn=I("sqlite3_result_double","",["number","number"]),We=I("sqlite3_result_null","",["number"]),zn=I("sqlite3_result_text","",["number","string","number","number"]),Jn=I("sqlite3_result_blob","",["number","number","number","number"]),Vn=I("sqlite3_result_int","",["number","number"]),Lr=I("sqlite3_result_error","",["number","string","number"]),Ze=I("sqlite3_aggregate_context","number",["number","number"]),qe=I("RegisterExtensionFunctions","number",["number"]),Ce=I("sqlite3_update_hook","number",["number","number","number"]);o.prototype.bind=function(m){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(m)?this.Cb(m):m!=null&&typeof m=="object"?this.Db(m):!0},o.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var m=Mn(this.Qa);switch(m){case 100:return!0;case 101:return!1;default:throw this.db.handleError(m)}},o.prototype.wb=function(m){return m==null&&(m=this.Oa,this.Oa+=1),Tn(this.Qa,m)},o.prototype.Gb=function(m){if(m==null&&(m=this.Oa,this.Oa+=1),m=Fe(this.Qa,m),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(m)},o.prototype.Hb=function(m){return m==null&&(m=this.Oa,this.Oa+=1),Fe(this.Qa,m)},o.prototype.getBlob=function(m){m==null&&(m=this.Oa,this.Oa+=1);var x=Rn(this.Qa,m);m=An(this.Qa,m);for(var L=new Uint8Array(x),W=0;W<x;W+=1)L[W]=ot[m+W];return L},o.prototype.get=function(m,x){x=x||{},m!=null&&this.bind(m)&&this.step(),m=[];for(var L=Pn(this.Qa),W=0;W<L;W+=1)switch(Un(this.Qa,W)){case 1:var Z=x.useBigInt?this.Gb(W):this.wb(W);m.push(Z);break;case 2:m.push(this.wb(W));break;case 3:m.push(this.Hb(W));break;case 4:m.push(this.getBlob(W));break;default:m.push(null)}return m},o.prototype.getColumnNames=function(){for(var m=[],x=Bn(this.Qa),L=0;L<x;L+=1)m.push(Ln(this.Qa,L));return m},o.prototype.getAsObject=function(m,x){m=this.get(m,x),x=this.getColumnNames();for(var L={},W=0;W<x.length;W+=1)L[x[W]]=m[W];return L},o.prototype.getSQL=function(){return Ue(this.Qa)},o.prototype.getNormalizedSQL=function(){return En(this.Qa)},o.prototype.run=function(m){return m!=null&&this.bind(m),this.step(),this.reset()},o.prototype.sb=function(m,x){x==null&&(x=this.Oa,this.Oa+=1),m=e(m);var L=Rr(m,Ar);this.lb.push(L),this.db.handleError(vn(this.Qa,x,L,m.length-1,0))},o.prototype.Bb=function(m,x){x==null&&(x=this.Oa,this.Oa+=1);var L=Rr(m,Ar);this.lb.push(L),this.db.handleError(Ne(this.Qa,x,L,m.length,0))},o.prototype.rb=function(m,x){x==null&&(x=this.Oa,this.Oa+=1),this.db.handleError((m===(m|0)?kn:In)(this.Qa,x,m))},o.prototype.Eb=function(m){m==null&&(m=this.Oa,this.Oa+=1),Ne(this.Qa,m,0,0,0)},o.prototype.tb=function(m,x){switch(x==null&&(x=this.Oa,this.Oa+=1),typeof m){case"string":this.sb(m,x);return;case"number":this.rb(m,x);return;case"bigint":this.sb(m.toString(),x);return;case"boolean":this.rb(m+0,x);return;case"object":if(m===null){this.Eb(x);return}if(m.length!=null){this.Bb(m,x);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+m+")."},o.prototype.Db=function(m){var x=this;return Object.keys(m).forEach(function(L){var W=xn(x.Qa,L);W!==0&&x.tb(m[L],W)}),!0},o.prototype.Cb=function(m){for(var x=0;x<m.length;x+=1)this.tb(m[x],x+1);return!0},o.prototype.reset=function(){return this.freemem(),Fn(this.Qa)===0&&Nn(this.Qa)===0},o.prototype.freemem=function(){for(var m;(m=this.lb.pop())!==void 0;)Ur(m)},o.prototype.free=function(){this.freemem();var m=On(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,m},f.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var m=gr(),x=Ot(4);_t(_),_t(x);try{this.db.handleError(Le(this.db.db,this.kb,-1,_,x)),this.kb=yt(x,"i32");var L=yt(_,"i32");return L===0?(this.mb(),{done:!0}):(this.Za=new o(L,this.db),this.db.fb[L]=this.Za,{value:this.Za,done:!1})}catch(W){throw this.pb=Vt(this.kb),this.mb(),W}finally{dr(m)}},f.prototype.mb=function(){Ur(this.eb),this.eb=null},f.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:Vt(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(f.prototype[Symbol.iterator]=function(){return this}),p.prototype.run=function(m,x){if(!this.db)throw"Database closed";if(x){m=this.prepare(m,x);try{m.step()}finally{m.free()}}else this.handleError(C(this.db,m,0,0,_));return this},p.prototype.exec=function(m,x,L){if(!this.db)throw"Database closed";var W=gr(),Z=null;try{var $=$r(m),Et=Ot(4);for(m=[];yt($,"i8")!==0;){_t(_),_t(Et),this.handleError(Le(this.db,$,-1,_,Et));var mt=yt(_,"i32");if($=yt(Et,"i32"),mt!==0){var ct=null;for(Z=new o(mt,this),x!=null&&Z.bind(x);Z.step();)ct===null&&(ct={columns:Z.getColumnNames(),values:[]},m.push(ct)),ct.values.push(Z.get(null,L));Z.free()}}return m}catch(vt){throw Z&&Z.free(),vt}finally{dr(W)}},p.prototype.each=function(m,x,L,W,Z){typeof x=="function"&&(W=L,L=x,x=void 0),m=this.prepare(m,x);try{for(;m.step();)L(m.getAsObject(null,Z))}finally{m.free()}if(typeof W=="function")return W()},p.prototype.prepare=function(m,x){if(_t(_),this.handleError(ft(this.db,m,-1,_,0)),m=yt(_,"i32"),m===0)throw"Nothing to prepare";var L=new o(m,this);return x!=null&&L.bind(x),this.fb[m]=L},p.prototype.iterateStatements=function(m){return new f(m,this)},p.prototype.export=function(){Object.values(this.fb).forEach(function(x){x.free()}),Object.values(this.Sa).forEach(Ft),this.Sa={},this.handleError(G(this.db));var m=wn(this.filename);return this.handleError(F(this.filename,_)),this.db=yt(_,"i32"),qe(this.db),m},p.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(m){m.free()}),Object.values(this.Sa).forEach(Ft),this.Sa={},this.Ya&&(Ft(this.Ya),this.Ya=void 0),this.handleError(G(this.db)),Ie("/"+this.filename),this.db=null)},p.prototype.handleError=function(m){if(m===0)return null;throw m=Sn(this.db),Error(m)},p.prototype.getRowsModified=function(){return nt(this.db)},p.prototype.create_function=function(m,x){Object.prototype.hasOwnProperty.call(this.Sa,m)&&(Ft(this.Sa[m]),delete this.Sa[m]);var L=wr(function(W,Z,$){Z=r(Z,$);try{var Et=x.apply(null,Z)}catch(mt){Lr(W,mt,-1);return}t(W,Et)},"viii");return this.Sa[m]=L,this.handleError(Oe(this.db,m,x.length,1,0,L,0,0,0)),this},p.prototype.create_aggregate=function(m,x){var L=x.init||function(){return null},W=x.finalize||function(ct){return ct},Z=x.step;if(!Z)throw"An aggregate function must have a step function in "+m;var $={};Object.hasOwnProperty.call(this.Sa,m)&&(Ft(this.Sa[m]),delete this.Sa[m]),x=m+"__finalize",Object.hasOwnProperty.call(this.Sa,x)&&(Ft(this.Sa[x]),delete this.Sa[x]);var Et=wr(function(ct,vt,Xr){var Qt=Ze(ct,1);Object.hasOwnProperty.call($,Qt)||($[Qt]=L()),vt=r(vt,Xr),vt=[$[Qt]].concat(vt);try{$[Qt]=Z.apply(null,vt)}catch(Yn){delete $[Qt],Lr(ct,Yn,-1)}},"viii"),mt=wr(function(ct){var vt=Ze(ct,1);try{var Xr=W($[vt])}catch(Qt){delete $[vt],Lr(ct,Qt,-1);return}t(ct,Xr),delete $[vt]},"vi");return this.Sa[m]=Et,this.Sa[x]=mt,this.handleError(Oe(this.db,m,Z.length-1,1,0,0,Et,mt,0)),this},p.prototype.updateHook=function(m){this.Ya&&(Ce(this.db,0,0),Ft(this.Ya),this.Ya=void 0),m&&(this.Ya=wr(function(x,L,W,Z,$){switch(L){case 18:x="insert";break;case 23:x="update";break;case 9:x="delete";break;default:throw"unknown operationCode in updateHook callback: "+L}if(W=W?rt(V,W):"",Z=Z?rt(V,Z):"",$>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";m(x,W,Z,Number($))},"viiiij"),Ce(this.db,this.Ya,0))},h.Database=p};var M={...h},A="./this.program",B=(t,r)=>{throw r},N="",z,q;if(U){var D=Ut;N=__dirname+"/",q=t=>(t=tr(t)?new URL(t):t,D.readFileSync(t)),z=async t=>(t=tr(t)?new URL(t):t,D.readFileSync(t,void 0)),!h.thisProgram&&1<process.argv.length&&(A=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),d.exports=h,B=(t,r)=>{throw process.exitCode=t,r}}else(S||P)&&(P?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),N=N.startsWith("blob:")?"":N.slice(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1),P&&(q=t=>{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),z=async t=>{if(tr(t))return new Promise((o,f)=>{var p=new XMLHttpRequest;p.open("GET",t,!0),p.responseType="arraybuffer",p.onload=()=>{p.status==200||p.status==0&&p.response?o(p.response):f(p.status)},p.onerror=f,p.send(null)});var r=await fetch(t,{credentials:"same-origin"});if(r.ok)return r.arrayBuffer();throw Error(r.status+" : "+r.url)});var at=h.print||console.log.bind(console),j=h.printErr||console.error.bind(console);Object.assign(h,M),M=null,h.thisProgram&&(A=h.thisProgram);var Dt=h.wasmBinary,zt,Xt=!1,ur,ot,V,Jt,Y,et,jt,pt,hr,tr=t=>t.startsWith("file://");function mr(){var t=zt.buffer;h.HEAP8=ot=new Int8Array(t),h.HEAP16=Jt=new Int16Array(t),h.HEAPU8=V=new Uint8Array(t),h.HEAPU16=new Uint16Array(t),h.HEAP32=Y=new Int32Array(t),h.HEAPU32=et=new Uint32Array(t),h.HEAPF32=jt=new Float32Array(t),h.HEAPF64=hr=new Float64Array(t),h.HEAP64=pt=new BigInt64Array(t),h.HEAPU64=new BigUint64Array(t)}var Pt=0,tt=null;function it(t){var r;throw(r=h.onAbort)==null||r.call(h,t),t="Aborted("+t+")",j(t),Xt=!0,new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info.")}var rr;async function br(t){if(!Dt)try{var r=await z(t);return new Uint8Array(r)}catch{}if(t==rr&&Dt)t=new Uint8Array(Dt);else if(q)t=q(t);else throw"both async and sync fetching of the wasm failed";return t}async function _r(t,r){try{var o=await br(t);return await WebAssembly.instantiate(o,r)}catch(f){j(`failed to asynchronously prepare wasm: ${f}`),it(f)}}async function Er(t){var r=rr;if(!Dt&&typeof WebAssembly.instantiateStreaming=="function"&&!tr(r)&&!U)try{var o=fetch(r,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(o,t)}catch(f){j(`wasm streaming compile failed: ${f}`),j("falling back to ArrayBuffer instantiation")}return _r(r,t)}class er{constructor(r){Wt(this,"name","ExitStatus");this.message=`Program terminated with exit(${r})`,this.status=r}}var Tt=t=>{for(;0<t.length;)t.shift()(h)},nr=[],fr=[],Fr=()=>{var t=h.preRun.shift();fr.unshift(t)};function yt(t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":return ot[t];case"i8":return ot[t];case"i16":return Jt[t>>1];case"i32":return Y[t>>2];case"i64":return pt[t>>3];case"float":return jt[t>>2];case"double":return hr[t>>3];case"*":return et[t>>2];default:it(`invalid type for getValue: ${r}`)}}var It=h.noExitRuntime||!0;function _t(t){var r="i32";switch(r.endsWith("*")&&(r="*"),r){case"i1":ot[t]=0;break;case"i8":ot[t]=0;break;case"i16":Jt[t>>1]=0;break;case"i32":Y[t>>2]=0;break;case"i64":pt[t>>3]=BigInt(0);break;case"float":jt[t>>2]=0;break;case"double":hr[t>>3]=0;break;case"*":et[t>>2]=0;break;default:it(`invalid type for setValue: ${r}`)}}var vr=typeof TextDecoder<"u"?new TextDecoder:void 0,rt=(t,r=0,o=NaN)=>{var f=r+o;for(o=r;t[o]&&!(o>=f);)++o;if(16<o-r&&t.buffer&&vr)return vr.decode(t.subarray(r,o));for(f="";r<o;){var p=t[r++];if(p&128){var _=t[r++]&63;if((p&224)==192)f+=String.fromCharCode((p&31)<<6|_);else{var I=t[r++]&63;p=(p&240)==224?(p&15)<<12|_<<6|I:(p&7)<<18|_<<12|I<<6|t[r++]&63,65536>p?f+=String.fromCharCode(p):(p-=65536,f+=String.fromCharCode(55296|p>>10,56320|p&1023))}}else f+=String.fromCharCode(p)}return f},Vt=(t,r)=>t?rt(V,t,r):"",Ir=(t,r)=>{for(var o=0,f=t.length-1;0<=f;f--){var p=t[f];p==="."?t.splice(f,1):p===".."?(t.splice(f,1),o++):o&&(t.splice(f,1),o--)}if(r)for(;o;o--)t.unshift("..");return t},lr=t=>{var r=t.charAt(0)==="/",o=t.slice(-1)==="/";return(t=Ir(t.split("/").filter(f=>!!f),!r).join("/"))||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},pr=t=>{var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=r[0],r=r[1],!t&&!r?".":(r&&(r=r.slice(0,-1)),t+r)},At=t=>t&&t.match(/([^\/]+|\/)\/*$/)[1],wt=()=>{if(U){var t=Ut;return r=>t.randomFillSync(r)}return r=>crypto.getRandomValues(r)},ir=t=>{(ir=wt())(t)},Or=(...t)=>{for(var r="",o=!1,f=t.length-1;-1<=f&&!o;f--){if(o=0<=f?t[f]:"/",typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)return"";r=o+"/"+r,o=o.charAt(0)==="/"}return r=Ir(r.split("/").filter(p=>!!p),!o).join("/"),(o?"/":"")+r||"."},dt=[],Yt=t=>{for(var r=0,o=0;o<t.length;++o){var f=t.charCodeAt(o);127>=f?r++:2047>=f?r+=2:55296<=f&&57343>=f?(r+=4,++o):r+=3}return r},u=(t,r,o,f)=>{if(!(0<f))return 0;var p=o;f=o+f-1;for(var _=0;_<t.length;++_){var I=t.charCodeAt(_);if(55296<=I&&57343>=I){var F=t.charCodeAt(++_);I=65536+((I&1023)<<10)|F&1023}if(127>=I){if(o>=f)break;r[o++]=I}else{if(2047>=I){if(o+1>=f)break;r[o++]=192|I>>6}else{if(65535>=I){if(o+2>=f)break;r[o++]=224|I>>12}else{if(o+3>=f)break;r[o++]=240|I>>18,r[o++]=128|I>>12&63}r[o++]=128|I>>6&63}r[o++]=128|I&63}}return r[o]=0,o-p},e=(t,r)=>{var o=Array(Yt(t)+1);return t=u(t,o,0,o.length),r&&(o.length=t),o},i=[];function l(t,r){i[t]={input:[],output:[],cb:r},Gr(t,w)}var w={open(t){var r=i[t.node.rdev];if(!r)throw new R(43);t.tty=r,t.seekable=!1},close(t){t.tty.cb.fsync(t.tty)},fsync(t){t.tty.cb.fsync(t.tty)},read(t,r,o,f){if(!t.tty||!t.tty.cb.xb)throw new R(60);for(var p=0,_=0;_<f;_++){try{var I=t.tty.cb.xb(t.tty)}catch{throw new R(29)}if(I===void 0&&p===0)throw new R(6);if(I==null)break;p++,r[o+_]=I}return p&&(t.node.atime=Date.now()),p},write(t,r,o,f){if(!t.tty||!t.tty.cb.qb)throw new R(60);try{for(var p=0;p<f;p++)t.tty.cb.qb(t.tty,r[o+p])}catch{throw new R(29)}return f&&(t.node.mtime=t.node.ctime=Date.now()),p}},v={xb(){t:{if(!dt.length){var t=null;if(U){var r=Buffer.alloc(256),o=0,f=process.stdin.fd;try{o=D.readSync(f,r,0,256)}catch(p){if(p.toString().includes("EOF"))o=0;else throw p}0<o&&(t=r.slice(0,o).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(t=window.prompt("Input: "),t!==null&&(t+=`
`));if(!t){t=null;break t}dt=e(t,!0)}t=dt.shift()}return t},qb(t,r){r===null||r===10?(at(rt(t.output)),t.output=[]):r!=0&&t.output.push(r)},fsync(t){var r;0<((r=t.output)==null?void 0:r.length)&&(at(rt(t.output)),t.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},k={qb(t,r){r===null||r===10?(j(rt(t.output)),t.output=[]):r!=0&&t.output.push(r)},fsync(t){var r;0<((r=t.output)==null?void 0:r.length)&&(j(rt(t.output)),t.output=[])}},T={Wa:null,Xa(){return T.createNode(null,"/",16895,0)},createNode(t,r,o,f){if((o&61440)===24576||(o&61440)===4096)throw new R(63);return T.Wa||(T.Wa={dir:{node:{Ta:T.La.Ta,Ua:T.La.Ua,lookup:T.La.lookup,hb:T.La.hb,rename:T.La.rename,unlink:T.La.unlink,rmdir:T.La.rmdir,readdir:T.La.readdir,symlink:T.La.symlink},stream:{Va:T.Ma.Va}},file:{node:{Ta:T.La.Ta,Ua:T.La.Ua},stream:{Va:T.Ma.Va,read:T.Ma.read,write:T.Ma.write,ib:T.Ma.ib,jb:T.Ma.jb}},link:{node:{Ta:T.La.Ta,Ua:T.La.Ua,readlink:T.La.readlink},stream:{}},ub:{node:{Ta:T.La.Ta,Ua:T.La.Ua},stream:cn}}),o=de(t,r,o,f),ht(o.mode)?(o.La=T.Wa.dir.node,o.Ma=T.Wa.dir.stream,o.Na={}):(o.mode&61440)===32768?(o.La=T.Wa.file.node,o.Ma=T.Wa.file.stream,o.Ra=0,o.Na=null):(o.mode&61440)===40960?(o.La=T.Wa.link.node,o.Ma=T.Wa.link.stream):(o.mode&61440)===8192&&(o.La=T.Wa.ub.node,o.Ma=T.Wa.ub.stream),o.atime=o.mtime=o.ctime=Date.now(),t&&(t.Na[r]=o,t.atime=t.mtime=t.ctime=o.atime),o},Sb(t){return t.Na?t.Na.subarray?t.Na.subarray(0,t.Ra):new Uint8Array(t.Na):new Uint8Array(0)},La:{Ta(t){var r={};return r.dev=(t.mode&61440)===8192?t.id:1,r.ino=t.id,r.mode=t.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=t.rdev,ht(t.mode)?r.size=4096:(t.mode&61440)===32768?r.size=t.Ra:(t.mode&61440)===40960?r.size=t.link.length:r.size=0,r.atime=new Date(t.atime),r.mtime=new Date(t.mtime),r.ctime=new Date(t.ctime),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},Ua(t,r){for(var o of["mode","atime","mtime","ctime"])r[o]!=null&&(t[o]=r[o]);r.size!==void 0&&(r=r.size,t.Ra!=r&&(r==0?(t.Na=null,t.Ra=0):(o=t.Na,t.Na=new Uint8Array(r),o&&t.Na.set(o.subarray(0,Math.min(r,t.Ra))),t.Ra=r)))},lookup(){throw T.vb},hb(t,r,o,f){return T.createNode(t,r,o,f)},rename(t,r,o){try{var f=$t(r,o)}catch{}if(f){if(ht(t.mode))for(var p in f.Na)throw new R(55);qr(f)}delete t.parent.Na[t.name],r.Na[o]=t,t.name=o,r.ctime=r.mtime=t.parent.ctime=t.parent.mtime=Date.now()},unlink(t,r){delete t.Na[r],t.ctime=t.mtime=Date.now()},rmdir(t,r){var o=$t(t,r),f;for(f in o.Na)throw new R(55);delete t.Na[r],t.ctime=t.mtime=Date.now()},readdir(t){return[".","..",...Object.keys(t.Na)]},symlink(t,r,o){return t=T.createNode(t,r,41471,0),t.link=o,t},readlink(t){if((t.mode&61440)!==40960)throw new R(28);return t.link}},Ma:{read(t,r,o,f,p){var _=t.node.Na;if(p>=t.node.Ra)return 0;if(t=Math.min(t.node.Ra-p,f),8<t&&_.subarray)r.set(_.subarray(p,p+t),o);else for(f=0;f<t;f++)r[o+f]=_[p+f];return t},write(t,r,o,f,p,_){if(r.buffer===ot.buffer&&(_=!1),!f)return 0;if(t=t.node,t.mtime=t.ctime=Date.now(),r.subarray&&(!t.Na||t.Na.subarray)){if(_)return t.Na=r.subarray(o,o+f),t.Ra=f;if(t.Ra===0&&p===0)return t.Na=r.slice(o,o+f),t.Ra=f;if(p+f<=t.Ra)return t.Na.set(r.subarray(o,o+f),p),f}_=p+f;var I=t.Na?t.Na.length:0;if(I>=_||(_=Math.max(_,I*(1048576>I?2:1.125)>>>0),I!=0&&(_=Math.max(_,256)),I=t.Na,t.Na=new Uint8Array(_),0<t.Ra&&t.Na.set(I.subarray(0,t.Ra),0)),t.Na.subarray&&r.subarray)t.Na.set(r.subarray(o,o+f),p);else for(_=0;_<f;_++)t.Na[p+_]=r[o+_];return t.Ra=Math.max(t.Ra,p+f),f},Va(t,r,o){if(o===1?r+=t.position:o===2&&(t.node.mode&61440)===32768&&(r+=t.node.Ra),0>r)throw new R(28);return r},ib(t,r,o,f,p){if((t.node.mode&61440)!==32768)throw new R(43);if(t=t.node.Na,p&2||!t||t.buffer!==ot.buffer){p=!0,f=65536*Math.ceil(r/65536);var _=Ae(65536,f);if(_&&V.fill(0,_,_+f),f=_,!f)throw new R(48);t&&((0<o||o+r<t.length)&&(t.subarray?t=t.subarray(o,o+r):t=Array.prototype.slice.call(t,o,o+r)),ot.set(t,f))}else p=!1,f=t.byteOffset;return{Kb:f,Ab:p}},jb(t,r,o,f){return T.Ma.write(t,r,0,f,o,!1),0}}},K=(t,r)=>{var o=0;return t&&(o|=365),r&&(o|=146),o},H=null,Q={},J=[],hn=1,Lt=null,ce=!1,ye=!0,we={},R=class{constructor(t){Wt(this,"name","ErrnoError");this.Pa=t}},fn=class{constructor(){Wt(this,"gb",{});Wt(this,"node",null)}get flags(){return this.gb.flags}set flags(t){this.gb.flags=t}get position(){return this.gb.position}set position(t){this.gb.position=t}},ln=class{constructor(t,r,o,f){Wt(this,"La",{});Wt(this,"Ma",{});Wt(this,"ab",null);t||(t=this),this.parent=t,this.Xa=t.Xa,this.id=hn++,this.name=r,this.mode=o,this.rdev=f,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(t){t?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(t){t?this.mode|=146:this.mode&=-147}};function gt(t,r={}){if(!t)throw new R(44);r.nb??(r.nb=!0),t.charAt(0)==="/"||(t="//"+t);var o=0;t:for(;40>o;o++){t=t.split("/").filter(F=>!!F);for(var f=H,p="/",_=0;_<t.length;_++){var I=_===t.length-1;if(I&&r.parent)break;if(t[_]!==".")if(t[_]==="..")p=pr(p),f=f.parent;else{p=lr(p+"/"+t[_]);try{f=$t(f,t[_])}catch(F){if((F==null?void 0:F.Pa)===44&&I&&r.Jb)return{path:p};throw F}if(!f.ab||I&&!r.nb||(f=f.ab.root),(f.mode&61440)===40960&&(!I||r.$a)){if(!f.La.readlink)throw new R(52);f=f.La.readlink(f),f.charAt(0)==="/"||(f=pr(p)+"/"+f),t=f+"/"+t.slice(_+1).join("/");continue t}}}return{path:p,node:f}}throw new R(32)}function Wr(t){for(var r;;){if(t===t.parent)return t=t.Xa.zb,r?t[t.length-1]!=="/"?`${t}/${r}`:t+r:t;r=r?`${t.name}/${r}`:t.name,t=t.parent}}function Zr(t,r){for(var o=0,f=0;f<r.length;f++)o=(o<<5)-o+r.charCodeAt(f)|0;return(t+o>>>0)%Lt.length}function qr(t){var r=Zr(t.parent.id,t.name);if(Lt[r]===t)Lt[r]=t.bb;else for(r=Lt[r];r;){if(r.bb===t){r.bb=t.bb;break}r=r.bb}}function $t(t,r){var o=ht(t.mode)?(o=or(t,"x"))?o:t.La.lookup?0:2:54;if(o)throw new R(o);for(o=Lt[Zr(t.id,r)];o;o=o.bb){var f=o.name;if(o.parent.id===t.id&&f===r)return o}return t.La.lookup(t,r)}function de(t,r,o,f){return t=new ln(t,r,o,f),r=Zr(t.parent.id,t.name),t.bb=Lt[r],Lt[r]=t}function ht(t){return(t&61440)===16384}function ge(t){var r=["r","w","rw"][t&3];return t&512&&(r+="w"),r}function or(t,r){if(ye)return 0;if(!r.includes("r")||t.mode&292){if(r.includes("w")&&!(t.mode&146)||r.includes("x")&&!(t.mode&73))return 2}else return 2;return 0}function me(t,r){if(!ht(t.mode))return 54;try{return $t(t,r),20}catch{}return or(t,"wx")}function be(t,r,o){try{var f=$t(t,r)}catch(p){return p.Pa}if(t=or(t,"wx"))return t;if(o){if(!ht(f.mode))return 54;if(f===f.parent||Wr(f)==="/")return 10}else if(ht(f.mode))return 31;return 0}function kr(t){if(!t)throw new R(63);return t}function ut(t){if(t=J[t],!t)throw new R(8);return t}function _e(t,r=-1){if(t=Object.assign(new fn,t),r==-1)t:{for(r=0;4096>=r;r++)if(!J[r])break t;throw new R(33)}return t.fd=r,J[r]=t}function pn(t,r=-1){var o,f;return t=_e(t,r),(f=(o=t.Ma)==null?void 0:o.Rb)==null||f.call(o,t),t}function Cr(t,r,o){var f=t==null?void 0:t.Ma.Ua;t=f?t:r,f??(f=r.La.Ua),kr(f),f(t,o)}var cn={open(t){var r,o;t.Ma=Q[t.node.rdev].Ma,(o=(r=t.Ma).open)==null||o.call(r,t)},Va(){throw new R(70)}};function Gr(t,r){Q[t]={Ma:r}}function Ee(t,r){var o=r==="/";if(o&&H)throw new R(10);if(!o&&r){var f=gt(r,{nb:!1});if(r=f.path,f=f.node,f.ab)throw new R(10);if(!ht(f.mode))throw new R(54)}r={type:t,Wb:{},zb:r,Ib:[]},t=t.Xa(r),t.Xa=r,r.root=t,o?H=t:f&&(f.ab=r,f.Xa&&f.Xa.Ib.push(r))}function xr(t,r,o){var f=gt(t,{parent:!0}).node;if(t=At(t),!t)throw new R(28);if(t==="."||t==="..")throw new R(20);var p=me(f,t);if(p)throw new R(p);if(!f.La.hb)throw new R(63);return f.La.hb(f,t,r,o)}function yn(t,r=438){return xr(t,r&4095|32768,0)}function kt(t,r=511){return xr(t,r&1023|16384,0)}function Mr(t,r,o){typeof o>"u"&&(o=r,r=438),xr(t,r|8192,o)}function Dr(t,r){if(!Or(t))throw new R(44);var o=gt(r,{parent:!0}).node;if(!o)throw new R(44);r=At(r);var f=me(o,r);if(f)throw new R(f);if(!o.La.symlink)throw new R(63);o.La.symlink(o,r,t)}function ve(t){var r=gt(t,{parent:!0}).node;t=At(t);var o=$t(r,t),f=be(r,t,!0);if(f)throw new R(f);if(!r.La.rmdir)throw new R(63);if(o.ab)throw new R(10);r.La.rmdir(r,t),qr(o)}function Ie(t){var r=gt(t,{parent:!0}).node;if(!r)throw new R(44);t=At(t);var o=$t(r,t),f=be(r,t,!1);if(f)throw new R(f);if(!r.La.unlink)throw new R(63);if(o.ab)throw new R(10);r.La.unlink(r,t),qr(o)}function cr(t,r){return t=gt(t,{$a:!r}).node,kr(t.La.Ta)(t)}function ke(t,r,o,f){Cr(t,r,{mode:o&4095|r.mode&-4096,ctime:Date.now(),Fb:f})}function Sr(t,r){t=typeof t=="string"?gt(t,{$a:!0}).node:t,ke(null,t,r)}function xe(t,r,o){if(ht(r.mode))throw new R(31);if((r.mode&61440)!==32768)throw new R(28);var f=or(r,"w");if(f)throw new R(f);Cr(t,r,{size:o,timestamp:Date.now()})}function sr(t,r,o=438){if(t==="")throw new R(44);if(typeof r=="string"){var f={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[r];if(typeof f>"u")throw Error(`Unknown file open mode: ${r}`);r=f}if(o=r&64?o&4095|32768:0,typeof t=="object")f=t;else{var p=t.endsWith("/");t=gt(t,{$a:!(r&131072),Jb:!0}),f=t.node,t=t.path}var _=!1;if(r&64)if(f){if(r&128)throw new R(20)}else{if(p)throw new R(31);f=xr(t,o|511,0),_=!0}if(!f)throw new R(44);if((f.mode&61440)===8192&&(r&=-513),r&65536&&!ht(f.mode))throw new R(54);if(!_&&(p=f?(f.mode&61440)===40960?32:ht(f.mode)&&(ge(r)!=="r"||r&576)?31:or(f,ge(r)):44))throw new R(p);return r&512&&!_&&(p=f,p=typeof p=="string"?gt(p,{$a:!0}).node:p,xe(null,p,0)),r&=-131713,p=_e({node:f,path:Wr(f),flags:r,seekable:!0,position:0,Ma:f.Ma,Lb:[],error:!1}),p.Ma.open&&p.Ma.open(p),_&&Sr(f,o&511),!h.logReadFiles||r&1||t in we||(we[t]=1),p}function zr(t){if(t.fd===null)throw new R(8);t.ob&&(t.ob=null);try{t.Ma.close&&t.Ma.close(t)}catch(r){throw r}finally{J[t.fd]=null}t.fd=null}function Me(t,r,o){if(t.fd===null)throw new R(8);if(!t.seekable||!t.Ma.Va)throw new R(70);if(o!=0&&o!=1&&o!=2)throw new R(28);t.position=t.Ma.Va(t,r,o),t.Lb=[]}function Se(t,r,o,f,p){if(0>f||0>p)throw new R(28);if(t.fd===null)throw new R(8);if((t.flags&2097155)===1)throw new R(8);if(ht(t.node.mode))throw new R(31);if(!t.Ma.read)throw new R(28);var _=typeof p<"u";if(!_)p=t.position;else if(!t.seekable)throw new R(70);return r=t.Ma.read(t,r,o,f,p),_||(t.position+=r),r}function Be(t,r,o,f,p){if(0>f||0>p)throw new R(28);if(t.fd===null)throw new R(8);if(!(t.flags&2097155))throw new R(8);if(ht(t.node.mode))throw new R(31);if(!t.Ma.write)throw new R(28);t.seekable&&t.flags&1024&&Me(t,0,2);var _=typeof p<"u";if(!_)p=t.position;else if(!t.seekable)throw new R(70);return r=t.Ma.write(t,r,o,f,p,void 0),_||(t.position+=r),r}function wn(t){var r,o=sr(t,o||0);t=cr(t).size;var f=new Uint8Array(t);return Se(o,f,0,t,0),r=f,zr(o),r}function Nt(t,r,o){t=lr("/dev/"+t);var f=K(!!r,!!o);Nt.yb??(Nt.yb=64);var p=Nt.yb++<<8|0;Gr(p,{open(_){_.seekable=!1},close(){var _;(_=o==null?void 0:o.buffer)!=null&&_.length&&o(10)},read(_,I,F,G){for(var C=0,nt=0;nt<G;nt++){try{var ft=r()}catch{throw new R(29)}if(ft===void 0&&C===0)throw new R(6);if(ft==null)break;C++,I[F+nt]=ft}return C&&(_.node.atime=Date.now()),C},write(_,I,F,G){for(var C=0;C<G;C++)try{o(I[F+C])}catch{throw new R(29)}return G&&(_.node.mtime=_.node.ctime=Date.now()),C}}),Mr(t,f,p)}var X={};function Ht(t,r,o){if(r.charAt(0)==="/")return r;if(t=t===-100?"/":ut(t).path,r.length==0){if(!o)throw new R(44);return t}return t+"/"+r}function Br(t,r){Y[t>>2]=r.dev,Y[t+4>>2]=r.mode,et[t+8>>2]=r.nlink,Y[t+12>>2]=r.uid,Y[t+16>>2]=r.gid,Y[t+20>>2]=r.rdev,pt[t+24>>3]=BigInt(r.size),Y[t+32>>2]=4096,Y[t+36>>2]=r.blocks;var o=r.atime.getTime(),f=r.mtime.getTime(),p=r.ctime.getTime();return pt[t+40>>3]=BigInt(Math.floor(o/1e3)),et[t+48>>2]=o%1e3*1e6,pt[t+56>>3]=BigInt(Math.floor(f/1e3)),et[t+64>>2]=f%1e3*1e6,pt[t+72>>3]=BigInt(Math.floor(p/1e3)),et[t+80>>2]=p%1e3*1e6,pt[t+88>>3]=BigInt(r.ino),0}var Pr=void 0,Tr=()=>{var t=Y[+Pr>>2];return Pr+=4,t},Jr=0,dn=[0,31,60,91,121,152,182,213,244,274,305,335],gn=[0,31,59,90,120,151,181,212,243,273,304,334],yr={},Pe=t=>{var r;ur=t,It||0<Jr||((r=h.onExit)==null||r.call(h,t),Xt=!0),B(t,new er(t))},mn=t=>{if(!Xt)try{if(t(),!(It||0<Jr))try{ur=t=ur,Pe(t)}catch(r){r instanceof er||r=="unwind"||B(1,r)}}catch(r){r instanceof er||r=="unwind"||B(1,r)}},Vr={},Te=()=>{if(!Yr){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:A||"./this.program"},r;for(r in Vr)Vr[r]===void 0?delete t[r]:t[r]=Vr[r];var o=[];for(r in t)o.push(`${r}=${t[r]}`);Yr=o}return Yr},Yr,$r=t=>{var r=Yt(t)+1,o=Ot(r);return u(t,V,o,r),o},bn=(t,r,o,f)=>{var p={string:C=>{var nt=0;return C!=null&&C!==0&&(nt=$r(C)),nt},array:C=>{var nt=Ot(C.length);return ot.set(C,nt),nt}};t=h["_"+t];var _=[],I=0;if(f)for(var F=0;F<f.length;F++){var G=p[o[F]];G?(I===0&&(I=gr()),_[F]=G(f[F])):_[F]=f[F]}return o=t(..._),o=function(C){return I!==0&&dr(I),r==="string"?C?rt(V,C):"":r==="boolean"?!!C:C}(o)},Ar=0,Rr=(t,r)=>(r=r==1?Ot(t.length):Kr(t.length),t.subarray||t.slice||(t=new Uint8Array(t)),V.set(t,r),r),Kt,Hr=[],Rt,Ft=t=>{Kt.delete(Rt.get(t)),Rt.set(t,null),Hr.push(t)},wr=(t,r)=>{if(!Kt){Kt=new WeakMap;var o=Rt.length;if(Kt)for(var f=0;f<0+o;f++){var p=Rt.get(f);p&&Kt.set(p,f)}}if(o=Kt.get(t)||0)return o;if(Hr.length)o=Hr.pop();else{try{Rt.grow(1)}catch(G){throw G instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":G}o=Rt.length-1}try{Rt.set(o,t)}catch(G){if(!(G instanceof TypeError))throw G;if(typeof WebAssembly.Function=="function"){var _=WebAssembly.Function;f={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},p={parameters:[],results:r[0]=="v"?[]:[f[r[0]]]};for(var I=1;I<r.length;++I)p.parameters.push(f[r[I]]);r=new _(p,t)}else{f=[1],p=r.slice(0,1),r=r.slice(1),I={i:127,p:127,j:126,f:125,d:124,e:111},f.push(96);var F=r.length;128>F?f.push(F):f.push(F%128|128,F>>7);for(_ of r)f.push(I[_]);p=="v"?f.push(0):f.push(1,I[p]),r=[0,97,115,109,1,0,0,0,1],_=f.length,128>_?r.push(_):r.push(_%128|128,_>>7),r.push(...f),r.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),r=new WebAssembly.Module(new Uint8Array(r)),r=new WebAssembly.Instance(r,{e:{f:t}}).exports.f}Rt.set(o,r)}return Kt.set(t,o),o};Lt=Array(4096),Ee(T,"/"),kt("/tmp"),kt("/home"),kt("/home/web_user"),function(){kt("/dev"),Gr(259,{read:()=>0,write:(f,p,_,I)=>I,Va:()=>0}),Mr("/dev/null",259),l(1280,v),l(1536,k),Mr("/dev/tty",1280),Mr("/dev/tty1",1536);var t=new Uint8Array(1024),r=0,o=()=>(r===0&&(ir(t),r=t.byteLength),t[--r]);Nt("random",o),Nt("urandom",o),kt("/dev/shm"),kt("/dev/shm/tmp")}(),function(){kt("/proc");var t=kt("/proc/self");kt("/proc/self/fd"),Ee({Xa(){var r=de(t,"fd",16895,73);return r.Ma={Va:T.Ma.Va},r.La={lookup(o,f){o=+f;var p=ut(o);return o={parent:null,Xa:{zb:"fake"},La:{readlink:()=>p.path},id:o+1},o.parent=o},readdir(){return Array.from(J.entries()).filter(([,o])=>o).map(([o])=>o.toString())}},r}},"/proc/self/fd")}(),T.vb=new R(44),T.vb.stack="<generic error, no stack>";var _n={a:(t,r,o,f)=>it(`Assertion failed: ${t?rt(V,t):""}, at: `+[r?r?rt(V,r):"":"unknown filename",o,f?f?rt(V,f):"":"unknown function"]),i:function(t,r){try{return t=t?rt(V,t):"",Sr(t,r),0}catch(o){if(typeof X>"u"||o.name!=="ErrnoError")throw o;return-o.Pa}},L:function(t,r,o){try{if(r=r?rt(V,r):"",r=Ht(t,r),o&-8)return-28;var f=gt(r,{$a:!0}).node;return f?(t="",o&4&&(t+="r"),o&2&&(t+="w"),o&1&&(t+="x"),t&&or(f,t)?-2:0):-44}catch(p){if(typeof X>"u"||p.name!=="ErrnoError")throw p;return-p.Pa}},j:function(t,r){try{var o=ut(t);return ke(o,o.node,r,!1),0}catch(f){if(typeof X>"u"||f.name!=="ErrnoError")throw f;return-f.Pa}},h:function(t){try{var r=ut(t);return Cr(r,r.node,{timestamp:Date.now(),Fb:!1}),0}catch(o){if(typeof X>"u"||o.name!=="ErrnoError")throw o;return-o.Pa}},b:function(t,r,o){Pr=o;try{var f=ut(t);switch(r){case 0:var p=Tr();if(0>p)break;for(;J[p];)p++;return pn(f,p).fd;case 1:case 2:return 0;case 3:return f.flags;case 4:return p=Tr(),f.flags|=p,0;case 12:return p=Tr(),Jt[p+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(_){if(typeof X>"u"||_.name!=="ErrnoError")throw _;return-_.Pa}},g:function(t,r){try{var o=ut(t),f=o.node,p=o.Ma.Ta;t=p?o:f,p??(p=f.La.Ta),kr(p);var _=p(t);return Br(r,_)}catch(I){if(typeof X>"u"||I.name!=="ErrnoError")throw I;return-I.Pa}},H:function(t,r){r=-9007199254740992>r||9007199254740992<r?NaN:Number(r);try{if(isNaN(r))return 61;var o=ut(t);if(0>r||!(o.flags&2097155))throw new R(28);return xe(o,o.node,r),0}catch(f){if(typeof X>"u"||f.name!=="ErrnoError")throw f;return-f.Pa}},G:function(t,r){try{if(r===0)return-28;var o=Yt("/")+1;return r<o?-68:(u("/",V,t,r),o)}catch(f){if(typeof X>"u"||f.name!=="ErrnoError")throw f;return-f.Pa}},K:function(t,r){try{return t=t?rt(V,t):"",Br(r,cr(t,!0))}catch(o){if(typeof X>"u"||o.name!=="ErrnoError")throw o;return-o.Pa}},C:function(t,r,o){try{return r=r?rt(V,r):"",r=Ht(t,r),kt(r,o),0}catch(f){if(typeof X>"u"||f.name!=="ErrnoError")throw f;return-f.Pa}},J:function(t,r,o,f){try{r=r?rt(V,r):"";var p=f&256;return r=Ht(t,r,f&4096),Br(o,p?cr(r,!0):cr(r))}catch(_){if(typeof X>"u"||_.name!=="ErrnoError")throw _;return-_.Pa}},x:function(t,r,o,f){Pr=f;try{r=r?rt(V,r):"",r=Ht(t,r);var p=f?Tr():0;return sr(r,o,p).fd}catch(_){if(typeof X>"u"||_.name!=="ErrnoError")throw _;return-_.Pa}},v:function(t,r,o,f){try{if(r=r?rt(V,r):"",r=Ht(t,r),0>=f)return-28;var p=gt(r).node;if(!p)throw new R(44);if(!p.La.readlink)throw new R(28);var _=p.La.readlink(p),I=Math.min(f,Yt(_)),F=ot[o+I];return u(_,V,o,f+1),ot[o+I]=F,I}catch(G){if(typeof X>"u"||G.name!=="ErrnoError")throw G;return-G.Pa}},u:function(t){try{return t=t?rt(V,t):"",ve(t),0}catch(r){if(typeof X>"u"||r.name!=="ErrnoError")throw r;return-r.Pa}},f:function(t,r){try{return t=t?rt(V,t):"",Br(r,cr(t))}catch(o){if(typeof X>"u"||o.name!=="ErrnoError")throw o;return-o.Pa}},r:function(t,r,o){try{return r=r?rt(V,r):"",r=Ht(t,r),o===0?Ie(r):o===512?ve(r):it("Invalid flags passed to unlinkat"),0}catch(f){if(typeof X>"u"||f.name!=="ErrnoError")throw f;return-f.Pa}},q:function(t,r,o){try{r=r?rt(V,r):"",r=Ht(t,r,!0);var f=Date.now(),p,_;if(o){var I=et[o>>2]+4294967296*Y[o+4>>2],F=Y[o+8>>2];F==1073741823?p=f:F==1073741822?p=null:p=1e3*I+F/1e6,o+=16,I=et[o>>2]+4294967296*Y[o+4>>2],F=Y[o+8>>2],F==1073741823?_=f:F==1073741822?_=null:_=1e3*I+F/1e6}else _=p=f;if((_??p)!==null){t=p;var G=gt(r,{$a:!0}).node;kr(G.La.Ua)(G,{atime:t,mtime:_})}return 0}catch(C){if(typeof X>"u"||C.name!=="ErrnoError")throw C;return-C.Pa}},m:()=>it(""),l:()=>{It=!1,Jr=0},A:function(t,r){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),t=new Date(1e3*t),Y[r>>2]=t.getSeconds(),Y[r+4>>2]=t.getMinutes(),Y[r+8>>2]=t.getHours(),Y[r+12>>2]=t.getDate(),Y[r+16>>2]=t.getMonth(),Y[r+20>>2]=t.getFullYear()-1900,Y[r+24>>2]=t.getDay();var o=t.getFullYear();Y[r+28>>2]=(o%4!==0||o%100===0&&o%400!==0?gn:dn)[t.getMonth()]+t.getDate()-1|0,Y[r+36>>2]=-(60*t.getTimezoneOffset()),o=new Date(t.getFullYear(),6,1).getTimezoneOffset();var f=new Date(t.getFullYear(),0,1).getTimezoneOffset();Y[r+32>>2]=(o!=f&&t.getTimezoneOffset()==Math.min(f,o))|0},y:function(t,r,o,f,p,_,I){p=-9007199254740992>p||9007199254740992<p?NaN:Number(p);try{if(isNaN(p))return 61;var F=ut(f);if(r&2&&!(o&2)&&(F.flags&2097155)!==2)throw new R(2);if((F.flags&2097155)===1)throw new R(2);if(!F.Ma.ib)throw new R(43);if(!t)throw new R(28);var G=F.Ma.ib(F,t,p,r,o),C=G.Kb;return Y[_>>2]=G.Ab,et[I>>2]=C,0}catch(nt){if(typeof X>"u"||nt.name!=="ErrnoError")throw nt;return-nt.Pa}},z:function(t,r,o,f,p,_){_=-9007199254740992>_||9007199254740992<_?NaN:Number(_);try{var I=ut(p);if(o&2){if(o=_,(I.node.mode&61440)!==32768)throw new R(43);if(!(f&2)){var F=V.slice(t,t+r);I.Ma.jb&&I.Ma.jb(I,F,o,r,f)}}}catch(G){if(typeof X>"u"||G.name!=="ErrnoError")throw G;return-G.Pa}},n:(t,r)=>{if(yr[t]&&(clearTimeout(yr[t].id),delete yr[t]),!r)return 0;var o=setTimeout(()=>{delete yr[t],mn(()=>Re(t,performance.now()))},r);return yr[t]={id:o,Xb:r},0},B:(t,r,o,f)=>{var p=new Date().getFullYear(),_=new Date(p,0,1).getTimezoneOffset();p=new Date(p,6,1).getTimezoneOffset(),et[t>>2]=60*Math.max(_,p),Y[r>>2]=+(_!=p),r=I=>{var F=Math.abs(I);return`UTC${0<=I?"-":"+"}${String(Math.floor(F/60)).padStart(2,"0")}${String(F%60).padStart(2,"0")}`},t=r(_),r=r(p),p<_?(u(t,V,o,17),u(r,V,f,17)):(u(t,V,f,17),u(r,V,o,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:t=>{var r=V.length;if(t>>>=0,2147483648<t)return!1;for(var o=1;4>=o;o*=2){var f=r*(1+.2/o);f=Math.min(f,t+100663296);t:{f=(Math.min(2147483648,65536*Math.ceil(Math.max(t,f)/65536))-zt.buffer.byteLength+65535)/65536|0;try{zt.grow(f),mr();var p=1;break t}catch{}p=void 0}if(p)return!0}return!1},E:(t,r)=>{var o=0;return Te().forEach((f,p)=>{var _=r+o;for(p=et[t+4*p>>2]=_,_=0;_<f.length;++_)ot[p++]=f.charCodeAt(_);ot[p]=0,o+=f.length+1}),0},F:(t,r)=>{var o=Te();et[t>>2]=o.length;var f=0;return o.forEach(p=>f+=p.length+1),et[r>>2]=f,0},e:function(t){try{var r=ut(t);return zr(r),0}catch(o){if(typeof X>"u"||o.name!=="ErrnoError")throw o;return o.Pa}},p:function(t,r){try{var o=ut(t);return ot[r]=o.tty?2:ht(o.mode)?3:(o.mode&61440)===40960?7:4,Jt[r+2>>1]=0,pt[r+8>>3]=BigInt(0),pt[r+16>>3]=BigInt(0),0}catch(f){if(typeof X>"u"||f.name!=="ErrnoError")throw f;return f.Pa}},w:function(t,r,o,f){try{t:{var p=ut(t);t=r;for(var _,I=r=0;I<o;I++){var F=et[t>>2],G=et[t+4>>2];t+=8;var C=Se(p,ot,F,G,_);if(0>C){var nt=-1;break t}if(r+=C,C<G)break;typeof _<"u"&&(_+=C)}nt=r}return et[f>>2]=nt,0}catch(ft){if(typeof X>"u"||ft.name!=="ErrnoError")throw ft;return ft.Pa}},D:function(t,r,o,f){r=-9007199254740992>r||9007199254740992<r?NaN:Number(r);try{if(isNaN(r))return 61;var p=ut(t);return Me(p,r,o),pt[f>>3]=BigInt(p.position),p.ob&&r===0&&o===0&&(p.ob=null),0}catch(_){if(typeof X>"u"||_.name!=="ErrnoError")throw _;return _.Pa}},I:function(t){var o;try{var r=ut(t);return(o=r.Ma)!=null&&o.fsync?r.Ma.fsync(r):0}catch(f){if(typeof X>"u"||f.name!=="ErrnoError")throw f;return f.Pa}},t:function(t,r,o,f){try{t:{var p=ut(t);t=r;for(var _,I=r=0;I<o;I++){var F=et[t>>2],G=et[t+4>>2];t+=8;var C=Be(p,ot,F,G,_);if(0>C){var nt=-1;break t}if(r+=C,C<G)break;typeof _<"u"&&(_+=C)}nt=r}return et[f>>2]=nt,0}catch(ft){if(typeof X>"u"||ft.name!=="ErrnoError")throw ft;return ft.Pa}},k:Pe},O;(async function(){var o;function t(f){var p;return O=f.exports,zt=O.M,mr(),Rt=O.O,Pt--,(p=h.monitorRunDependencies)==null||p.call(h,Pt),Pt==0&&tt&&(f=tt,tt=null,f()),O}Pt++,(o=h.monitorRunDependencies)==null||o.call(h,Pt);var r={a:_n};return h.instantiateWasm?new Promise(f=>{h.instantiateWasm(r,(p,_)=>{t(p),f(p.exports)})}):(rr??(rr=h.locateFile?h.locateFile("sql-wasm.wasm",N):N+"sql-wasm.wasm"),t((await Er(r)).instance))})(),h._sqlite3_free=t=>(h._sqlite3_free=O.P)(t),h._sqlite3_value_text=t=>(h._sqlite3_value_text=O.Q)(t),h._sqlite3_prepare_v2=(t,r,o,f,p)=>(h._sqlite3_prepare_v2=O.R)(t,r,o,f,p),h._sqlite3_step=t=>(h._sqlite3_step=O.S)(t),h._sqlite3_reset=t=>(h._sqlite3_reset=O.T)(t),h._sqlite3_exec=(t,r,o,f,p)=>(h._sqlite3_exec=O.U)(t,r,o,f,p),h._sqlite3_finalize=t=>(h._sqlite3_finalize=O.V)(t),h._sqlite3_column_name=(t,r)=>(h._sqlite3_column_name=O.W)(t,r),h._sqlite3_column_text=(t,r)=>(h._sqlite3_column_text=O.X)(t,r),h._sqlite3_column_type=(t,r)=>(h._sqlite3_column_type=O.Y)(t,r),h._sqlite3_errmsg=t=>(h._sqlite3_errmsg=O.Z)(t),h._sqlite3_clear_bindings=t=>(h._sqlite3_clear_bindings=O._)(t),h._sqlite3_value_blob=t=>(h._sqlite3_value_blob=O.$)(t),h._sqlite3_value_bytes=t=>(h._sqlite3_value_bytes=O.aa)(t),h._sqlite3_value_double=t=>(h._sqlite3_value_double=O.ba)(t),h._sqlite3_value_int=t=>(h._sqlite3_value_int=O.ca)(t),h._sqlite3_value_type=t=>(h._sqlite3_value_type=O.da)(t),h._sqlite3_result_blob=(t,r,o,f)=>(h._sqlite3_result_blob=O.ea)(t,r,o,f),h._sqlite3_result_double=(t,r)=>(h._sqlite3_result_double=O.fa)(t,r),h._sqlite3_result_error=(t,r,o)=>(h._sqlite3_result_error=O.ga)(t,r,o),h._sqlite3_result_int=(t,r)=>(h._sqlite3_result_int=O.ha)(t,r),h._sqlite3_result_int64=(t,r)=>(h._sqlite3_result_int64=O.ia)(t,r),h._sqlite3_result_null=t=>(h._sqlite3_result_null=O.ja)(t),h._sqlite3_result_text=(t,r,o,f)=>(h._sqlite3_result_text=O.ka)(t,r,o,f),h._sqlite3_aggregate_context=(t,r)=>(h._sqlite3_aggregate_context=O.la)(t,r),h._sqlite3_column_count=t=>(h._sqlite3_column_count=O.ma)(t),h._sqlite3_data_count=t=>(h._sqlite3_data_count=O.na)(t),h._sqlite3_column_blob=(t,r)=>(h._sqlite3_column_blob=O.oa)(t,r),h._sqlite3_column_bytes=(t,r)=>(h._sqlite3_column_bytes=O.pa)(t,r),h._sqlite3_column_double=(t,r)=>(h._sqlite3_column_double=O.qa)(t,r),h._sqlite3_bind_blob=(t,r,o,f,p)=>(h._sqlite3_bind_blob=O.ra)(t,r,o,f,p),h._sqlite3_bind_double=(t,r,o)=>(h._sqlite3_bind_double=O.sa)(t,r,o),h._sqlite3_bind_int=(t,r,o)=>(h._sqlite3_bind_int=O.ta)(t,r,o),h._sqlite3_bind_text=(t,r,o,f,p)=>(h._sqlite3_bind_text=O.ua)(t,r,o,f,p),h._sqlite3_bind_parameter_index=(t,r)=>(h._sqlite3_bind_parameter_index=O.va)(t,r),h._sqlite3_sql=t=>(h._sqlite3_sql=O.wa)(t),h._sqlite3_normalized_sql=t=>(h._sqlite3_normalized_sql=O.xa)(t),h._sqlite3_changes=t=>(h._sqlite3_changes=O.ya)(t),h._sqlite3_close_v2=t=>(h._sqlite3_close_v2=O.za)(t),h._sqlite3_create_function_v2=(t,r,o,f,p,_,I,F,G)=>(h._sqlite3_create_function_v2=O.Aa)(t,r,o,f,p,_,I,F,G),h._sqlite3_update_hook=(t,r,o)=>(h._sqlite3_update_hook=O.Ba)(t,r,o),h._sqlite3_open=(t,r)=>(h._sqlite3_open=O.Ca)(t,r);var Kr=h._malloc=t=>(Kr=h._malloc=O.Da)(t),Ur=h._free=t=>(Ur=h._free=O.Ea)(t);h._RegisterExtensionFunctions=t=>(h._RegisterExtensionFunctions=O.Fa)(t);var Ae=(t,r)=>(Ae=O.Ga)(t,r),Re=(t,r)=>(Re=O.Ha)(t,r),dr=t=>(dr=O.Ia)(t),Ot=t=>(Ot=O.Ja)(t),gr=()=>(gr=O.Ka)();h.stackSave=()=>gr(),h.stackRestore=t=>dr(t),h.stackAlloc=t=>Ot(t),h.cwrap=(t,r,o,f)=>{var p=!o||o.every(_=>_==="number"||_==="boolean");return r!=="string"&&p&&!f?h["_"+t]:(..._)=>bn(t,r,o,_)},h.addFunction=wr,h.removeFunction=Ft,h.UTF8ToString=Vt,h.ALLOC_NORMAL=Ar,h.allocate=Rr,h.allocateUTF8OnStack=$r;function Qr(){function t(){var p;if(h.calledRun=!0,!Xt){if(!h.noFSInit&&!ce){var r,o;ce=!0,f??(f=h.stdin),r??(r=h.stdout),o??(o=h.stderr),f?Nt("stdin",f):Dr("/dev/tty","/dev/stdin"),r?Nt("stdout",null,r):Dr("/dev/tty","/dev/stdout"),o?Nt("stderr",null,o):Dr("/dev/tty1","/dev/stderr"),sr("/dev/stdin",0),sr("/dev/stdout",1),sr("/dev/stderr",1)}if(O.N(),ye=!1,(p=h.onRuntimeInitialized)==null||p.call(h),h.postRun)for(typeof h.postRun=="function"&&(h.postRun=[h.postRun]);h.postRun.length;){var f=h.postRun.shift();nr.unshift(f)}Tt(nr)}}if(0<Pt)tt=Qr;else{if(h.preRun)for(typeof h.preRun=="function"&&(h.preRun=[h.preRun]);h.preRun.length;)Fr();Tt(fr),0<Pt?tt=Qr:h.setStatus?(h.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>h.setStatus(""),1),t()},1)):t()}}if(h.preInit)for(typeof h.preInit=="function"&&(h.preInit=[h.preInit]);0<h.preInit.length;)h.preInit.pop()();return Qr(),n}),b)};d.exports=y,d.exports.default=y})(je);var ui=je.exports,hi=Kn(ui),Mt={},St={wkt:{Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION"},wkb:{Point:1,LineString:2,Polygon:3,MultiPoint:4,MultiLineString:5,MultiPolygon:6,GeometryCollection:7},geoJSON:{Point:"Point",LineString:"LineString",Polygon:"Polygon",MultiPoint:"MultiPoint",MultiLineString:"MultiLineString",MultiPolygon:"MultiPolygon",GeometryCollection:"GeometryCollection"}},Zt=st;function st(d,g){this.buffer=new Buffer(d),this.position=0,this.allowResize=g}function lt(d,g){return function(b,y){this.ensureSize(g),d.call(this.buffer,b,this.position,y),this.position+=g}}st.prototype.writeUInt8=lt(Buffer.prototype.writeUInt8,1);st.prototype.writeUInt16LE=lt(Buffer.prototype.writeUInt16LE,2);st.prototype.writeUInt16BE=lt(Buffer.prototype.writeUInt16BE,2);st.prototype.writeUInt32LE=lt(Buffer.prototype.writeUInt32LE,4);st.prototype.writeUInt32BE=lt(Buffer.prototype.writeUInt32BE,4);st.prototype.writeInt8=lt(Buffer.prototype.writeInt8,1);st.prototype.writeInt16LE=lt(Buffer.prototype.writeInt16LE,2);st.prototype.writeInt16BE=lt(Buffer.prototype.writeInt16BE,2);st.prototype.writeInt32LE=lt(Buffer.prototype.writeInt32LE,4);st.prototype.writeInt32BE=lt(Buffer.prototype.writeInt32BE,4);st.prototype.writeFloatLE=lt(Buffer.prototype.writeFloatLE,4);st.prototype.writeFloatBE=lt(Buffer.prototype.writeFloatBE,4);st.prototype.writeDoubleLE=lt(Buffer.prototype.writeDoubleLE,8);st.prototype.writeDoubleBE=lt(Buffer.prototype.writeDoubleBE,8);st.prototype.writeBuffer=function(d){this.ensureSize(d.length),d.copy(this.buffer,this.position,0,d.length),this.position+=d.length};st.prototype.writeVarInt=function(d){for(var g=1;d&4294967168;)this.writeUInt8(d&127|128),d>>>=7,g++;return this.writeUInt8(d&127),g};st.prototype.ensureSize=function(d){if(this.buffer.length<this.position+d)if(this.allowResize){var g=new Buffer(this.position+d);this.buffer.copy(g,0,0,this.buffer.length),this.buffer=g}else throw new RangeError("index out of range")};var tn={encode:function(d){return d<<1^d>>31},decode:function(d){return d>>1^-(d&1)}},te,Ge;function qt(){if(Ge)return te;Ge=1,te=c;var d=Ut,g=Gt(),b=St,y=Zt,E=tn;function c(s,n,a,h,S){g.call(this),this.x=s,this.y=n,this.z=a,this.m=h,this.srid=S,this.hasZ=typeof this.z<"u",this.hasM=typeof this.m<"u"}return d.inherits(c,g),c.Z=function(s,n,a,h){var S=new c(s,n,a,void 0,h);return S.hasZ=!0,S},c.M=function(s,n,a,h){var S=new c(s,n,void 0,a,h);return S.hasM=!0,S},c.ZM=function(s,n,a,h,S){var P=new c(s,n,a,h,S);return P.hasZ=!0,P.hasM=!0,P},c._parseWkt=function(s,n){var a=new c;if(a.srid=n.srid,a.hasZ=n.hasZ,a.hasM=n.hasM,s.isMatch(["EMPTY"]))return a;s.expectGroupStart();var h=s.matchCoordinate(n);return a.x=h.x,a.y=h.y,a.z=h.z,a.m=h.m,s.expectGroupEnd(),a},c._parseWkb=function(s,n){var a=c._readWkbPoint(s,n);return a.srid=n.srid,a},c._readWkbPoint=function(s,n){return new c(s.readDouble(),s.readDouble(),n.hasZ?s.readDouble():void 0,n.hasM?s.readDouble():void 0)},c._parseTwkb=function(s,n){var a=new c;return a.hasZ=n.hasZ,a.hasM=n.hasM,n.isEmpty||(a.x=E.decode(s.readVarInt())/n.precisionFactor,a.y=E.decode(s.readVarInt())/n.precisionFactor,a.z=n.hasZ?E.decode(s.readVarInt())/n.zPrecisionFactor:void 0,a.m=n.hasM?E.decode(s.readVarInt())/n.mPrecisionFactor:void 0),a},c._readTwkbPoint=function(s,n,a){return a.x+=E.decode(s.readVarInt())/n.precisionFactor,a.y+=E.decode(s.readVarInt())/n.precisionFactor,n.hasZ&&(a.z+=E.decode(s.readVarInt())/n.zPrecisionFactor),n.hasM&&(a.m+=E.decode(s.readVarInt())/n.mPrecisionFactor),new c(a.x,a.y,a.z,a.m)},c._parseGeoJSON=function(s){return c._readGeoJSONPoint(s.coordinates)},c._readGeoJSONPoint=function(s){return s.length===0?new c:s.length>2?new c(s[0],s[1],s[2]):new c(s[0],s[1])},c.prototype.toWkt=function(){return typeof this.x>"u"&&typeof this.y>"u"&&typeof this.z>"u"&&typeof this.m>"u"?this._getWktType(b.wkt.Point,!0):this._getWktType(b.wkt.Point,!1)+"("+this._getWktCoordinate(this)+")"},c.prototype.toWkb=function(s){var n=new y(this._getWkbSize());return n.writeInt8(1),this._writeWkbType(n,b.wkb.Point,s),typeof this.x>"u"&&typeof this.y>"u"?(n.writeDoubleLE(NaN),n.writeDoubleLE(NaN),this.hasZ&&n.writeDoubleLE(NaN),this.hasM&&n.writeDoubleLE(NaN)):this._writeWkbPoint(n),n.buffer},c.prototype._writeWkbPoint=function(s){s.writeDoubleLE(this.x),s.writeDoubleLE(this.y),this.hasZ&&s.writeDoubleLE(this.z),this.hasM&&s.writeDoubleLE(this.m)},c.prototype.toTwkb=function(){var s=new y(0,!0),n=g.getTwkbPrecision(5,0,0),a=typeof this.x>"u"&&typeof this.y>"u";return this._writeTwkbHeader(s,b.wkb.Point,n,a),a||this._writeTwkbPoint(s,n,new c(0,0,0,0)),s.buffer},c.prototype._writeTwkbPoint=function(s,n,a){var h=this.x*n.xyFactor,S=this.y*n.xyFactor,P=this.z*n.zFactor,U=this.m*n.mFactor;s.writeVarInt(E.encode(h-a.x)),s.writeVarInt(E.encode(S-a.y)),this.hasZ&&s.writeVarInt(E.encode(P-a.z)),this.hasM&&s.writeVarInt(E.encode(U-a.m)),a.x=h,a.y=S,a.z=P,a.m=U},c.prototype._getWkbSize=function(){var s=21;return this.hasZ&&(s+=8),this.hasM&&(s+=8),s},c.prototype.toGeoJSON=function(s){var n=g.prototype.toGeoJSON.call(this,s);return n.type=b.geoJSON.Point,typeof this.x>"u"&&typeof this.y>"u"?n.coordinates=[]:typeof this.z<"u"?n.coordinates=[this.x,this.y,this.z]:n.coordinates=[this.x,this.y],n},te}var re,De;function le(){if(De)return re;De=1,re=c;var d=Ut,g=Gt(),b=St,y=qt(),E=Zt;function c(s,n){g.call(this),this.points=s||[],this.srid=n,this.points.length>0&&(this.hasZ=this.points[0].hasZ,this.hasM=this.points[0].hasM)}return d.inherits(c,g),c.Z=function(s,n){var a=new c(s,n);return a.hasZ=!0,a},c.M=function(s,n){var a=new c(s,n);return a.hasM=!0,a},c.ZM=function(s,n){var a=new c(s,n);return a.hasZ=!0,a.hasM=!0,a},c._parseWkt=function(s,n){var a=new c;return a.srid=n.srid,a.hasZ=n.hasZ,a.hasM=n.hasM,s.isMatch(["EMPTY"])||(s.expectGroupStart(),a.points.push.apply(a.points,s.matchCoordinates(n)),s.expectGroupEnd()),a},c._parseWkb=function(s,n){var a=new c;a.srid=n.srid,a.hasZ=n.hasZ,a.hasM=n.hasM;for(var h=s.readUInt32(),S=0;S<h;S++)a.points.push(y._readWkbPoint(s,n));return a},c._parseTwkb=function(s,n){var a=new c;if(a.hasZ=n.hasZ,a.hasM=n.hasM,n.isEmpty)return a;for(var h=new y(0,0,n.hasZ?0:void 0,n.hasM?0:void 0),S=s.readVarInt(),P=0;P<S;P++)a.points.push(y._readTwkbPoint(s,n,h));return a},c._parseGeoJSON=function(s){var n=new c;s.coordinates.length>0&&(n.hasZ=s.coordinates[0].length>2);for(var a=0;a<s.coordinates.length;a++)n.points.push(y._readGeoJSONPoint(s.coordinates[a]));return n},c.prototype.toWkt=function(){return this.points.length===0?this._getWktType(b.wkt.LineString,!0):this._getWktType(b.wkt.LineString,!1)+this._toInnerWkt()},c.prototype._toInnerWkt=function(){for(var s="(",n=0;n<this.points.length;n++)s+=this._getWktCoordinate(this.points[n])+",";return s=s.slice(0,-1),s+=")",s},c.prototype.toWkb=function(s){var n=new E(this._getWkbSize());n.writeInt8(1),this._writeWkbType(n,b.wkb.LineString,s),n.writeUInt32LE(this.points.length);for(var a=0;a<this.points.length;a++)this.points[a]._writeWkbPoint(n);return n.buffer},c.prototype.toTwkb=function(){var s=new E(0,!0),n=g.getTwkbPrecision(5,0,0),a=this.points.length===0;if(this._writeTwkbHeader(s,b.wkb.LineString,n,a),this.points.length>0){s.writeVarInt(this.points.length);for(var h=new y(0,0,0,0),S=0;S<this.points.length;S++)this.points[S]._writeTwkbPoint(s,n,h)}return s.buffer},c.prototype._getWkbSize=function(){var s=16;return this.hasZ&&(s+=8),this.hasM&&(s+=8),9+this.points.length*s},c.prototype.toGeoJSON=function(s){var n=g.prototype.toGeoJSON.call(this,s);n.type=b.geoJSON.LineString,n.coordinates=[];for(var a=0;a<this.points.length;a++)this.hasZ?n.coordinates.push([this.points[a].x,this.points[a].y,this.points[a].z]):n.coordinates.push([this.points[a].x,this.points[a].y]);return n},re}var ee,ze;function pe(){if(ze)return ee;ze=1,ee=c;var d=Ut,g=Gt(),b=St,y=qt(),E=Zt;function c(s,n,a){g.call(this),this.exteriorRing=s||[],this.interiorRings=n||[],this.srid=a,this.exteriorRing.length>0&&(this.hasZ=this.exteriorRing[0].hasZ,this.hasM=this.exteriorRing[0].hasM)}return d.inherits(c,g),c.Z=function(s,n,a){var h=new c(s,n,a);return h.hasZ=!0,h},c.M=function(s,n,a){var h=new c(s,n,a);return h.hasM=!0,h},c.ZM=function(s,n,a){var h=new c(s,n,a);return h.hasZ=!0,h.hasM=!0,h},c._parseWkt=function(s,n){var a=new c;if(a.srid=n.srid,a.hasZ=n.hasZ,a.hasM=n.hasM,s.isMatch(["EMPTY"]))return a;for(s.expectGroupStart(),s.expectGroupStart(),a.exteriorRing.push.apply(a.exteriorRing,s.matchCoordinates(n)),s.expectGroupEnd();s.isMatch([","]);)s.expectGroupStart(),a.interiorRings.push(s.matchCoordinates(n)),s.expectGroupEnd();return s.expectGroupEnd(),a},c._parseWkb=function(s,n){var a=new c;a.srid=n.srid,a.hasZ=n.hasZ,a.hasM=n.hasM;var h=s.readUInt32();if(h>0){for(var S=s.readUInt32(),P=0;P<S;P++)a.exteriorRing.push(y._readWkbPoint(s,n));for(P=1;P<h;P++){for(var U=[],M=s.readUInt32(),A=0;A<M;A++)U.push(y._readWkbPoint(s,n));a.interiorRings.push(U)}}return a},c._parseTwkb=function(s,n){var a=new c;if(a.hasZ=n.hasZ,a.hasM=n.hasM,n.isEmpty)return a;for(var h=new y(0,0,n.hasZ?0:void 0,n.hasM?0:void 0),S=s.readVarInt(),P=s.readVarInt(),U=0;U<P;U++)a.exteriorRing.push(y._readTwkbPoint(s,n,h));for(U=1;U<S;U++){for(var M=[],A=s.readVarInt(),B=0;B<A;B++)M.push(y._readTwkbPoint(s,n,h));a.interiorRings.push(M)}return a},c._parseGeoJSON=function(s){var n=new c;s.coordinates.length>0&&s.coordinates[0].length>0&&(n.hasZ=s.coordinates[0][0].length>2);for(var a=0;a<s.coordinates.length;a++){a>0&&n.interiorRings.push([]);for(var h=0;h<s.coordinates[a].length;h++)a===0?n.exteriorRing.push(y._readGeoJSONPoint(s.coordinates[a][h])):n.interiorRings[a-1].push(y._readGeoJSONPoint(s.coordinates[a][h]))}return n},c.prototype.toWkt=function(){return this.exteriorRing.length===0?this._getWktType(b.wkt.Polygon,!0):this._getWktType(b.wkt.Polygon,!1)+this._toInnerWkt()},c.prototype._toInnerWkt=function(){for(var s="((",n=0;n<this.exteriorRing.length;n++)s+=this._getWktCoordinate(this.exteriorRing[n])+",";for(s=s.slice(0,-1),s+=")",n=0;n<this.interiorRings.length;n++){s+=",(";for(var a=0;a<this.interiorRings[n].length;a++)s+=this._getWktCoordinate(this.interiorRings[n][a])+",";s=s.slice(0,-1),s+=")"}return s+=")",s},c.prototype.toWkb=function(s){var n=new E(this._getWkbSize());n.writeInt8(1),this._writeWkbType(n,b.wkb.Polygon,s),this.exteriorRing.length>0?(n.writeUInt32LE(1+this.interiorRings.length),n.writeUInt32LE(this.exteriorRing.length)):n.writeUInt32LE(0);for(var a=0;a<this.exteriorRing.length;a++)this.exteriorRing[a]._writeWkbPoint(n);for(a=0;a<this.interiorRings.length;a++){n.writeUInt32LE(this.interiorRings[a].length);for(var h=0;h<this.interiorRings[a].length;h++)this.interiorRings[a][h]._writeWkbPoint(n)}return n.buffer},c.prototype.toTwkb=function(){var s=new E(0,!0),n=g.getTwkbPrecision(5,0,0),a=this.exteriorRing.length===0;if(this._writeTwkbHeader(s,b.wkb.Polygon,n,a),this.exteriorRing.length>0){s.writeVarInt(1+this.interiorRings.length),s.writeVarInt(this.exteriorRing.length);for(var h=new y(0,0,0,0),S=0;S<this.exteriorRing.length;S++)this.exteriorRing[S]._writeTwkbPoint(s,n,h);for(S=0;S<this.interiorRings.length;S++){s.writeVarInt(this.interiorRings[S].length);for(var P=0;P<this.interiorRings[S].length;P++)this.interiorRings[S][P]._writeTwkbPoint(s,n,h)}}return s.buffer},c.prototype._getWkbSize=function(){var s=16;this.hasZ&&(s+=8),this.hasM&&(s+=8);var n=9;this.exteriorRing.length>0&&(n+=4+this.exteriorRing.length*s);for(var a=0;a<this.interiorRings.length;a++)n+=4+this.interiorRings[a].length*s;return n},c.prototype.toGeoJSON=function(s){var n=g.prototype.toGeoJSON.call(this,s);if(n.type=b.geoJSON.Polygon,n.coordinates=[],this.exteriorRing.length>0){for(var a=[],h=0;h<this.exteriorRing.length;h++)this.hasZ?a.push([this.exteriorRing[h].x,this.exteriorRing[h].y,this.exteriorRing[h].z]):a.push([this.exteriorRing[h].x,this.exteriorRing[h].y]);n.coordinates.push(a)}for(var S=0;S<this.interiorRings.length;S++){for(var P=[],U=0;U<this.interiorRings[S].length;U++)this.hasZ?P.push([this.interiorRings[S][U].x,this.interiorRings[S][U].y,this.interiorRings[S][U].z]):P.push([this.interiorRings[S][U].x,this.interiorRings[S][U].y]);n.coordinates.push(P)}return n},ee}var ne,Je;function rn(){if(Je)return ne;Je=1,ne=c;var d=Ut,g=St,b=Gt(),y=qt(),E=Zt;function c(s,n){b.call(this),this.points=s||[],this.srid=n,this.points.length>0&&(this.hasZ=this.points[0].hasZ,this.hasM=this.points[0].hasM)}return d.inherits(c,b),c.Z=function(s,n){var a=new c(s,n);return a.hasZ=!0,a},c.M=function(s,n){var a=new c(s,n);return a.hasM=!0,a},c.ZM=function(s,n){var a=new c(s,n);return a.hasZ=!0,a.hasM=!0,a},c._parseWkt=function(s,n){var a=new c;return a.srid=n.srid,a.hasZ=n.hasZ,a.hasM=n.hasM,s.isMatch(["EMPTY"])||(s.expectGroupStart(),a.points.push.apply(a.points,s.matchCoordinates(n)),s.expectGroupEnd()),a},c._parseWkb=function(s,n){var a=new c;a.srid=n.srid,a.hasZ=n.hasZ,a.hasM=n.hasM;for(var h=s.readUInt32(),S=0;S<h;S++)a.points.push(b.parse(s,n));return a},c._parseTwkb=function(s,n){var a=new c;if(a.hasZ=n.hasZ,a.hasM=n.hasM,n.isEmpty)return a;for(var h=new y(0,0,n.hasZ?0:void 0,n.hasM?0:void 0),S=s.readVarInt(),P=0;P<S;P++)a.points.push(y._readTwkbPoint(s,n,h));return a},c._parseGeoJSON=function(s){var n=new c;s.coordinates.length>0&&(n.hasZ=s.coordinates[0].length>2);for(var a=0;a<s.coordinates.length;a++)n.points.push(y._parseGeoJSON({coordinates:s.coordinates[a]}));return n},c.prototype.toWkt=function(){if(this.points.length===0)return this._getWktType(g.wkt.MultiPoint,!0);for(var s=this._getWktType(g.wkt.MultiPoint,!1)+"(",n=0;n<this.points.length;n++)s+=this._getWktCoordinate(this.points[n])+",";return s=s.slice(0,-1),s+=")",s},c.prototype.toWkb=function(){var s=new E(this._getWkbSize());s.writeInt8(1),this._writeWkbType(s,g.wkb.MultiPoint),s.writeUInt32LE(this.points.length);for(var n=0;n<this.points.length;n++)s.writeBuffer(this.points[n].toWkb({srid:this.srid}));return s.buffer},c.prototype.toTwkb=function(){var s=new E(0,!0),n=b.getTwkbPrecision(5,0,0),a=this.points.length===0;if(this._writeTwkbHeader(s,g.wkb.MultiPoint,n,a),this.points.length>0){s.writeVarInt(this.points.length);for(var h=new y(0,0,0,0),S=0;S<this.points.length;S++)this.points[S]._writeTwkbPoint(s,n,h)}return s.buffer},c.prototype._getWkbSize=function(){var s=16;return this.hasZ&&(s+=8),this.hasM&&(s+=8),s+=5,9+this.points.length*s},c.prototype.toGeoJSON=function(s){var n=b.prototype.toGeoJSON.call(this,s);n.type=g.geoJSON.MultiPoint,n.coordinates=[];for(var a=0;a<this.points.length;a++)n.coordinates.push(this.points[a].toGeoJSON().coordinates);return n},ne}var ie,Ve;function en(){if(Ve)return ie;Ve=1,ie=s;var d=Ut,g=St,b=Gt(),y=qt(),E=le(),c=Zt;function s(n,a){b.call(this),this.lineStrings=n||[],this.srid=a,this.lineStrings.length>0&&(this.hasZ=this.lineStrings[0].hasZ,this.hasM=this.lineStrings[0].hasM)}return d.inherits(s,b),s.Z=function(n,a){var h=new s(n,a);return h.hasZ=!0,h},s.M=function(n,a){var h=new s(n,a);return h.hasM=!0,h},s.ZM=function(n,a){var h=new s(n,a);return h.hasZ=!0,h.hasM=!0,h},s._parseWkt=function(n,a){var h=new s;if(h.srid=a.srid,h.hasZ=a.hasZ,h.hasM=a.hasM,n.isMatch(["EMPTY"]))return h;n.expectGroupStart();do n.expectGroupStart(),h.lineStrings.push(new E(n.matchCoordinates(a))),n.expectGroupEnd();while(n.isMatch([","]));return n.expectGroupEnd(),h},s._parseWkb=function(n,a){var h=new s;h.srid=a.srid,h.hasZ=a.hasZ,h.hasM=a.hasM;for(var S=n.readUInt32(),P=0;P<S;P++)h.lineStrings.push(b.parse(n,a));return h},s._parseTwkb=function(n,a){var h=new s;if(h.hasZ=a.hasZ,h.hasM=a.hasM,a.isEmpty)return h;for(var S=new y(0,0,a.hasZ?0:void 0,a.hasM?0:void 0),P=n.readVarInt(),U=0;U<P;U++){var M=new E;M.hasZ=a.hasZ,M.hasM=a.hasM;for(var A=n.readVarInt(),B=0;B<A;B++)M.points.push(y._readTwkbPoint(n,a,S));h.lineStrings.push(M)}return h},s._parseGeoJSON=function(n){var a=new s;n.coordinates.length>0&&n.coordinates[0].length>0&&(a.hasZ=n.coordinates[0][0].length>2);for(var h=0;h<n.coordinates.length;h++)a.lineStrings.push(E._parseGeoJSON({coordinates:n.coordinates[h]}));return a},s.prototype.toWkt=function(){if(this.lineStrings.length===0)return this._getWktType(g.wkt.MultiLineString,!0);for(var n=this._getWktType(g.wkt.MultiLineString,!1)+"(",a=0;a<this.lineStrings.length;a++)n+=this.lineStrings[a]._toInnerWkt()+",";return n=n.slice(0,-1),n+=")",n},s.prototype.toWkb=function(){var n=new c(this._getWkbSize());n.writeInt8(1),this._writeWkbType(n,g.wkb.MultiLineString),n.writeUInt32LE(this.lineStrings.length);for(var a=0;a<this.lineStrings.length;a++)n.writeBuffer(this.lineStrings[a].toWkb({srid:this.srid}));return n.buffer},s.prototype.toTwkb=function(){var n=new c(0,!0),a=b.getTwkbPrecision(5,0,0),h=this.lineStrings.length===0;if(this._writeTwkbHeader(n,g.wkb.MultiLineString,a,h),this.lineStrings.length>0){n.writeVarInt(this.lineStrings.length);for(var S=new y(0,0,0,0),P=0;P<this.lineStrings.length;P++){n.writeVarInt(this.lineStrings[P].points.length);for(var U=0;U<this.lineStrings[P].points.length;U++)this.lineStrings[P].points[U]._writeTwkbPoint(n,a,S)}}return n.buffer},s.prototype._getWkbSize=function(){for(var n=9,a=0;a<this.lineStrings.length;a++)n+=this.lineStrings[a]._getWkbSize();return n},s.prototype.toGeoJSON=function(n){var a=b.prototype.toGeoJSON.call(this,n);a.type=g.geoJSON.MultiLineString,a.coordinates=[];for(var h=0;h<this.lineStrings.length;h++)a.coordinates.push(this.lineStrings[h].toGeoJSON().coordinates);return a},ie}var oe,Ye;function nn(){if(Ye)return oe;Ye=1,oe=s;var d=Ut,g=St,b=Gt(),y=qt(),E=pe(),c=Zt;function s(n,a){b.call(this),this.polygons=n||[],this.srid=a,this.polygons.length>0&&(this.hasZ=this.polygons[0].hasZ,this.hasM=this.polygons[0].hasM)}return d.inherits(s,b),s.Z=function(n,a){var h=new s(n,a);return h.hasZ=!0,h},s.M=function(n,a){var h=new s(n,a);return h.hasM=!0,h},s.ZM=function(n,a){var h=new s(n,a);return h.hasZ=!0,h.hasM=!0,h},s._parseWkt=function(n,a){var h=new s;if(h.srid=a.srid,h.hasZ=a.hasZ,h.hasM=a.hasM,n.isMatch(["EMPTY"]))return h;n.expectGroupStart();do{n.expectGroupStart();var S=[],P=[];for(n.expectGroupStart(),S.push.apply(S,n.matchCoordinates(a)),n.expectGroupEnd();n.isMatch([","]);)n.expectGroupStart(),P.push(n.matchCoordinates(a)),n.expectGroupEnd();h.polygons.push(new E(S,P)),n.expectGroupEnd()}while(n.isMatch([","]));return n.expectGroupEnd(),h},s._parseWkb=function(n,a){var h=new s;h.srid=a.srid,h.hasZ=a.hasZ,h.hasM=a.hasM;for(var S=n.readUInt32(),P=0;P<S;P++)h.polygons.push(b.parse(n,a));return h},s._parseTwkb=function(n,a){var h=new s;if(h.hasZ=a.hasZ,h.hasM=a.hasM,a.isEmpty)return h;for(var S=new y(0,0,a.hasZ?0:void 0,a.hasM?0:void 0),P=n.readVarInt(),U=0;U<P;U++){var M=new E;M.hasZ=a.hasZ,M.hasM=a.hasM;for(var A=n.readVarInt(),B=n.readVarInt(),N=0;N<B;N++)M.exteriorRing.push(y._readTwkbPoint(n,a,S));for(N=1;N<A;N++){for(var z=[],q=n.readVarInt(),D=0;D<q;D++)z.push(y._readTwkbPoint(n,a,S));M.interiorRings.push(z)}h.polygons.push(M)}return h},s._parseGeoJSON=function(n){var a=new s;n.coordinates.length>0&&n.coordinates[0].length>0&&n.coordinates[0][0].length>0&&(a.hasZ=n.coordinates[0][0][0].length>2);for(var h=0;h<n.coordinates.length;h++)a.polygons.push(E._parseGeoJSON({coordinates:n.coordinates[h]}));return a},s.prototype.toWkt=function(){if(this.polygons.length===0)return this._getWktType(g.wkt.MultiPolygon,!0);for(var n=this._getWktType(g.wkt.MultiPolygon,!1)+"(",a=0;a<this.polygons.length;a++)n+=this.polygons[a]._toInnerWkt()+",";return n=n.slice(0,-1),n+=")",n},s.prototype.toWkb=function(){var n=new c(this._getWkbSize());n.writeInt8(1),this._writeWkbType(n,g.wkb.MultiPolygon),n.writeUInt32LE(this.polygons.length);for(var a=0;a<this.polygons.length;a++)n.writeBuffer(this.polygons[a].toWkb({srid:this.srid}));return n.buffer},s.prototype.toTwkb=function(){var n=new c(0,!0),a=b.getTwkbPrecision(5,0,0),h=this.polygons.length===0;if(this._writeTwkbHeader(n,g.wkb.MultiPolygon,a,h),this.polygons.length>0){n.writeVarInt(this.polygons.length);for(var S=new y(0,0,0,0),P=0;P<this.polygons.length;P++){n.writeVarInt(1+this.polygons[P].interiorRings.length),n.writeVarInt(this.polygons[P].exteriorRing.length);for(var U=0;U<this.polygons[P].exteriorRing.length;U++)this.polygons[P].exteriorRing[U]._writeTwkbPoint(n,a,S);for(U=0;U<this.polygons[P].interiorRings.length;U++){n.writeVarInt(this.polygons[P].interiorRings[U].length);for(var M=0;M<this.polygons[P].interiorRings[U].length;M++)this.polygons[P].interiorRings[U][M]._writeTwkbPoint(n,a,S)}}}return n.buffer},s.prototype._getWkbSize=function(){for(var n=9,a=0;a<this.polygons.length;a++)n+=this.polygons[a]._getWkbSize();return n},s.prototype.toGeoJSON=function(n){var a=b.prototype.toGeoJSON.call(this,n);a.type=g.geoJSON.MultiPolygon,a.coordinates=[];for(var h=0;h<this.polygons.length;h++)a.coordinates.push(this.polygons[h].toGeoJSON().coordinates);return a},oe}var se,$e;function on(){if($e)return se;$e=1,se=E;var d=Ut,g=St,b=Gt(),y=Zt;function E(c,s){b.call(this),this.geometries=c||[],this.srid=s,this.geometries.length>0&&(this.hasZ=this.geometries[0].hasZ,this.hasM=this.geometries[0].hasM)}return d.inherits(E,b),E.Z=function(c,s){var n=new E(c,s);return n.hasZ=!0,n},E.M=function(c,s){var n=new E(c,s);return n.hasM=!0,n},E.ZM=function(c,s){var n=new E(c,s);return n.hasZ=!0,n.hasM=!0,n},E._parseWkt=function(c,s){var n=new E;if(n.srid=s.srid,n.hasZ=s.hasZ,n.hasM=s.hasM,c.isMatch(["EMPTY"]))return n;c.expectGroupStart();do n.geometries.push(b.parse(c));while(c.isMatch([","]));return c.expectGroupEnd(),n},E._parseWkb=function(c,s){var n=new E;n.srid=s.srid,n.hasZ=s.hasZ,n.hasM=s.hasM;for(var a=c.readUInt32(),h=0;h<a;h++)n.geometries.push(b.parse(c,s));return n},E._parseTwkb=function(c,s){var n=new E;if(n.hasZ=s.hasZ,n.hasM=s.hasM,s.isEmpty)return n;for(var a=c.readVarInt(),h=0;h<a;h++)n.geometries.push(b.parseTwkb(c));return n},E._parseGeoJSON=function(c){for(var s=new E,n=0;n<c.geometries.length;n++)s.geometries.push(b._parseGeoJSON(c.geometries[n],!0));return s.geometries.length>0&&(s.hasZ=s.geometries[0].hasZ),s},E.prototype.toWkt=function(){if(this.geometries.length===0)return this._getWktType(g.wkt.GeometryCollection,!0);for(var c=this._getWktType(g.wkt.GeometryCollection,!1)+"(",s=0;s<this.geometries.length;s++)c+=this.geometries[s].toWkt()+",";return c=c.slice(0,-1),c+=")",c},E.prototype.toWkb=function(){var c=new y(this._getWkbSize());c.writeInt8(1),this._writeWkbType(c,g.wkb.GeometryCollection),c.writeUInt32LE(this.geometries.length);for(var s=0;s<this.geometries.length;s++)c.writeBuffer(this.geometries[s].toWkb({srid:this.srid}));return c.buffer},E.prototype.toTwkb=function(){var c=new y(0,!0),s=b.getTwkbPrecision(5,0,0),n=this.geometries.length===0;if(this._writeTwkbHeader(c,g.wkb.GeometryCollection,s,n),this.geometries.length>0){c.writeVarInt(this.geometries.length);for(var a=0;a<this.geometries.length;a++)c.writeBuffer(this.geometries[a].toTwkb())}return c.buffer},E.prototype._getWkbSize=function(){for(var c=9,s=0;s<this.geometries.length;s++)c+=this.geometries[s]._getWkbSize();return c},E.prototype.toGeoJSON=function(c){var s=b.prototype.toGeoJSON.call(this,c);s.type=g.geoJSON.GeometryCollection,s.geometries=[];for(var n=0;n<this.geometries.length;n++)s.geometries.push(this.geometries[n].toGeoJSON());return s},se}var fi=Bt;function Bt(d,g){this.buffer=d,this.position=0,this.isBigEndian=g||!1}function Ct(d,g,b){return function(){var y;return this.isBigEndian?y=g.call(this.buffer,this.position):y=d.call(this.buffer,this.position),this.position+=b,y}}Bt.prototype.readUInt8=Ct(Buffer.prototype.readUInt8,Buffer.prototype.readUInt8,1);Bt.prototype.readUInt16=Ct(Buffer.prototype.readUInt16LE,Buffer.prototype.readUInt16BE,2);Bt.prototype.readUInt32=Ct(Buffer.prototype.readUInt32LE,Buffer.prototype.readUInt32BE,4);Bt.prototype.readInt8=Ct(Buffer.prototype.readInt8,Buffer.prototype.readInt8,1);Bt.prototype.readInt16=Ct(Buffer.prototype.readInt16LE,Buffer.prototype.readInt16BE,2);Bt.prototype.readInt32=Ct(Buffer.prototype.readInt32LE,Buffer.prototype.readInt32BE,4);Bt.prototype.readFloat=Ct(Buffer.prototype.readFloatLE,Buffer.prototype.readFloatBE,4);Bt.prototype.readDouble=Ct(Buffer.prototype.readDoubleLE,Buffer.prototype.readDoubleBE,8);Bt.prototype.readVarInt=function(){var d,g=0,b=0;do d=this.buffer[this.position+b],g+=(d&127)<<7*b,b++;while(d>=128);return this.position+=b,g};var ae,He;function li(){if(He)return ae;He=1,ae=b;var d=St,g=qt();function b(y){this.value=y,this.position=0}return b.prototype.match=function(y){this.skipWhitespaces();for(var E=0;E<y.length;E++)if(this.value.substring(this.position).indexOf(y[E])===0)return this.position+=y[E].length,y[E];return null},b.prototype.matchRegex=function(y){this.skipWhitespaces();for(var E=0;E<y.length;E++){var c=this.value.substring(this.position).match(y[E]);if(c)return this.position+=c[0].length,c}return null},b.prototype.isMatch=function(y){this.skipWhitespaces();for(var E=0;E<y.length;E++)if(this.value.substring(this.position).indexOf(y[E])===0)return this.position+=y[E].length,!0;return!1},b.prototype.matchType=function(){var y=this.match([d.wkt.Point,d.wkt.LineString,d.wkt.Polygon,d.wkt.MultiPoint,d.wkt.MultiLineString,d.wkt.MultiPolygon,d.wkt.GeometryCollection]);if(!y)throw new Error("Expected geometry type");return y},b.prototype.matchDimension=function(){var y=this.match(["ZM","Z","M"]);switch(y){case"ZM":return{hasZ:!0,hasM:!0};case"Z":return{hasZ:!0,hasM:!1};case"M":return{hasZ:!1,hasM:!0};default:return{hasZ:!1,hasM:!1}}},b.prototype.expectGroupStart=function(){if(!this.isMatch(["("]))throw new Error("Expected group start")},b.prototype.expectGroupEnd=function(){if(!this.isMatch([")"]))throw new Error("Expected group end")},b.prototype.matchCoordinate=function(y){var E;if(y.hasZ&&y.hasM?E=this.matchRegex([/^(\S*)\s+(\S*)\s+(\S*)\s+([^\s,)]*)/]):y.hasZ||y.hasM?E=this.matchRegex([/^(\S*)\s+(\S*)\s+([^\s,)]*)/]):E=this.matchRegex([/^(\S*)\s+([^\s,)]*)/]),!E)throw new Error("Expected coordinates");return y.hasZ&&y.hasM?new g(parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3]),parseFloat(E[4])):y.hasZ?new g(parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3])):y.hasM?new g(parseFloat(E[1]),parseFloat(E[2]),void 0,parseFloat(E[3])):new g(parseFloat(E[1]),parseFloat(E[2]))},b.prototype.matchCoordinates=function(y){var E=[];do{var c=this.isMatch(["("]);E.push(this.matchCoordinate(y)),c&&this.expectGroupEnd()}while(this.isMatch([","]));return E},b.prototype.skipWhitespaces=function(){for(;this.position<this.value.length&&this.value[this.position]===" ";)this.position++},ae}var ue,Ke;function Gt(){if(Ke)return ue;Ke=1,ue=U;var d=St,g=qt(),b=le(),y=pe(),E=rn(),c=en(),s=nn(),n=on(),a=fi,h=Zt,S=li(),P=tn;function U(){this.srid=void 0,this.hasZ=!1,this.hasM=!1}return U.parse=function(M,A){var B=typeof M;if(B==="string"||M instanceof S)return U._parseWkt(M);if(Buffer.isBuffer(M)||M instanceof a)return U._parseWkb(M,A);throw new Error("first argument must be a string or Buffer")},U._parseWkt=function(M){var A,B;M instanceof S?A=M:A=new S(M);var N=A.matchRegex([/^SRID=(\d+);/]);N&&(B=parseInt(N[1],10));var z=A.matchType(),q=A.matchDimension(),D={srid:B,hasZ:q.hasZ,hasM:q.hasM};switch(z){case d.wkt.Point:return g._parseWkt(A,D);case d.wkt.LineString:return b._parseWkt(A,D);case d.wkt.Polygon:return y._parseWkt(A,D);case d.wkt.MultiPoint:return E._parseWkt(A,D);case d.wkt.MultiLineString:return c._parseWkt(A,D);case d.wkt.MultiPolygon:return s._parseWkt(A,D);case d.wkt.GeometryCollection:return n._parseWkt(A,D)}},U._parseWkb=function(M,A){var B,N,z,q={};switch(M instanceof a?B=M:B=new a(M),B.isBigEndian=!B.readInt8(),N=B.readUInt32(),q.hasSrid=(N&536870912)===536870912,q.isEwkb=N&536870912||N&1073741824||N&2147483648,q.hasSrid&&(q.srid=B.readUInt32()),q.hasZ=!1,q.hasM=!1,!q.isEwkb&&(!A||!A.isEwkb)?N>=1e3&&N<2e3?(q.hasZ=!0,z=N-1e3):N>=2e3&&N<3e3?(q.hasM=!0,z=N-2e3):N>=3e3&&N<4e3?(q.hasZ=!0,q.hasM=!0,z=N-3e3):z=N:(N&2147483648&&(q.hasZ=!0),N&1073741824&&(q.hasM=!0),z=N&15),z){case d.wkb.Point:return g._parseWkb(B,q);case d.wkb.LineString:return b._parseWkb(B,q);case d.wkb.Polygon:return y._parseWkb(B,q);case d.wkb.MultiPoint:return E._parseWkb(B,q);case d.wkb.MultiLineString:return c._parseWkb(B,q);case d.wkb.MultiPolygon:return s._parseWkb(B,q);case d.wkb.GeometryCollection:return n._parseWkb(B,q);default:throw new Error("GeometryType "+z+" not supported")}},U.parseTwkb=function(M){var A,B={};M instanceof a?A=M:A=new a(M);var N=A.readUInt8(),z=A.readUInt8(),q=N&15;if(B.precision=P.decode(N>>4),B.precisionFactor=Math.pow(10,B.precision),B.hasBoundingBox=z>>0&1,B.hasSizeAttribute=z>>1&1,B.hasIdList=z>>2&1,B.hasExtendedPrecision=z>>3&1,B.isEmpty=z>>4&1,B.hasExtendedPrecision){var D=A.readUInt8();B.hasZ=(D&1)===1,B.hasM=(D&2)===2,B.zPrecision=P.decode((D&28)>>2),B.zPrecisionFactor=Math.pow(10,B.zPrecision),B.mPrecision=P.decode((D&224)>>5),B.mPrecisionFactor=Math.pow(10,B.mPrecision)}else B.hasZ=!1,B.hasM=!1;if(B.hasSizeAttribute&&A.readVarInt(),B.hasBoundingBox){var at=2;B.hasZ&&at++,B.hasM&&at++;for(var j=0;j<at;j++)A.readVarInt(),A.readVarInt()}switch(q){case d.wkb.Point:return g._parseTwkb(A,B);case d.wkb.LineString:return b._parseTwkb(A,B);case d.wkb.Polygon:return y._parseTwkb(A,B);case d.wkb.MultiPoint:return E._parseTwkb(A,B);case d.wkb.MultiLineString:return c._parseTwkb(A,B);case d.wkb.MultiPolygon:return s._parseTwkb(A,B);case d.wkb.GeometryCollection:return n._parseTwkb(A,B);default:throw new Error("GeometryType "+q+" not supported")}},U.parseGeoJSON=function(M){return U._parseGeoJSON(M)},U._parseGeoJSON=function(M,A){var B;switch(M.type){case d.geoJSON.Point:B=g._parseGeoJSON(M);break;case d.geoJSON.LineString:B=b._parseGeoJSON(M);break;case d.geoJSON.Polygon:B=y._parseGeoJSON(M);break;case d.geoJSON.MultiPoint:B=E._parseGeoJSON(M);break;case d.geoJSON.MultiLineString:B=c._parseGeoJSON(M);break;case d.geoJSON.MultiPolygon:B=s._parseGeoJSON(M);break;case d.geoJSON.GeometryCollection:B=n._parseGeoJSON(M);break;default:throw new Error("GeometryType "+M.type+" not supported")}if(M.crs&&M.crs.type&&M.crs.type==="name"&&M.crs.properties&&M.crs.properties.name){var N=M.crs.properties.name;if(N.indexOf("EPSG:")===0)B.srid=parseInt(N.substring(5));else if(N.indexOf("urn:ogc:def:crs:EPSG::")===0)B.srid=parseInt(N.substring(22));else throw new Error("Unsupported crs: "+N)}else A||(B.srid=4326);return B},U.prototype.toEwkt=function(){return"SRID="+this.srid+";"+this.toWkt()},U.prototype.toEwkb=function(){var M=new h(this._getWkbSize()+4),A=this.toWkb();return M.writeInt8(1),M.writeUInt32LE((A.slice(1,5).readUInt32LE(0)|536870912)>>>0,!0),M.writeUInt32LE(this.srid),M.writeBuffer(A.slice(5)),M.buffer},U.prototype._getWktType=function(M,A){var B=M;return this.hasZ&&this.hasM?B+=" ZM ":this.hasZ?B+=" Z ":this.hasM&&(B+=" M "),A&&!this.hasZ&&!this.hasM&&(B+=" "),A&&(B+="EMPTY"),B},U.prototype._getWktCoordinate=function(M){var A=M.x+" "+M.y;return this.hasZ&&(A+=" "+M.z),this.hasM&&(A+=" "+M.m),A},U.prototype._writeWkbType=function(M,A,B){var N=0;typeof this.srid>"u"&&(!B||typeof B.srid>"u")?this.hasZ&&this.hasM?N+=3e3:this.hasZ?N+=1e3:this.hasM&&(N+=2e3):(this.hasZ&&(N|=2147483648),this.hasM&&(N|=1073741824)),M.writeUInt32LE(N+A>>>0,!0)},U.getTwkbPrecision=function(M,A,B){return{xy:M,z:A,m:B,xyFactor:Math.pow(10,M),zFactor:Math.pow(10,A),mFactor:Math.pow(10,B)}},U.prototype._writeTwkbHeader=function(M,A,B,N){var z=(P.encode(B.xy)<<4)+A,q=(this.hasZ||this.hasM)<<3;if(q+=N<<4,M.writeUInt8(z),M.writeUInt8(q),this.hasZ||this.hasM){var D=0;this.hasZ&&(D|=1),this.hasM&&(D|=2),M.writeUInt8(D)}},U.prototype.toGeoJSON=function(M){var A={};return this.srid&&M&&(M.shortCrs?A.crs={type:"name",properties:{name:"EPSG:"+this.srid}}:M.longCrs&&(A.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+this.srid}})),A},ue}Mt.Types=St;Mt.Geometry=Gt();Mt.Point=qt();Mt.LineString=le();Mt.Polygon=pe();Mt.MultiPoint=rn();Mt.MultiLineString=en();Mt.MultiPolygon=nn();Mt.GeometryCollection=on();function sn(d,g,b){b===void 0&&(b={});var y={type:"Feature"};return(b.id===0||b.id)&&(y.id=b.id),b.bbox&&(y.bbox=b.bbox),y.properties={},y.geometry=d,y}function pi(d,g,b){b===void 0&&(b={});for(var y=0,E=d;y<E.length;y++){var c=E[y];if(c.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<c[c.length-1].length;s++)if(c[c.length-1][s]!==c[0][s])throw new Error("First and last Position are not equivalent.")}var n={type:"Polygon",coordinates:d};return sn(n,g,b)}function ci(d,g,b){b===void 0&&(b={});var y={type:"MultiPolygon",coordinates:d};return sn(y,g,b)}function an(d,g,b){if(d!==null)for(var y,E,c,s,n,a,h,S=0,P=0,U,M=d.type,A=M==="FeatureCollection",B=M==="Feature",N=A?d.features.length:1,z=0;z<N;z++){h=A?d.features[z].geometry:B?d.geometry:d,U=h?h.type==="GeometryCollection":!1,n=U?h.geometries.length:1;for(var q=0;q<n;q++){var D=0,at=0;if(s=U?h.geometries[q]:h,s!==null){a=s.coordinates;var j=s.type;switch(S=0,j){case null:break;case"Point":if(g(a,P,z,D,at)===!1)return!1;P++,D++;break;case"LineString":case"MultiPoint":for(y=0;y<a.length;y++){if(g(a[y],P,z,D,at)===!1)return!1;P++,j==="MultiPoint"&&D++}j==="LineString"&&D++;break;case"Polygon":case"MultiLineString":for(y=0;y<a.length;y++){for(E=0;E<a[y].length-S;E++){if(g(a[y][E],P,z,D,at)===!1)return!1;P++}j==="MultiLineString"&&D++,j==="Polygon"&&at++}j==="Polygon"&&D++;break;case"MultiPolygon":for(y=0;y<a.length;y++){for(at=0,E=0;E<a[y].length;E++){for(c=0;c<a[y][E].length-S;c++){if(g(a[y][E][c],P,z,D,at)===!1)return!1;P++}at++}D++}break;case"GeometryCollection":for(y=0;y<s.geometries.length;y++)if(an(s.geometries[y],g)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function he(d){var g=[1/0,1/0,-1/0,-1/0];return an(d,function(b){g[0]>b[0]&&(g[0]=b[0]),g[1]>b[1]&&(g[1]=b[1]),g[2]<b[0]&&(g[2]=b[0]),g[3]<b[1]&&(g[3]=b[1])}),g}he.default=he;globalThis.Buffer=Qe.Buffer;function un(d){try{return Mt.Geometry.parse(d).toGeoJSON()}catch(g){throw console.error("WKB parse error:",g),g}}function yi(d){const g=[],b=d.prepare(`
    SELECT 
      fid as id,
      RAJOITUSTYYPPI,
      RAJOITUSTYYPIT,
      SUURUUS,
      PITUUS,
      POIKKEUS,
      "LISTIETO",
      PAATOSTILA,
      "ALKUPIVMR",
      "LOPPUPIVMR",
      DIAARINUMERO,
      TIETOLAHDE,
      JNRO,
      NIMISIJAINTI,
      IRROTUS_PVM,
      geom
    FROM rajoitusalue_a
  `);for(;b.step();){const y=b.getAsObject(),E=y.geom,c=un(E),s=y.SUURUUS||"",n=s.match(/(\d+)/),a=n?parseInt(n[1],10):void 0,h=c.type==="Polygon"?pi(c.coordinates):ci(c.coordinates),S=he(h);g.push({id:y.id,rajoitustyyppi:y.RAJOITUSTYYPPI||"",rajoitustyypit:y.RAJOITUSTYYPIT||"",suuruusKmh:a,suuruusRaw:s,pituusRaw:y.PITUUS,poikkeus:y.POIKKEUS,lisatieto:y.LISTIETO,paatostila:y.PAATOSTILA,alkuPvm:y.ALKUPIVMR,loppuPvm:y.LOPPUPIVMR,diaarinumero:y.DIAARINUMERO,tietolahde:y.TIETOLAHDE,jnro:y.JNRO,nimisijainti:y.NIMISIJAINTI,irrotusPvm:y.IRROTUS_PVM,geometry:c,bbox:S})}return b.free(),g}function wi(d,g){return g!=null?`merkki${d}_${g}`:`merkki${d}`}function di(d){const g=[],b=d.prepare(`
    SELECT 
      fid as id,
      NIMIFI,
      NIMISV,
      VLMLAJITYYPPI,
      VLMTYYPPI,
      RAJOITUSARVO,
      LISAKILMENTEKSTIFI,
      LISAKILMENTEKSTISV,
      SIJAINTIFI,
      SIJAINTISV,
      VAYLALAJI,
      PAATOS,
      VAIKUTUSALUE,
      PATATYYPPI,
      PAKOTYYPPI,
      TKL_NUMERO,
      MITTAUSPAIVA,
      VAYLAT,
      IRROTUS_PVM,
      geom
    FROM vesiliikennemerkit
  `);for(;b.step();){const y=b.getAsObject(),E=y.geom,c=un(E),s=y.VLMLAJITYYPPI,n=y.RAJOITUSARVO!=null?y.RAJOITUSARVO:void 0;g.push({id:y.id,nimiFi:y.NIMIFI,nimiSv:y.NIMISV,vlmlajityyppi:s,vlmtyyppi:y.VLMTYYPPI,rajoitusarvo:n,lisakilmentekstiFi:y.LISAKILMENTEKSTIFI,lisakilmentekstiSv:y.LISAKILMENTEKSTISV,sijaintiFi:y.SIJAINTIFI,sijaintiSv:y.SIJAINTISV,vaylalaji:y.VAYLALAJI,paatos:y.PAATOS,vaikutusalue:y.VAIKUTUSALUE,patatyyppi:y.PATATYYPPI,pakotyyppi:y.PAKOTYYPPI,tklNumero:y.TKL_NUMERO,mittauspaiva:y.MITTAUSPAIVA,vaylat:y.VAYLAT,irrotusPvm:y.IRROTUS_PVM,geometry:c,iconKey:wi(s,n)})}return b.free(),g}async function gi(d,g){const b=await hi({locateFile:E=>`https://sql.js.org/dist/${E}`}),y=new b.Database(new Uint8Array(d));try{return g==="rajoitus"?yi(y):di(y)}finally{y.close()}}self.onmessage=async d=>{try{const{dataType:g,arrayBuffer:b}=d.data,y=await gi(b,g),E={type:"result",dataType:g,data:y};self.postMessage(E)}catch(g){const b={type:"error",error:g instanceof Error?g.message:"Unknown error"};self.postMessage(b)}};
