var Bn=Object.defineProperty;var zn=(c,y,d)=>y in c?Bn(c,y,{enumerable:!0,configurable:!0,writable:!0,value:d}):c[y]=d;var gt=(c,y,d)=>zn(c,typeof y!="symbol"?y+"":y,d);function Cn(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}function Jn(c){if(c.__esModule)return c;var y=c.default;if(typeof y=="function"){var d=function l(){return this instanceof l?Reflect.construct(y,arguments,this.constructor):y.apply(this,arguments)};d.prototype=y.prototype}else d={};return Object.defineProperty(d,"__esModule",{value:!0}),Object.keys(c).forEach(function(l){var g=Object.getOwnPropertyDescriptor(c,l);Object.defineProperty(d,l,g.get?g:{enumerable:!0,get:function(){return c[l]}})}),d}var Zr={exports:{}},Fn={},Vn=Object.freeze({__proto__:null,default:Fn}),pt=Jn(Vn);(function(c,y){var d=void 0,l=function(g){return d||(d=new Promise(function(h,s){var n=typeof g<"u"?g:{},o=n.onAbort;n.onAbort=function(t){s(new Error(t)),o&&o(t)},n.postRun=n.postRun||[],n.postRun.push(function(){h(n)}),c=void 0;var a;a||(a=typeof n<"u"?n:{});var _=typeof window=="object",M=typeof WorkerGlobalScope<"u",E=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";a.onRuntimeInitialized=function(){function t(f,m){switch(typeof m){case"boolean":Un(f,m?1:0);break;case"number":An(f,m);break;case"string":Zn(f,m,-1,-1);break;case"object":if(m===null)Mr(f);else if(m.length!=null){var P=jt(m,Xt);qn(f,P,m.length,-1),te(P)}else ee(f,"Wrong API use : tried to return a value of an unknown type ("+m+").",-1);break;default:Mr(f)}}function e(f,m){for(var P=[],N=0;N<f;N+=1){var R=ht(m+4*N,"i32"),G=Nn(R);if(G===1||G===2)R=xn(R);else if(G===3)R=On(R);else if(G===4){G=R,R=Rn(G),G=Wn(G);for(var nt=new Uint8Array(R),et=0;et<R;et+=1)nt[et]=V[G+et];R=nt}else R=null;P.push(R)}return P}function r(f,m){this.Qa=f,this.db=m,this.Oa=1,this.lb=[]}function i(f,m){if(this.db=m,m=xt(f)+1,this.eb=Se(m),this.eb===null)throw Error("Unable to allocate memory for the SQL string");ft(f,U,this.eb,m),this.kb=this.eb,this.Za=this.pb=null}function u(f){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),f!=null){var m=this.filename,P="/",N=m;if(P&&(P=typeof P=="string"?P:pe(P),N=m?he(P+"/"+m):P),m=Qe(!0,!0),N=sn(N,m),f){if(typeof f=="string"){P=Array(f.length);for(var R=0,G=f.length;R<G;++R)P[R]=f.charCodeAt(R);f=P}Ht(N,m|146),P=Nt(N,577),cr(P,f,0,f.length,0),me(P),Ht(N,m)}}this.handleError(T(this.filename,p)),this.db=ht(p,"i32"),Er(this.db),this.fb={},this.Sa={}}var p=yt(4),w=a.cwrap,T=w("sqlite3_open","number",["string","number"]),A=w("sqlite3_close_v2","number",["number"]),x=w("sqlite3_exec","number",["number","string","number","number","number"]),J=w("sqlite3_changes","number",["number"]),K=w("sqlite3_prepare_v2","number",["number","string","number","number","number"]),mr=w("sqlite3_sql","string",["number"]),cn=w("sqlite3_normalized_sql","string",["number"]),br=w("sqlite3_prepare_v2","number",["number","number","number","number","number"]),dn=w("sqlite3_bind_text","number",["number","number","number","number","number"]),vr=w("sqlite3_bind_blob","number",["number","number","number","number","number"]),wn=w("sqlite3_bind_double","number",["number","number","number"]),yn=w("sqlite3_bind_int","number",["number","number","number"]),gn=w("sqlite3_bind_parameter_index","number",["number","string"]),mn=w("sqlite3_step","number",["number"]),bn=w("sqlite3_errmsg","string",["number"]),vn=w("sqlite3_column_count","number",["number"]),_n=w("sqlite3_data_count","number",["number"]),kn=w("sqlite3_column_double","number",["number","number"]),_r=w("sqlite3_column_text","string",["number","number"]),Mn=w("sqlite3_column_blob","number",["number","number"]),Sn=w("sqlite3_column_bytes","number",["number","number"]),En=w("sqlite3_column_type","number",["number","number"]),Pn=w("sqlite3_column_name","string",["number","number"]),In=w("sqlite3_reset","number",["number"]),Tn=w("sqlite3_clear_bindings","number",["number"]),Ln=w("sqlite3_finalize","number",["number"]),kr=w("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Nn=w("sqlite3_value_type","number",["number"]),Rn=w("sqlite3_value_bytes","number",["number"]),On=w("sqlite3_value_text","string",["number"]),Wn=w("sqlite3_value_blob","number",["number"]),xn=w("sqlite3_value_double","number",["number"]),An=w("sqlite3_result_double","",["number","number"]),Mr=w("sqlite3_result_null","",["number"]),Zn=w("sqlite3_result_text","",["number","string","number","number"]),qn=w("sqlite3_result_blob","",["number","number","number","number"]),Un=w("sqlite3_result_int","",["number","number"]),ee=w("sqlite3_result_error","",["number","string","number"]),Sr=w("sqlite3_aggregate_context","number",["number","number"]),Er=w("RegisterExtensionFunctions","number",["number"]),Pr=w("sqlite3_update_hook","number",["number","number","number"]);r.prototype.bind=function(f){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(f)?this.Cb(f):f!=null&&typeof f=="object"?this.Db(f):!0},r.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var f=mn(this.Qa);switch(f){case 100:return!0;case 101:return!1;default:throw this.db.handleError(f)}},r.prototype.wb=function(f){return f==null&&(f=this.Oa,this.Oa+=1),kn(this.Qa,f)},r.prototype.Gb=function(f){if(f==null&&(f=this.Oa,this.Oa+=1),f=_r(this.Qa,f),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(f)},r.prototype.Hb=function(f){return f==null&&(f=this.Oa,this.Oa+=1),_r(this.Qa,f)},r.prototype.getBlob=function(f){f==null&&(f=this.Oa,this.Oa+=1);var m=Sn(this.Qa,f);f=Mn(this.Qa,f);for(var P=new Uint8Array(m),N=0;N<m;N+=1)P[N]=V[f+N];return P},r.prototype.get=function(f,m){m=m||{},f!=null&&this.bind(f)&&this.step(),f=[];for(var P=_n(this.Qa),N=0;N<P;N+=1)switch(En(this.Qa,N)){case 1:var R=m.useBigInt?this.Gb(N):this.wb(N);f.push(R);break;case 2:f.push(this.wb(N));break;case 3:f.push(this.Hb(N));break;case 4:f.push(this.getBlob(N));break;default:f.push(null)}return f},r.prototype.getColumnNames=function(){for(var f=[],m=vn(this.Qa),P=0;P<m;P+=1)f.push(Pn(this.Qa,P));return f},r.prototype.getAsObject=function(f,m){f=this.get(f,m),m=this.getColumnNames();for(var P={},N=0;N<m.length;N+=1)P[m[N]]=f[N];return P},r.prototype.getSQL=function(){return mr(this.Qa)},r.prototype.getNormalizedSQL=function(){return cn(this.Qa)},r.prototype.run=function(f){return f!=null&&this.bind(f),this.step(),this.reset()},r.prototype.sb=function(f,m){m==null&&(m=this.Oa,this.Oa+=1),f=Ye(f);var P=jt(f,Xt);this.lb.push(P),this.db.handleError(dn(this.Qa,m,P,f.length-1,0))},r.prototype.Bb=function(f,m){m==null&&(m=this.Oa,this.Oa+=1);var P=jt(f,Xt);this.lb.push(P),this.db.handleError(vr(this.Qa,m,P,f.length,0))},r.prototype.rb=function(f,m){m==null&&(m=this.Oa,this.Oa+=1),this.db.handleError((f===(f|0)?yn:wn)(this.Qa,m,f))},r.prototype.Eb=function(f){f==null&&(f=this.Oa,this.Oa+=1),vr(this.Qa,f,0,0,0)},r.prototype.tb=function(f,m){switch(m==null&&(m=this.Oa,this.Oa+=1),typeof f){case"string":this.sb(f,m);return;case"number":this.rb(f,m);return;case"bigint":this.sb(f.toString(),m);return;case"boolean":this.rb(f+0,m);return;case"object":if(f===null){this.Eb(m);return}if(f.length!=null){this.Bb(f,m);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+f+")."},r.prototype.Db=function(f){var m=this;return Object.keys(f).forEach(function(P){var N=gn(m.Qa,P);N!==0&&m.tb(f[P],N)}),!0},r.prototype.Cb=function(f){for(var m=0;m<f.length;m+=1)this.tb(f[m],m+1);return!0},r.prototype.reset=function(){return this.freemem(),Tn(this.Qa)===0&&In(this.Qa)===0},r.prototype.freemem=function(){for(var f;(f=this.lb.pop())!==void 0;)te(f)},r.prototype.free=function(){this.freemem();var f=Ln(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,f},i.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var f=Gt(),m=yt(4);Wt(p),Wt(m);try{this.db.handleError(br(this.db.db,this.kb,-1,p,m)),this.kb=ht(m,"i32");var P=ht(p,"i32");return P===0?(this.mb(),{done:!0}):(this.Za=new r(P,this.db),this.db.fb[P]=this.Za,{value:this.Za,done:!1})}catch(N){throw this.pb=ue(this.kb),this.mb(),N}finally{Ut(f)}},i.prototype.mb=function(){te(this.eb),this.eb=null},i.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:ue(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(i.prototype[Symbol.iterator]=function(){return this}),u.prototype.run=function(f,m){if(!this.db)throw"Database closed";if(m){f=this.prepare(f,m);try{f.step()}finally{f.free()}}else this.handleError(x(this.db,f,0,0,p));return this},u.prototype.exec=function(f,m,P){if(!this.db)throw"Database closed";var N=Gt(),R=null;try{var G=ke(f),nt=yt(4);for(f=[];ht(G,"i8")!==0;){Wt(p),Wt(nt),this.handleError(br(this.db,G,-1,p,nt));var et=ht(p,"i32");if(G=ht(nt,"i32"),et!==0){var j=null;for(R=new r(et,this),m!=null&&R.bind(m);R.step();)j===null&&(j={columns:R.getColumnNames(),values:[]},f.push(j)),j.values.push(R.get(null,P));R.free()}}return f}catch(it){throw R&&R.free(),it}finally{Ut(N)}},u.prototype.each=function(f,m,P,N,R){typeof m=="function"&&(N=P,P=m,m=void 0),f=this.prepare(f,m);try{for(;f.step();)P(f.getAsObject(null,R))}finally{f.free()}if(typeof N=="function")return N()},u.prototype.prepare=function(f,m){if(Wt(p),this.handleError(K(this.db,f,-1,p,0)),f=ht(p,"i32"),f===0)throw"Nothing to prepare";var P=new r(f,this);return m!=null&&P.bind(m),this.fb[f]=P},u.prototype.iterateStatements=function(f){return new i(f,this)},u.prototype.export=function(){Object.values(this.fb).forEach(function(m){m.free()}),Object.values(this.Sa).forEach(wt),this.Sa={},this.handleError(A(this.db));var f=an(this.filename);return this.handleError(T(this.filename,p)),this.db=ht(p,"i32"),Er(this.db),f},u.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(f){f.free()}),Object.values(this.Sa).forEach(wt),this.Sa={},this.Ya&&(wt(this.Ya),this.Ya=void 0),this.handleError(A(this.db)),ur("/"+this.filename),this.db=null)},u.prototype.handleError=function(f){if(f===0)return null;throw f=bn(this.db),Error(f)},u.prototype.getRowsModified=function(){return J(this.db)},u.prototype.create_function=function(f,m){Object.prototype.hasOwnProperty.call(this.Sa,f)&&(wt(this.Sa[f]),delete this.Sa[f]);var P=qt(function(N,R,G){R=e(R,G);try{var nt=m.apply(null,R)}catch(et){ee(N,et,-1);return}t(N,nt)},"viii");return this.Sa[f]=P,this.handleError(kr(this.db,f,m.length,1,0,P,0,0,0)),this},u.prototype.create_aggregate=function(f,m){var P=m.init||function(){return null},N=m.finalize||function(j){return j},R=m.step;if(!R)throw"An aggregate function must have a step function in "+f;var G={};Object.hasOwnProperty.call(this.Sa,f)&&(wt(this.Sa[f]),delete this.Sa[f]),m=f+"__finalize",Object.hasOwnProperty.call(this.Sa,m)&&(wt(this.Sa[m]),delete this.Sa[m]);var nt=qt(function(j,it,Pe){var Pt=Sr(j,1);Object.hasOwnProperty.call(G,Pt)||(G[Pt]=P()),it=e(it,Pe),it=[G[Pt]].concat(it);try{G[Pt]=R.apply(null,it)}catch(Gn){delete G[Pt],ee(j,Gn,-1)}},"viii"),et=qt(function(j){var it=Sr(j,1);try{var Pe=N(G[it])}catch(Pt){delete G[it],ee(j,Pt,-1);return}t(j,Pe),delete G[it]},"vi");return this.Sa[f]=nt,this.Sa[m]=et,this.handleError(kr(this.db,f,R.length-1,1,0,0,nt,et,0)),this},u.prototype.updateHook=function(f){this.Ya&&(Pr(this.db,0,0),wt(this.Ya),this.Ya=void 0),f&&(this.Ya=qt(function(m,P,N,R,G){switch(P){case 18:m="insert";break;case 23:m="update";break;case 9:m="delete";break;default:throw"unknown operationCode in updateHook callback: "+P}if(N=N?C(U,N):"",R=R?C(U,R):"",G>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";f(m,N,R,Number(G))},"viiiij"),Pr(this.db,this.Ya,0))},a.Database=u};var v={...a},S="./this.program",b=(t,e)=>{throw e},I="",q,W;if(E){var Z=pt;I=__dirname+"/",W=t=>(t=Jt(t)?new URL(t):t,Z.readFileSync(t)),q=async t=>(t=Jt(t)?new URL(t):t,Z.readFileSync(t,void 0)),!a.thisProgram&&1<process.argv.length&&(S=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),c.exports=a,b=(t,e)=>{throw process.exitCode=t,e}}else(_||M)&&(M?I=self.location.href:typeof document<"u"&&document.currentScript&&(I=document.currentScript.src),I=I.startsWith("blob:")?"":I.slice(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1),M&&(W=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),q=async t=>{if(Jt(t))return new Promise((r,i)=>{var u=new XMLHttpRequest;u.open("GET",t,!0),u.responseType="arraybuffer",u.onload=()=>{u.status==200||u.status==0&&u.response?r(u.response):i(u.status)},u.onerror=i,u.send(null)});var e=await fetch(t,{credentials:"same-origin"});if(e.ok)return e.arrayBuffer();throw Error(e.status+" : "+e.url)});var $=a.print||console.log.bind(console),Y=a.printErr||console.error.bind(console);Object.assign(a,v),v=null,a.thisProgram&&(S=a.thisProgram);var Bt=a.wasmBinary,zt,Ct=!1,re,V,U,Rt,B,F,ne,rt,ie,Jt=t=>t.startsWith("file://");function Ge(){var t=zt.buffer;a.HEAP8=V=new Int8Array(t),a.HEAP16=Rt=new Int16Array(t),a.HEAPU8=U=new Uint8Array(t),a.HEAPU16=new Uint16Array(t),a.HEAP32=B=new Int32Array(t),a.HEAPU32=F=new Uint32Array(t),a.HEAPF32=ne=new Float32Array(t),a.HEAPF64=ie=new Float64Array(t),a.HEAP64=rt=new BigInt64Array(t),a.HEAPU64=new BigUint64Array(t)}var kt=0,Ot=null;function It(t){var e;throw(e=a.onAbort)==null||e.call(a,t),t="Aborted("+t+")",Y(t),Ct=!0,new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info.")}var oe;async function Vr(t){if(!Bt)try{var e=await q(t);return new Uint8Array(e)}catch{}if(t==oe&&Bt)t=new Uint8Array(Bt);else if(W)t=W(t);else throw"both async and sync fetching of the wasm failed";return t}async function Dr(t,e){try{var r=await Vr(t);return await WebAssembly.instantiate(r,e)}catch(i){Y(`failed to asynchronously prepare wasm: ${i}`),It(i)}}async function Yr(t){var e=oe;if(!Bt&&typeof WebAssembly.instantiateStreaming=="function"&&!Jt(e)&&!E)try{var r=fetch(e,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(r,t)}catch(i){Y(`wasm streaming compile failed: ${i}`),Y("falling back to ArrayBuffer instantiation")}return Dr(e,t)}class se{constructor(e){gt(this,"name","ExitStatus");this.message=`Program terminated with exit(${e})`,this.status=e}}var Be=t=>{for(;0<t.length;)t.shift()(a)},ze=[],Ce=[],Hr=()=>{var t=a.preRun.shift();Ce.unshift(t)};function ht(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":return V[t];case"i8":return V[t];case"i16":return Rt[t>>1];case"i32":return B[t>>2];case"i64":return rt[t>>3];case"float":return ne[t>>2];case"double":return ie[t>>3];case"*":return F[t>>2];default:It(`invalid type for getValue: ${e}`)}}var ae=a.noExitRuntime||!0;function Wt(t){var e="i32";switch(e.endsWith("*")&&(e="*"),e){case"i1":V[t]=0;break;case"i8":V[t]=0;break;case"i16":Rt[t>>1]=0;break;case"i32":B[t>>2]=0;break;case"i64":rt[t>>3]=BigInt(0);break;case"float":ne[t>>2]=0;break;case"double":ie[t>>3]=0;break;case"*":F[t>>2]=0;break;default:It(`invalid type for setValue: ${e}`)}}var Je=typeof TextDecoder<"u"?new TextDecoder:void 0,C=(t,e=0,r=NaN)=>{var i=e+r;for(r=e;t[r]&&!(r>=i);)++r;if(16<r-e&&t.buffer&&Je)return Je.decode(t.subarray(e,r));for(i="";e<r;){var u=t[e++];if(u&128){var p=t[e++]&63;if((u&224)==192)i+=String.fromCharCode((u&31)<<6|p);else{var w=t[e++]&63;u=(u&240)==224?(u&15)<<12|p<<6|w:(u&7)<<18|p<<12|w<<6|t[e++]&63,65536>u?i+=String.fromCharCode(u):(u-=65536,i+=String.fromCharCode(55296|u>>10,56320|u&1023))}}else i+=String.fromCharCode(u)}return i},ue=(t,e)=>t?C(U,t,e):"",Fe=(t,e)=>{for(var r=0,i=t.length-1;0<=i;i--){var u=t[i];u==="."?t.splice(i,1):u===".."?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r;r--)t.unshift("..");return t},he=t=>{var e=t.charAt(0)==="/",r=t.slice(-1)==="/";return(t=Fe(t.split("/").filter(i=>!!i),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t},Ve=t=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=e[0],e=e[1],!t&&!e?".":(e&&(e=e.slice(0,-1)),t+e)},Ft=t=>t&&t.match(/([^\/]+|\/)\/*$/)[1],$r=()=>{if(E){var t=pt;return e=>t.randomFillSync(e)}return e=>crypto.getRandomValues(e)},De=t=>{(De=$r())(t)},Qr=(...t)=>{for(var e="",r=!1,i=t.length-1;-1<=i&&!r;i--){if(r=0<=i?t[i]:"/",typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,r=r.charAt(0)==="/"}return e=Fe(e.split("/").filter(u=>!!u),!r).join("/"),(r?"/":"")+e||"."},fe=[],xt=t=>{for(var e=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);127>=i?e++:2047>=i?e+=2:55296<=i&&57343>=i?(e+=4,++r):e+=3}return e},ft=(t,e,r,i)=>{if(!(0<i))return 0;var u=r;i=r+i-1;for(var p=0;p<t.length;++p){var w=t.charCodeAt(p);if(55296<=w&&57343>=w){var T=t.charCodeAt(++p);w=65536+((w&1023)<<10)|T&1023}if(127>=w){if(r>=i)break;e[r++]=w}else{if(2047>=w){if(r+1>=i)break;e[r++]=192|w>>6}else{if(65535>=w){if(r+2>=i)break;e[r++]=224|w>>12}else{if(r+3>=i)break;e[r++]=240|w>>18,e[r++]=128|w>>12&63}e[r++]=128|w>>6&63}e[r++]=128|w&63}}return e[r]=0,r-u},Ye=(t,e)=>{var r=Array(xt(t)+1);return t=ft(t,r,0,r.length),e&&(r.length=t),r},He=[];function $e(t,e){He[t]={input:[],output:[],cb:e},ye(t,Kr)}var Kr={open(t){var e=He[t.node.rdev];if(!e)throw new k(43);t.tty=e,t.seekable=!1},close(t){t.tty.cb.fsync(t.tty)},fsync(t){t.tty.cb.fsync(t.tty)},read(t,e,r,i){if(!t.tty||!t.tty.cb.xb)throw new k(60);for(var u=0,p=0;p<i;p++){try{var w=t.tty.cb.xb(t.tty)}catch{throw new k(29)}if(w===void 0&&u===0)throw new k(6);if(w==null)break;u++,e[r+p]=w}return u&&(t.node.atime=Date.now()),u},write(t,e,r,i){if(!t.tty||!t.tty.cb.qb)throw new k(60);try{for(var u=0;u<i;u++)t.tty.cb.qb(t.tty,e[r+u])}catch{throw new k(29)}return i&&(t.node.mtime=t.node.ctime=Date.now()),u}},Xr={xb(){t:{if(!fe.length){var t=null;if(E){var e=Buffer.alloc(256),r=0,i=process.stdin.fd;try{r=Z.readSync(i,e,0,256)}catch(u){if(u.toString().includes("EOF"))r=0;else throw u}0<r&&(t=e.slice(0,r).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(t=window.prompt("Input: "),t!==null&&(t+=`
`));if(!t){t=null;break t}fe=Ye(t,!0)}t=fe.shift()}return t},qb(t,e){e===null||e===10?($(C(t.output)),t.output=[]):e!=0&&t.output.push(e)},fsync(t){var e;0<((e=t.output)==null?void 0:e.length)&&($(C(t.output)),t.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},jr={qb(t,e){e===null||e===10?(Y(C(t.output)),t.output=[]):e!=0&&t.output.push(e)},fsync(t){var e;0<((e=t.output)==null?void 0:e.length)&&(Y(C(t.output)),t.output=[])}},O={Wa:null,Xa(){return O.createNode(null,"/",16895,0)},createNode(t,e,r,i){if((r&61440)===24576||(r&61440)===4096)throw new k(63);return O.Wa||(O.Wa={dir:{node:{Ta:O.La.Ta,Ua:O.La.Ua,lookup:O.La.lookup,hb:O.La.hb,rename:O.La.rename,unlink:O.La.unlink,rmdir:O.La.rmdir,readdir:O.La.readdir,symlink:O.La.symlink},stream:{Va:O.Ma.Va}},file:{node:{Ta:O.La.Ta,Ua:O.La.Ua},stream:{Va:O.Ma.Va,read:O.Ma.read,write:O.Ma.write,ib:O.Ma.ib,jb:O.Ma.jb}},link:{node:{Ta:O.La.Ta,Ua:O.La.Ua,readlink:O.La.readlink},stream:{}},ub:{node:{Ta:O.La.Ta,Ua:O.La.Ua},stream:on}}),r=er(t,e,r,i),Q(r.mode)?(r.La=O.Wa.dir.node,r.Ma=O.Wa.dir.stream,r.Na={}):(r.mode&61440)===32768?(r.La=O.Wa.file.node,r.Ma=O.Wa.file.stream,r.Ra=0,r.Na=null):(r.mode&61440)===40960?(r.La=O.Wa.link.node,r.Ma=O.Wa.link.stream):(r.mode&61440)===8192&&(r.La=O.Wa.ub.node,r.Ma=O.Wa.ub.stream),r.atime=r.mtime=r.ctime=Date.now(),t&&(t.Na[e]=r,t.atime=t.mtime=t.ctime=r.atime),r},Sb(t){return t.Na?t.Na.subarray?t.Na.subarray(0,t.Ra):new Uint8Array(t.Na):new Uint8Array(0)},La:{Ta(t){var e={};return e.dev=(t.mode&61440)===8192?t.id:1,e.ino=t.id,e.mode=t.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=t.rdev,Q(t.mode)?e.size=4096:(t.mode&61440)===32768?e.size=t.Ra:(t.mode&61440)===40960?e.size=t.link.length:e.size=0,e.atime=new Date(t.atime),e.mtime=new Date(t.mtime),e.ctime=new Date(t.ctime),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},Ua(t,e){for(var r of["mode","atime","mtime","ctime"])e[r]!=null&&(t[r]=e[r]);e.size!==void 0&&(e=e.size,t.Ra!=e&&(e==0?(t.Na=null,t.Ra=0):(r=t.Na,t.Na=new Uint8Array(e),r&&t.Na.set(r.subarray(0,Math.min(e,t.Ra))),t.Ra=e)))},lookup(){throw O.vb},hb(t,e,r,i){return O.createNode(t,e,r,i)},rename(t,e,r){try{var i=Mt(e,r)}catch{}if(i){if(Q(t.mode))for(var u in i.Na)throw new k(55);de(i)}delete t.parent.Na[t.name],e.Na[r]=t,t.name=r,e.ctime=e.mtime=t.parent.ctime=t.parent.mtime=Date.now()},unlink(t,e){delete t.Na[e],t.ctime=t.mtime=Date.now()},rmdir(t,e){var r=Mt(t,e),i;for(i in r.Na)throw new k(55);delete t.Na[e],t.ctime=t.mtime=Date.now()},readdir(t){return[".","..",...Object.keys(t.Na)]},symlink(t,e,r){return t=O.createNode(t,e,41471,0),t.link=r,t},readlink(t){if((t.mode&61440)!==40960)throw new k(28);return t.link}},Ma:{read(t,e,r,i,u){var p=t.node.Na;if(u>=t.node.Ra)return 0;if(t=Math.min(t.node.Ra-u,i),8<t&&p.subarray)e.set(p.subarray(u,u+t),r);else for(i=0;i<t;i++)e[r+i]=p[u+i];return t},write(t,e,r,i,u,p){if(e.buffer===V.buffer&&(p=!1),!i)return 0;if(t=t.node,t.mtime=t.ctime=Date.now(),e.subarray&&(!t.Na||t.Na.subarray)){if(p)return t.Na=e.subarray(r,r+i),t.Ra=i;if(t.Ra===0&&u===0)return t.Na=e.slice(r,r+i),t.Ra=i;if(u+i<=t.Ra)return t.Na.set(e.subarray(r,r+i),u),i}p=u+i;var w=t.Na?t.Na.length:0;if(w>=p||(p=Math.max(p,w*(1048576>w?2:1.125)>>>0),w!=0&&(p=Math.max(p,256)),w=t.Na,t.Na=new Uint8Array(p),0<t.Ra&&t.Na.set(w.subarray(0,t.Ra),0)),t.Na.subarray&&e.subarray)t.Na.set(e.subarray(r,r+i),u);else for(p=0;p<i;p++)t.Na[u+p]=e[r+p];return t.Ra=Math.max(t.Ra,u+i),i},Va(t,e,r){if(r===1?e+=t.position:r===2&&(t.node.mode&61440)===32768&&(e+=t.node.Ra),0>e)throw new k(28);return e},ib(t,e,r,i,u){if((t.node.mode&61440)!==32768)throw new k(43);if(t=t.node.Na,u&2||!t||t.buffer!==V.buffer){u=!0,i=65536*Math.ceil(e/65536);var p=yr(65536,i);if(p&&U.fill(0,p,p+i),i=p,!i)throw new k(48);t&&((0<r||r+e<t.length)&&(t.subarray?t=t.subarray(r,r+e):t=Array.prototype.slice.call(t,r,r+e)),V.set(t,i))}else u=!1,i=t.byteOffset;return{Kb:i,Ab:u}},jb(t,e,r,i){return O.Ma.write(t,e,0,i,r,!1),0}}},Qe=(t,e)=>{var r=0;return t&&(r|=365),e&&(r|=146),r},le=null,Ke={},Tt=[],tn=1,ct=null,Xe=!1,je=!0,tr={},k=class{constructor(t){gt(this,"name","ErrnoError");this.Pa=t}},en=class{constructor(){gt(this,"gb",{});gt(this,"node",null)}get flags(){return this.gb.flags}set flags(t){this.gb.flags=t}get position(){return this.gb.position}set position(t){this.gb.position=t}},rn=class{constructor(t,e,r,i){gt(this,"La",{});gt(this,"Ma",{});gt(this,"ab",null);t||(t=this),this.parent=t,this.Xa=t.Xa,this.id=tn++,this.name=e,this.mode=r,this.rdev=i,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(t){t?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(t){t?this.mode|=146:this.mode&=-147}};function tt(t,e={}){if(!t)throw new k(44);e.nb??(e.nb=!0),t.charAt(0)==="/"||(t="//"+t);var r=0;t:for(;40>r;r++){t=t.split("/").filter(T=>!!T);for(var i=le,u="/",p=0;p<t.length;p++){var w=p===t.length-1;if(w&&e.parent)break;if(t[p]!==".")if(t[p]==="..")u=Ve(u),i=i.parent;else{u=he(u+"/"+t[p]);try{i=Mt(i,t[p])}catch(T){if((T==null?void 0:T.Pa)===44&&w&&e.Jb)return{path:u};throw T}if(!i.ab||w&&!e.nb||(i=i.ab.root),(i.mode&61440)===40960&&(!w||e.$a)){if(!i.La.readlink)throw new k(52);i=i.La.readlink(i),i.charAt(0)==="/"||(i=Ve(u)+"/"+i),t=i+"/"+t.slice(p+1).join("/");continue t}}}return{path:u,node:i}}throw new k(32)}function pe(t){for(var e;;){if(t===t.parent)return t=t.Xa.zb,e?t[t.length-1]!=="/"?`${t}/${e}`:t+e:t;e=e?`${t.name}/${e}`:t.name,t=t.parent}}function ce(t,e){for(var r=0,i=0;i<e.length;i++)r=(r<<5)-r+e.charCodeAt(i)|0;return(t+r>>>0)%ct.length}function de(t){var e=ce(t.parent.id,t.name);if(ct[e]===t)ct[e]=t.bb;else for(e=ct[e];e;){if(e.bb===t){e.bb=t.bb;break}e=e.bb}}function Mt(t,e){var r=Q(t.mode)?(r=Lt(t,"x"))?r:t.La.lookup?0:2:54;if(r)throw new k(r);for(r=ct[ce(t.id,e)];r;r=r.bb){var i=r.name;if(r.parent.id===t.id&&i===e)return r}return t.La.lookup(t,e)}function er(t,e,r,i){return t=new rn(t,e,r,i),e=ce(t.parent.id,t.name),t.bb=ct[e],ct[e]=t}function Q(t){return(t&61440)===16384}function rr(t){var e=["r","w","rw"][t&3];return t&512&&(e+="w"),e}function Lt(t,e){if(je)return 0;if(!e.includes("r")||t.mode&292){if(e.includes("w")&&!(t.mode&146)||e.includes("x")&&!(t.mode&73))return 2}else return 2;return 0}function nr(t,e){if(!Q(t.mode))return 54;try{return Mt(t,e),20}catch{}return Lt(t,"wx")}function ir(t,e,r){try{var i=Mt(t,e)}catch(u){return u.Pa}if(t=Lt(t,"wx"))return t;if(r){if(!Q(i.mode))return 54;if(i===i.parent||pe(i)==="/")return 10}else if(Q(i.mode))return 31;return 0}function Vt(t){if(!t)throw new k(63);return t}function H(t){if(t=Tt[t],!t)throw new k(8);return t}function or(t,e=-1){if(t=Object.assign(new en,t),e==-1)t:{for(e=0;4096>=e;e++)if(!Tt[e])break t;throw new k(33)}return t.fd=e,Tt[e]=t}function nn(t,e=-1){var r,i;return t=or(t,e),(i=(r=t.Ma)==null?void 0:r.Rb)==null||i.call(r,t),t}function we(t,e,r){var i=t==null?void 0:t.Ma.Ua;t=i?t:e,i??(i=e.La.Ua),Vt(i),i(t,r)}var on={open(t){var e,r;t.Ma=Ke[t.node.rdev].Ma,(r=(e=t.Ma).open)==null||r.call(e,t)},Va(){throw new k(70)}};function ye(t,e){Ke[t]={Ma:e}}function sr(t,e){var r=e==="/";if(r&&le)throw new k(10);if(!r&&e){var i=tt(e,{nb:!1});if(e=i.path,i=i.node,i.ab)throw new k(10);if(!Q(i.mode))throw new k(54)}e={type:t,Wb:{},zb:e,Ib:[]},t=t.Xa(e),t.Xa=e,e.root=t,r?le=t:i&&(i.ab=e,i.Xa&&i.Xa.Ib.push(e))}function Dt(t,e,r){var i=tt(t,{parent:!0}).node;if(t=Ft(t),!t)throw new k(28);if(t==="."||t==="..")throw new k(20);var u=nr(i,t);if(u)throw new k(u);if(!i.La.hb)throw new k(63);return i.La.hb(i,t,e,r)}function sn(t,e=438){return Dt(t,e&4095|32768,0)}function ot(t,e=511){return Dt(t,e&1023|16384,0)}function Yt(t,e,r){typeof r>"u"&&(r=e,e=438),Dt(t,e|8192,r)}function ge(t,e){if(!Qr(t))throw new k(44);var r=tt(e,{parent:!0}).node;if(!r)throw new k(44);e=Ft(e);var i=nr(r,e);if(i)throw new k(i);if(!r.La.symlink)throw new k(63);r.La.symlink(r,e,t)}function ar(t){var e=tt(t,{parent:!0}).node;t=Ft(t);var r=Mt(e,t),i=ir(e,t,!0);if(i)throw new k(i);if(!e.La.rmdir)throw new k(63);if(r.ab)throw new k(10);e.La.rmdir(e,t),de(r)}function ur(t){var e=tt(t,{parent:!0}).node;if(!e)throw new k(44);t=Ft(t);var r=Mt(e,t),i=ir(e,t,!1);if(i)throw new k(i);if(!e.La.unlink)throw new k(63);if(r.ab)throw new k(10);e.La.unlink(e,t),de(r)}function At(t,e){return t=tt(t,{$a:!e}).node,Vt(t.La.Ta)(t)}function hr(t,e,r,i){we(t,e,{mode:r&4095|e.mode&-4096,ctime:Date.now(),Fb:i})}function Ht(t,e){t=typeof t=="string"?tt(t,{$a:!0}).node:t,hr(null,t,e)}function fr(t,e,r){if(Q(e.mode))throw new k(31);if((e.mode&61440)!==32768)throw new k(28);var i=Lt(e,"w");if(i)throw new k(i);we(t,e,{size:r,timestamp:Date.now()})}function Nt(t,e,r=438){if(t==="")throw new k(44);if(typeof e=="string"){var i={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(typeof i>"u")throw Error(`Unknown file open mode: ${e}`);e=i}if(r=e&64?r&4095|32768:0,typeof t=="object")i=t;else{var u=t.endsWith("/");t=tt(t,{$a:!(e&131072),Jb:!0}),i=t.node,t=t.path}var p=!1;if(e&64)if(i){if(e&128)throw new k(20)}else{if(u)throw new k(31);i=Dt(t,r|511,0),p=!0}if(!i)throw new k(44);if((i.mode&61440)===8192&&(e&=-513),e&65536&&!Q(i.mode))throw new k(54);if(!p&&(u=i?(i.mode&61440)===40960?32:Q(i.mode)&&(rr(e)!=="r"||e&576)?31:Lt(i,rr(e)):44))throw new k(u);return e&512&&!p&&(u=i,u=typeof u=="string"?tt(u,{$a:!0}).node:u,fr(null,u,0)),e&=-131713,u=or({node:i,path:pe(i),flags:e,seekable:!0,position:0,Ma:i.Ma,Lb:[],error:!1}),u.Ma.open&&u.Ma.open(u),p&&Ht(i,r&511),!a.logReadFiles||e&1||t in tr||(tr[t]=1),u}function me(t){if(t.fd===null)throw new k(8);t.ob&&(t.ob=null);try{t.Ma.close&&t.Ma.close(t)}catch(e){throw e}finally{Tt[t.fd]=null}t.fd=null}function lr(t,e,r){if(t.fd===null)throw new k(8);if(!t.seekable||!t.Ma.Va)throw new k(70);if(r!=0&&r!=1&&r!=2)throw new k(28);t.position=t.Ma.Va(t,e,r),t.Lb=[]}function pr(t,e,r,i,u){if(0>i||0>u)throw new k(28);if(t.fd===null)throw new k(8);if((t.flags&2097155)===1)throw new k(8);if(Q(t.node.mode))throw new k(31);if(!t.Ma.read)throw new k(28);var p=typeof u<"u";if(!p)u=t.position;else if(!t.seekable)throw new k(70);return e=t.Ma.read(t,e,r,i,u),p||(t.position+=e),e}function cr(t,e,r,i,u){if(0>i||0>u)throw new k(28);if(t.fd===null)throw new k(8);if(!(t.flags&2097155))throw new k(8);if(Q(t.node.mode))throw new k(31);if(!t.Ma.write)throw new k(28);t.seekable&&t.flags&1024&&lr(t,0,2);var p=typeof u<"u";if(!p)u=t.position;else if(!t.seekable)throw new k(70);return e=t.Ma.write(t,e,r,i,u,void 0),p||(t.position+=e),e}function an(t){var e,r=Nt(t,r||0);t=At(t).size;var i=new Uint8Array(t);return pr(r,i,0,t,0),e=i,me(r),e}function dt(t,e,r){t=he("/dev/"+t);var i=Qe(!!e,!!r);dt.yb??(dt.yb=64);var u=dt.yb++<<8|0;ye(u,{open(p){p.seekable=!1},close(){var p;(p=r==null?void 0:r.buffer)!=null&&p.length&&r(10)},read(p,w,T,A){for(var x=0,J=0;J<A;J++){try{var K=e()}catch{throw new k(29)}if(K===void 0&&x===0)throw new k(6);if(K==null)break;x++,w[T+J]=K}return x&&(p.node.atime=Date.now()),x},write(p,w,T,A){for(var x=0;x<A;x++)try{r(w[T+x])}catch{throw new k(29)}return A&&(p.node.mtime=p.node.ctime=Date.now()),x}}),Yt(t,i,u)}var z={};function St(t,e,r){if(e.charAt(0)==="/")return e;if(t=t===-100?"/":H(t).path,e.length==0){if(!r)throw new k(44);return t}return t+"/"+e}function $t(t,e){B[t>>2]=e.dev,B[t+4>>2]=e.mode,F[t+8>>2]=e.nlink,B[t+12>>2]=e.uid,B[t+16>>2]=e.gid,B[t+20>>2]=e.rdev,rt[t+24>>3]=BigInt(e.size),B[t+32>>2]=4096,B[t+36>>2]=e.blocks;var r=e.atime.getTime(),i=e.mtime.getTime(),u=e.ctime.getTime();return rt[t+40>>3]=BigInt(Math.floor(r/1e3)),F[t+48>>2]=r%1e3*1e6,rt[t+56>>3]=BigInt(Math.floor(i/1e3)),F[t+64>>2]=i%1e3*1e6,rt[t+72>>3]=BigInt(Math.floor(u/1e3)),F[t+80>>2]=u%1e3*1e6,rt[t+88>>3]=BigInt(e.ino),0}var Qt=void 0,Kt=()=>{var t=B[+Qt>>2];return Qt+=4,t},be=0,un=[0,31,60,91,121,152,182,213,244,274,305,335],hn=[0,31,59,90,120,151,181,212,243,273,304,334],Zt={},dr=t=>{var e;re=t,ae||0<be||((e=a.onExit)==null||e.call(a,t),Ct=!0),b(t,new se(t))},fn=t=>{if(!Ct)try{if(t(),!(ae||0<be))try{re=t=re,dr(t)}catch(e){e instanceof se||e=="unwind"||b(1,e)}}catch(e){e instanceof se||e=="unwind"||b(1,e)}},ve={},wr=()=>{if(!_e){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:S||"./this.program"},e;for(e in ve)ve[e]===void 0?delete t[e]:t[e]=ve[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);_e=r}return _e},_e,ke=t=>{var e=xt(t)+1,r=yt(e);return ft(t,U,r,e),r},ln=(t,e,r,i)=>{var u={string:x=>{var J=0;return x!=null&&x!==0&&(J=ke(x)),J},array:x=>{var J=yt(x.length);return V.set(x,J),J}};t=a["_"+t];var p=[],w=0;if(i)for(var T=0;T<i.length;T++){var A=u[r[T]];A?(w===0&&(w=Gt()),p[T]=A(i[T])):p[T]=i[T]}return r=t(...p),r=function(x){return w!==0&&Ut(w),e==="string"?x?C(U,x):"":e==="boolean"?!!x:x}(r)},Xt=0,jt=(t,e)=>(e=e==1?yt(t.length):Se(t.length),t.subarray||t.slice||(t=new Uint8Array(t)),U.set(t,e),e),Et,Me=[],lt,wt=t=>{Et.delete(lt.get(t)),lt.set(t,null),Me.push(t)},qt=(t,e)=>{if(!Et){Et=new WeakMap;var r=lt.length;if(Et)for(var i=0;i<0+r;i++){var u=lt.get(i);u&&Et.set(u,i)}}if(r=Et.get(t)||0)return r;if(Me.length)r=Me.pop();else{try{lt.grow(1)}catch(A){throw A instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":A}r=lt.length-1}try{lt.set(r,t)}catch(A){if(!(A instanceof TypeError))throw A;if(typeof WebAssembly.Function=="function"){var p=WebAssembly.Function;i={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},u={parameters:[],results:e[0]=="v"?[]:[i[e[0]]]};for(var w=1;w<e.length;++w)u.parameters.push(i[e[w]]);e=new p(u,t)}else{i=[1],u=e.slice(0,1),e=e.slice(1),w={i:127,p:127,j:126,f:125,d:124,e:111},i.push(96);var T=e.length;128>T?i.push(T):i.push(T%128|128,T>>7);for(p of e)i.push(w[p]);u=="v"?i.push(0):i.push(1,w[u]),e=[0,97,115,109,1,0,0,0,1],p=i.length,128>p?e.push(p):e.push(p%128|128,p>>7),e.push(...i),e.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),e=new WebAssembly.Module(new Uint8Array(e)),e=new WebAssembly.Instance(e,{e:{f:t}}).exports.f}lt.set(r,e)}return Et.set(t,r),r};ct=Array(4096),sr(O,"/"),ot("/tmp"),ot("/home"),ot("/home/web_user"),function(){ot("/dev"),ye(259,{read:()=>0,write:(i,u,p,w)=>w,Va:()=>0}),Yt("/dev/null",259),$e(1280,Xr),$e(1536,jr),Yt("/dev/tty",1280),Yt("/dev/tty1",1536);var t=new Uint8Array(1024),e=0,r=()=>(e===0&&(De(t),e=t.byteLength),t[--e]);dt("random",r),dt("urandom",r),ot("/dev/shm"),ot("/dev/shm/tmp")}(),function(){ot("/proc");var t=ot("/proc/self");ot("/proc/self/fd"),sr({Xa(){var e=er(t,"fd",16895,73);return e.Ma={Va:O.Ma.Va},e.La={lookup(r,i){r=+i;var u=H(r);return r={parent:null,Xa:{zb:"fake"},La:{readlink:()=>u.path},id:r+1},r.parent=r},readdir(){return Array.from(Tt.entries()).filter(([,r])=>r).map(([r])=>r.toString())}},e}},"/proc/self/fd")}(),O.vb=new k(44),O.vb.stack="<generic error, no stack>";var pn={a:(t,e,r,i)=>It(`Assertion failed: ${t?C(U,t):""}, at: `+[e?e?C(U,e):"":"unknown filename",r,i?i?C(U,i):"":"unknown function"]),i:function(t,e){try{return t=t?C(U,t):"",Ht(t,e),0}catch(r){if(typeof z>"u"||r.name!=="ErrnoError")throw r;return-r.Pa}},L:function(t,e,r){try{if(e=e?C(U,e):"",e=St(t,e),r&-8)return-28;var i=tt(e,{$a:!0}).node;return i?(t="",r&4&&(t+="r"),r&2&&(t+="w"),r&1&&(t+="x"),t&&Lt(i,t)?-2:0):-44}catch(u){if(typeof z>"u"||u.name!=="ErrnoError")throw u;return-u.Pa}},j:function(t,e){try{var r=H(t);return hr(r,r.node,e,!1),0}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return-i.Pa}},h:function(t){try{var e=H(t);return we(e,e.node,{timestamp:Date.now(),Fb:!1}),0}catch(r){if(typeof z>"u"||r.name!=="ErrnoError")throw r;return-r.Pa}},b:function(t,e,r){Qt=r;try{var i=H(t);switch(e){case 0:var u=Kt();if(0>u)break;for(;Tt[u];)u++;return nn(i,u).fd;case 1:case 2:return 0;case 3:return i.flags;case 4:return u=Kt(),i.flags|=u,0;case 12:return u=Kt(),Rt[u+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(p){if(typeof z>"u"||p.name!=="ErrnoError")throw p;return-p.Pa}},g:function(t,e){try{var r=H(t),i=r.node,u=r.Ma.Ta;t=u?r:i,u??(u=i.La.Ta),Vt(u);var p=u(t);return $t(e,p)}catch(w){if(typeof z>"u"||w.name!=="ErrnoError")throw w;return-w.Pa}},H:function(t,e){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e);try{if(isNaN(e))return 61;var r=H(t);if(0>e||!(r.flags&2097155))throw new k(28);return fr(r,r.node,e),0}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return-i.Pa}},G:function(t,e){try{if(e===0)return-28;var r=xt("/")+1;return e<r?-68:(ft("/",U,t,e),r)}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return-i.Pa}},K:function(t,e){try{return t=t?C(U,t):"",$t(e,At(t,!0))}catch(r){if(typeof z>"u"||r.name!=="ErrnoError")throw r;return-r.Pa}},C:function(t,e,r){try{return e=e?C(U,e):"",e=St(t,e),ot(e,r),0}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return-i.Pa}},J:function(t,e,r,i){try{e=e?C(U,e):"";var u=i&256;return e=St(t,e,i&4096),$t(r,u?At(e,!0):At(e))}catch(p){if(typeof z>"u"||p.name!=="ErrnoError")throw p;return-p.Pa}},x:function(t,e,r,i){Qt=i;try{e=e?C(U,e):"",e=St(t,e);var u=i?Kt():0;return Nt(e,r,u).fd}catch(p){if(typeof z>"u"||p.name!=="ErrnoError")throw p;return-p.Pa}},v:function(t,e,r,i){try{if(e=e?C(U,e):"",e=St(t,e),0>=i)return-28;var u=tt(e).node;if(!u)throw new k(44);if(!u.La.readlink)throw new k(28);var p=u.La.readlink(u),w=Math.min(i,xt(p)),T=V[r+w];return ft(p,U,r,i+1),V[r+w]=T,w}catch(A){if(typeof z>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},u:function(t){try{return t=t?C(U,t):"",ar(t),0}catch(e){if(typeof z>"u"||e.name!=="ErrnoError")throw e;return-e.Pa}},f:function(t,e){try{return t=t?C(U,t):"",$t(e,At(t))}catch(r){if(typeof z>"u"||r.name!=="ErrnoError")throw r;return-r.Pa}},r:function(t,e,r){try{return e=e?C(U,e):"",e=St(t,e),r===0?ur(e):r===512?ar(e):It("Invalid flags passed to unlinkat"),0}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return-i.Pa}},q:function(t,e,r){try{e=e?C(U,e):"",e=St(t,e,!0);var i=Date.now(),u,p;if(r){var w=F[r>>2]+4294967296*B[r+4>>2],T=B[r+8>>2];T==1073741823?u=i:T==1073741822?u=null:u=1e3*w+T/1e6,r+=16,w=F[r>>2]+4294967296*B[r+4>>2],T=B[r+8>>2],T==1073741823?p=i:T==1073741822?p=null:p=1e3*w+T/1e6}else p=u=i;if((p??u)!==null){t=u;var A=tt(e,{$a:!0}).node;Vt(A.La.Ua)(A,{atime:t,mtime:p})}return 0}catch(x){if(typeof z>"u"||x.name!=="ErrnoError")throw x;return-x.Pa}},m:()=>It(""),l:()=>{ae=!1,be=0},A:function(t,e){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),t=new Date(1e3*t),B[e>>2]=t.getSeconds(),B[e+4>>2]=t.getMinutes(),B[e+8>>2]=t.getHours(),B[e+12>>2]=t.getDate(),B[e+16>>2]=t.getMonth(),B[e+20>>2]=t.getFullYear()-1900,B[e+24>>2]=t.getDay();var r=t.getFullYear();B[e+28>>2]=(r%4!==0||r%100===0&&r%400!==0?hn:un)[t.getMonth()]+t.getDate()-1|0,B[e+36>>2]=-(60*t.getTimezoneOffset()),r=new Date(t.getFullYear(),6,1).getTimezoneOffset();var i=new Date(t.getFullYear(),0,1).getTimezoneOffset();B[e+32>>2]=(r!=i&&t.getTimezoneOffset()==Math.min(i,r))|0},y:function(t,e,r,i,u,p,w){u=-9007199254740992>u||9007199254740992<u?NaN:Number(u);try{if(isNaN(u))return 61;var T=H(i);if(e&2&&!(r&2)&&(T.flags&2097155)!==2)throw new k(2);if((T.flags&2097155)===1)throw new k(2);if(!T.Ma.ib)throw new k(43);if(!t)throw new k(28);var A=T.Ma.ib(T,t,u,e,r),x=A.Kb;return B[p>>2]=A.Ab,F[w>>2]=x,0}catch(J){if(typeof z>"u"||J.name!=="ErrnoError")throw J;return-J.Pa}},z:function(t,e,r,i,u,p){p=-9007199254740992>p||9007199254740992<p?NaN:Number(p);try{var w=H(u);if(r&2){if(r=p,(w.node.mode&61440)!==32768)throw new k(43);if(!(i&2)){var T=U.slice(t,t+e);w.Ma.jb&&w.Ma.jb(w,T,r,e,i)}}}catch(A){if(typeof z>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},n:(t,e)=>{if(Zt[t]&&(clearTimeout(Zt[t].id),delete Zt[t]),!e)return 0;var r=setTimeout(()=>{delete Zt[t],fn(()=>gr(t,performance.now()))},e);return Zt[t]={id:r,Xb:e},0},B:(t,e,r,i)=>{var u=new Date().getFullYear(),p=new Date(u,0,1).getTimezoneOffset();u=new Date(u,6,1).getTimezoneOffset(),F[t>>2]=60*Math.max(p,u),B[e>>2]=+(p!=u),e=w=>{var T=Math.abs(w);return`UTC${0<=w?"-":"+"}${String(Math.floor(T/60)).padStart(2,"0")}${String(T%60).padStart(2,"0")}`},t=e(p),e=e(u),u<p?(ft(t,U,r,17),ft(e,U,i,17)):(ft(t,U,i,17),ft(e,U,r,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:t=>{var e=U.length;if(t>>>=0,2147483648<t)return!1;for(var r=1;4>=r;r*=2){var i=e*(1+.2/r);i=Math.min(i,t+100663296);t:{i=(Math.min(2147483648,65536*Math.ceil(Math.max(t,i)/65536))-zt.buffer.byteLength+65535)/65536|0;try{zt.grow(i),Ge();var u=1;break t}catch{}u=void 0}if(u)return!0}return!1},E:(t,e)=>{var r=0;return wr().forEach((i,u)=>{var p=e+r;for(u=F[t+4*u>>2]=p,p=0;p<i.length;++p)V[u++]=i.charCodeAt(p);V[u]=0,r+=i.length+1}),0},F:(t,e)=>{var r=wr();F[t>>2]=r.length;var i=0;return r.forEach(u=>i+=u.length+1),F[e>>2]=i,0},e:function(t){try{var e=H(t);return me(e),0}catch(r){if(typeof z>"u"||r.name!=="ErrnoError")throw r;return r.Pa}},p:function(t,e){try{var r=H(t);return V[e]=r.tty?2:Q(r.mode)?3:(r.mode&61440)===40960?7:4,Rt[e+2>>1]=0,rt[e+8>>3]=BigInt(0),rt[e+16>>3]=BigInt(0),0}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return i.Pa}},w:function(t,e,r,i){try{t:{var u=H(t);t=e;for(var p,w=e=0;w<r;w++){var T=F[t>>2],A=F[t+4>>2];t+=8;var x=pr(u,V,T,A,p);if(0>x){var J=-1;break t}if(e+=x,x<A)break;typeof p<"u"&&(p+=x)}J=e}return F[i>>2]=J,0}catch(K){if(typeof z>"u"||K.name!=="ErrnoError")throw K;return K.Pa}},D:function(t,e,r,i){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e);try{if(isNaN(e))return 61;var u=H(t);return lr(u,e,r),rt[i>>3]=BigInt(u.position),u.ob&&e===0&&r===0&&(u.ob=null),0}catch(p){if(typeof z>"u"||p.name!=="ErrnoError")throw p;return p.Pa}},I:function(t){var r;try{var e=H(t);return(r=e.Ma)!=null&&r.fsync?e.Ma.fsync(e):0}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return i.Pa}},t:function(t,e,r,i){try{t:{var u=H(t);t=e;for(var p,w=e=0;w<r;w++){var T=F[t>>2],A=F[t+4>>2];t+=8;var x=cr(u,V,T,A,p);if(0>x){var J=-1;break t}if(e+=x,x<A)break;typeof p<"u"&&(p+=x)}J=e}return F[i>>2]=J,0}catch(K){if(typeof z>"u"||K.name!=="ErrnoError")throw K;return K.Pa}},k:dr},L;(async function(){var r;function t(i){var u;return L=i.exports,zt=L.M,Ge(),lt=L.O,kt--,(u=a.monitorRunDependencies)==null||u.call(a,kt),kt==0&&Ot&&(i=Ot,Ot=null,i()),L}kt++,(r=a.monitorRunDependencies)==null||r.call(a,kt);var e={a:pn};return a.instantiateWasm?new Promise(i=>{a.instantiateWasm(e,(u,p)=>{t(u),i(u.exports)})}):(oe??(oe=a.locateFile?a.locateFile("sql-wasm.wasm",I):I+"sql-wasm.wasm"),t((await Yr(e)).instance))})(),a._sqlite3_free=t=>(a._sqlite3_free=L.P)(t),a._sqlite3_value_text=t=>(a._sqlite3_value_text=L.Q)(t),a._sqlite3_prepare_v2=(t,e,r,i,u)=>(a._sqlite3_prepare_v2=L.R)(t,e,r,i,u),a._sqlite3_step=t=>(a._sqlite3_step=L.S)(t),a._sqlite3_reset=t=>(a._sqlite3_reset=L.T)(t),a._sqlite3_exec=(t,e,r,i,u)=>(a._sqlite3_exec=L.U)(t,e,r,i,u),a._sqlite3_finalize=t=>(a._sqlite3_finalize=L.V)(t),a._sqlite3_column_name=(t,e)=>(a._sqlite3_column_name=L.W)(t,e),a._sqlite3_column_text=(t,e)=>(a._sqlite3_column_text=L.X)(t,e),a._sqlite3_column_type=(t,e)=>(a._sqlite3_column_type=L.Y)(t,e),a._sqlite3_errmsg=t=>(a._sqlite3_errmsg=L.Z)(t),a._sqlite3_clear_bindings=t=>(a._sqlite3_clear_bindings=L._)(t),a._sqlite3_value_blob=t=>(a._sqlite3_value_blob=L.$)(t),a._sqlite3_value_bytes=t=>(a._sqlite3_value_bytes=L.aa)(t),a._sqlite3_value_double=t=>(a._sqlite3_value_double=L.ba)(t),a._sqlite3_value_int=t=>(a._sqlite3_value_int=L.ca)(t),a._sqlite3_value_type=t=>(a._sqlite3_value_type=L.da)(t),a._sqlite3_result_blob=(t,e,r,i)=>(a._sqlite3_result_blob=L.ea)(t,e,r,i),a._sqlite3_result_double=(t,e)=>(a._sqlite3_result_double=L.fa)(t,e),a._sqlite3_result_error=(t,e,r)=>(a._sqlite3_result_error=L.ga)(t,e,r),a._sqlite3_result_int=(t,e)=>(a._sqlite3_result_int=L.ha)(t,e),a._sqlite3_result_int64=(t,e)=>(a._sqlite3_result_int64=L.ia)(t,e),a._sqlite3_result_null=t=>(a._sqlite3_result_null=L.ja)(t),a._sqlite3_result_text=(t,e,r,i)=>(a._sqlite3_result_text=L.ka)(t,e,r,i),a._sqlite3_aggregate_context=(t,e)=>(a._sqlite3_aggregate_context=L.la)(t,e),a._sqlite3_column_count=t=>(a._sqlite3_column_count=L.ma)(t),a._sqlite3_data_count=t=>(a._sqlite3_data_count=L.na)(t),a._sqlite3_column_blob=(t,e)=>(a._sqlite3_column_blob=L.oa)(t,e),a._sqlite3_column_bytes=(t,e)=>(a._sqlite3_column_bytes=L.pa)(t,e),a._sqlite3_column_double=(t,e)=>(a._sqlite3_column_double=L.qa)(t,e),a._sqlite3_bind_blob=(t,e,r,i,u)=>(a._sqlite3_bind_blob=L.ra)(t,e,r,i,u),a._sqlite3_bind_double=(t,e,r)=>(a._sqlite3_bind_double=L.sa)(t,e,r),a._sqlite3_bind_int=(t,e,r)=>(a._sqlite3_bind_int=L.ta)(t,e,r),a._sqlite3_bind_text=(t,e,r,i,u)=>(a._sqlite3_bind_text=L.ua)(t,e,r,i,u),a._sqlite3_bind_parameter_index=(t,e)=>(a._sqlite3_bind_parameter_index=L.va)(t,e),a._sqlite3_sql=t=>(a._sqlite3_sql=L.wa)(t),a._sqlite3_normalized_sql=t=>(a._sqlite3_normalized_sql=L.xa)(t),a._sqlite3_changes=t=>(a._sqlite3_changes=L.ya)(t),a._sqlite3_close_v2=t=>(a._sqlite3_close_v2=L.za)(t),a._sqlite3_create_function_v2=(t,e,r,i,u,p,w,T,A)=>(a._sqlite3_create_function_v2=L.Aa)(t,e,r,i,u,p,w,T,A),a._sqlite3_update_hook=(t,e,r)=>(a._sqlite3_update_hook=L.Ba)(t,e,r),a._sqlite3_open=(t,e)=>(a._sqlite3_open=L.Ca)(t,e);var Se=a._malloc=t=>(Se=a._malloc=L.Da)(t),te=a._free=t=>(te=a._free=L.Ea)(t);a._RegisterExtensionFunctions=t=>(a._RegisterExtensionFunctions=L.Fa)(t);var yr=(t,e)=>(yr=L.Ga)(t,e),gr=(t,e)=>(gr=L.Ha)(t,e),Ut=t=>(Ut=L.Ia)(t),yt=t=>(yt=L.Ja)(t),Gt=()=>(Gt=L.Ka)();a.stackSave=()=>Gt(),a.stackRestore=t=>Ut(t),a.stackAlloc=t=>yt(t),a.cwrap=(t,e,r,i)=>{var u=!r||r.every(p=>p==="number"||p==="boolean");return e!=="string"&&u&&!i?a["_"+t]:(...p)=>ln(t,e,r,p)},a.addFunction=qt,a.removeFunction=wt,a.UTF8ToString=ue,a.ALLOC_NORMAL=Xt,a.allocate=jt,a.allocateUTF8OnStack=ke;function Ee(){function t(){var u;if(a.calledRun=!0,!Ct){if(!a.noFSInit&&!Xe){var e,r;Xe=!0,i??(i=a.stdin),e??(e=a.stdout),r??(r=a.stderr),i?dt("stdin",i):ge("/dev/tty","/dev/stdin"),e?dt("stdout",null,e):ge("/dev/tty","/dev/stdout"),r?dt("stderr",null,r):ge("/dev/tty1","/dev/stderr"),Nt("/dev/stdin",0),Nt("/dev/stdout",1),Nt("/dev/stderr",1)}if(L.N(),je=!1,(u=a.onRuntimeInitialized)==null||u.call(a),a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;){var i=a.postRun.shift();ze.unshift(i)}Be(ze)}}if(0<kt)Ot=Ee;else{if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)Hr();Be(Ce),0<kt?Ot=Ee:a.setStatus?(a.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>a.setStatus(""),1),t()},1)):t()}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return Ee(),n}),d)};c.exports=l,c.exports.default=l})(Zr);var Dn=Zr.exports,Yn=Cn(Dn),st={},at={wkt:{Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION"},wkb:{Point:1,LineString:2,Polygon:3,MultiPoint:4,MultiLineString:5,MultiPolygon:6,GeometryCollection:7},geoJSON:{Point:"Point",LineString:"LineString",Polygon:"Polygon",MultiPoint:"MultiPoint",MultiLineString:"MultiLineString",MultiPolygon:"MultiPolygon",GeometryCollection:"GeometryCollection"}},mt=D;function D(c,y){this.buffer=new Buffer(c),this.position=0,this.allowResize=y}function X(c,y){return function(d,l){this.ensureSize(y),c.call(this.buffer,d,this.position,l),this.position+=y}}D.prototype.writeUInt8=X(Buffer.prototype.writeUInt8,1);D.prototype.writeUInt16LE=X(Buffer.prototype.writeUInt16LE,2);D.prototype.writeUInt16BE=X(Buffer.prototype.writeUInt16BE,2);D.prototype.writeUInt32LE=X(Buffer.prototype.writeUInt32LE,4);D.prototype.writeUInt32BE=X(Buffer.prototype.writeUInt32BE,4);D.prototype.writeInt8=X(Buffer.prototype.writeInt8,1);D.prototype.writeInt16LE=X(Buffer.prototype.writeInt16LE,2);D.prototype.writeInt16BE=X(Buffer.prototype.writeInt16BE,2);D.prototype.writeInt32LE=X(Buffer.prototype.writeInt32LE,4);D.prototype.writeInt32BE=X(Buffer.prototype.writeInt32BE,4);D.prototype.writeFloatLE=X(Buffer.prototype.writeFloatLE,4);D.prototype.writeFloatBE=X(Buffer.prototype.writeFloatBE,4);D.prototype.writeDoubleLE=X(Buffer.prototype.writeDoubleLE,8);D.prototype.writeDoubleBE=X(Buffer.prototype.writeDoubleBE,8);D.prototype.writeBuffer=function(c){this.ensureSize(c.length),c.copy(this.buffer,this.position,0,c.length),this.position+=c.length};D.prototype.writeVarInt=function(c){for(var y=1;c&4294967168;)this.writeUInt8(c&127|128),c>>>=7,y++;return this.writeUInt8(c&127),y};D.prototype.ensureSize=function(c){if(this.buffer.length<this.position+c)if(this.allowResize){var y=new Buffer(this.position+c);this.buffer.copy(y,0,0,this.buffer.length),this.buffer=y}else throw new RangeError("index out of range")};var qr={encode:function(c){return c<<1^c>>31},decode:function(c){return c>>1^-(c&1)}},Ie,Ir;function bt(){if(Ir)return Ie;Ir=1,Ie=h;var c=pt,y=_t(),d=at,l=mt,g=qr;function h(s,n,o,a,_){y.call(this),this.x=s,this.y=n,this.z=o,this.m=a,this.srid=_,this.hasZ=typeof this.z<"u",this.hasM=typeof this.m<"u"}return c.inherits(h,y),h.Z=function(s,n,o,a){var _=new h(s,n,o,void 0,a);return _.hasZ=!0,_},h.M=function(s,n,o,a){var _=new h(s,n,void 0,o,a);return _.hasM=!0,_},h.ZM=function(s,n,o,a,_){var M=new h(s,n,o,a,_);return M.hasZ=!0,M.hasM=!0,M},h._parseWkt=function(s,n){var o=new h;if(o.srid=n.srid,o.hasZ=n.hasZ,o.hasM=n.hasM,s.isMatch(["EMPTY"]))return o;s.expectGroupStart();var a=s.matchCoordinate(n);return o.x=a.x,o.y=a.y,o.z=a.z,o.m=a.m,s.expectGroupEnd(),o},h._parseWkb=function(s,n){var o=h._readWkbPoint(s,n);return o.srid=n.srid,o},h._readWkbPoint=function(s,n){return new h(s.readDouble(),s.readDouble(),n.hasZ?s.readDouble():void 0,n.hasM?s.readDouble():void 0)},h._parseTwkb=function(s,n){var o=new h;return o.hasZ=n.hasZ,o.hasM=n.hasM,n.isEmpty||(o.x=g.decode(s.readVarInt())/n.precisionFactor,o.y=g.decode(s.readVarInt())/n.precisionFactor,o.z=n.hasZ?g.decode(s.readVarInt())/n.zPrecisionFactor:void 0,o.m=n.hasM?g.decode(s.readVarInt())/n.mPrecisionFactor:void 0),o},h._readTwkbPoint=function(s,n,o){return o.x+=g.decode(s.readVarInt())/n.precisionFactor,o.y+=g.decode(s.readVarInt())/n.precisionFactor,n.hasZ&&(o.z+=g.decode(s.readVarInt())/n.zPrecisionFactor),n.hasM&&(o.m+=g.decode(s.readVarInt())/n.mPrecisionFactor),new h(o.x,o.y,o.z,o.m)},h._parseGeoJSON=function(s){return h._readGeoJSONPoint(s.coordinates)},h._readGeoJSONPoint=function(s){return s.length===0?new h:s.length>2?new h(s[0],s[1],s[2]):new h(s[0],s[1])},h.prototype.toWkt=function(){return typeof this.x>"u"&&typeof this.y>"u"&&typeof this.z>"u"&&typeof this.m>"u"?this._getWktType(d.wkt.Point,!0):this._getWktType(d.wkt.Point,!1)+"("+this._getWktCoordinate(this)+")"},h.prototype.toWkb=function(s){var n=new l(this._getWkbSize());return n.writeInt8(1),this._writeWkbType(n,d.wkb.Point,s),typeof this.x>"u"&&typeof this.y>"u"?(n.writeDoubleLE(NaN),n.writeDoubleLE(NaN),this.hasZ&&n.writeDoubleLE(NaN),this.hasM&&n.writeDoubleLE(NaN)):this._writeWkbPoint(n),n.buffer},h.prototype._writeWkbPoint=function(s){s.writeDoubleLE(this.x),s.writeDoubleLE(this.y),this.hasZ&&s.writeDoubleLE(this.z),this.hasM&&s.writeDoubleLE(this.m)},h.prototype.toTwkb=function(){var s=new l(0,!0),n=y.getTwkbPrecision(5,0,0),o=typeof this.x>"u"&&typeof this.y>"u";return this._writeTwkbHeader(s,d.wkb.Point,n,o),o||this._writeTwkbPoint(s,n,new h(0,0,0,0)),s.buffer},h.prototype._writeTwkbPoint=function(s,n,o){var a=this.x*n.xyFactor,_=this.y*n.xyFactor,M=this.z*n.zFactor,E=this.m*n.mFactor;s.writeVarInt(g.encode(a-o.x)),s.writeVarInt(g.encode(_-o.y)),this.hasZ&&s.writeVarInt(g.encode(M-o.z)),this.hasM&&s.writeVarInt(g.encode(E-o.m)),o.x=a,o.y=_,o.z=M,o.m=E},h.prototype._getWkbSize=function(){var s=21;return this.hasZ&&(s+=8),this.hasM&&(s+=8),s},h.prototype.toGeoJSON=function(s){var n=y.prototype.toGeoJSON.call(this,s);return n.type=d.geoJSON.Point,typeof this.x>"u"&&typeof this.y>"u"?n.coordinates=[]:typeof this.z<"u"?n.coordinates=[this.x,this.y,this.z]:n.coordinates=[this.x,this.y],n},Ie}var Te,Tr;function qe(){if(Tr)return Te;Tr=1,Te=h;var c=pt,y=_t(),d=at,l=bt(),g=mt;function h(s,n){y.call(this),this.points=s||[],this.srid=n,this.points.length>0&&(this.hasZ=this.points[0].hasZ,this.hasM=this.points[0].hasM)}return c.inherits(h,y),h.Z=function(s,n){var o=new h(s,n);return o.hasZ=!0,o},h.M=function(s,n){var o=new h(s,n);return o.hasM=!0,o},h.ZM=function(s,n){var o=new h(s,n);return o.hasZ=!0,o.hasM=!0,o},h._parseWkt=function(s,n){var o=new h;return o.srid=n.srid,o.hasZ=n.hasZ,o.hasM=n.hasM,s.isMatch(["EMPTY"])||(s.expectGroupStart(),o.points.push.apply(o.points,s.matchCoordinates(n)),s.expectGroupEnd()),o},h._parseWkb=function(s,n){var o=new h;o.srid=n.srid,o.hasZ=n.hasZ,o.hasM=n.hasM;for(var a=s.readUInt32(),_=0;_<a;_++)o.points.push(l._readWkbPoint(s,n));return o},h._parseTwkb=function(s,n){var o=new h;if(o.hasZ=n.hasZ,o.hasM=n.hasM,n.isEmpty)return o;for(var a=new l(0,0,n.hasZ?0:void 0,n.hasM?0:void 0),_=s.readVarInt(),M=0;M<_;M++)o.points.push(l._readTwkbPoint(s,n,a));return o},h._parseGeoJSON=function(s){var n=new h;s.coordinates.length>0&&(n.hasZ=s.coordinates[0].length>2);for(var o=0;o<s.coordinates.length;o++)n.points.push(l._readGeoJSONPoint(s.coordinates[o]));return n},h.prototype.toWkt=function(){return this.points.length===0?this._getWktType(d.wkt.LineString,!0):this._getWktType(d.wkt.LineString,!1)+this._toInnerWkt()},h.prototype._toInnerWkt=function(){for(var s="(",n=0;n<this.points.length;n++)s+=this._getWktCoordinate(this.points[n])+",";return s=s.slice(0,-1),s+=")",s},h.prototype.toWkb=function(s){var n=new g(this._getWkbSize());n.writeInt8(1),this._writeWkbType(n,d.wkb.LineString,s),n.writeUInt32LE(this.points.length);for(var o=0;o<this.points.length;o++)this.points[o]._writeWkbPoint(n);return n.buffer},h.prototype.toTwkb=function(){var s=new g(0,!0),n=y.getTwkbPrecision(5,0,0),o=this.points.length===0;if(this._writeTwkbHeader(s,d.wkb.LineString,n,o),this.points.length>0){s.writeVarInt(this.points.length);for(var a=new l(0,0,0,0),_=0;_<this.points.length;_++)this.points[_]._writeTwkbPoint(s,n,a)}return s.buffer},h.prototype._getWkbSize=function(){var s=16;return this.hasZ&&(s+=8),this.hasM&&(s+=8),9+this.points.length*s},h.prototype.toGeoJSON=function(s){var n=y.prototype.toGeoJSON.call(this,s);n.type=d.geoJSON.LineString,n.coordinates=[];for(var o=0;o<this.points.length;o++)this.hasZ?n.coordinates.push([this.points[o].x,this.points[o].y,this.points[o].z]):n.coordinates.push([this.points[o].x,this.points[o].y]);return n},Te}var Le,Lr;function Ue(){if(Lr)return Le;Lr=1,Le=h;var c=pt,y=_t(),d=at,l=bt(),g=mt;function h(s,n,o){y.call(this),this.exteriorRing=s||[],this.interiorRings=n||[],this.srid=o,this.exteriorRing.length>0&&(this.hasZ=this.exteriorRing[0].hasZ,this.hasM=this.exteriorRing[0].hasM)}return c.inherits(h,y),h.Z=function(s,n,o){var a=new h(s,n,o);return a.hasZ=!0,a},h.M=function(s,n,o){var a=new h(s,n,o);return a.hasM=!0,a},h.ZM=function(s,n,o){var a=new h(s,n,o);return a.hasZ=!0,a.hasM=!0,a},h._parseWkt=function(s,n){var o=new h;if(o.srid=n.srid,o.hasZ=n.hasZ,o.hasM=n.hasM,s.isMatch(["EMPTY"]))return o;for(s.expectGroupStart(),s.expectGroupStart(),o.exteriorRing.push.apply(o.exteriorRing,s.matchCoordinates(n)),s.expectGroupEnd();s.isMatch([","]);)s.expectGroupStart(),o.interiorRings.push(s.matchCoordinates(n)),s.expectGroupEnd();return s.expectGroupEnd(),o},h._parseWkb=function(s,n){var o=new h;o.srid=n.srid,o.hasZ=n.hasZ,o.hasM=n.hasM;var a=s.readUInt32();if(a>0){for(var _=s.readUInt32(),M=0;M<_;M++)o.exteriorRing.push(l._readWkbPoint(s,n));for(M=1;M<a;M++){for(var E=[],v=s.readUInt32(),S=0;S<v;S++)E.push(l._readWkbPoint(s,n));o.interiorRings.push(E)}}return o},h._parseTwkb=function(s,n){var o=new h;if(o.hasZ=n.hasZ,o.hasM=n.hasM,n.isEmpty)return o;for(var a=new l(0,0,n.hasZ?0:void 0,n.hasM?0:void 0),_=s.readVarInt(),M=s.readVarInt(),E=0;E<M;E++)o.exteriorRing.push(l._readTwkbPoint(s,n,a));for(E=1;E<_;E++){for(var v=[],S=s.readVarInt(),b=0;b<S;b++)v.push(l._readTwkbPoint(s,n,a));o.interiorRings.push(v)}return o},h._parseGeoJSON=function(s){var n=new h;s.coordinates.length>0&&s.coordinates[0].length>0&&(n.hasZ=s.coordinates[0][0].length>2);for(var o=0;o<s.coordinates.length;o++){o>0&&n.interiorRings.push([]);for(var a=0;a<s.coordinates[o].length;a++)o===0?n.exteriorRing.push(l._readGeoJSONPoint(s.coordinates[o][a])):n.interiorRings[o-1].push(l._readGeoJSONPoint(s.coordinates[o][a]))}return n},h.prototype.toWkt=function(){return this.exteriorRing.length===0?this._getWktType(d.wkt.Polygon,!0):this._getWktType(d.wkt.Polygon,!1)+this._toInnerWkt()},h.prototype._toInnerWkt=function(){for(var s="((",n=0;n<this.exteriorRing.length;n++)s+=this._getWktCoordinate(this.exteriorRing[n])+",";for(s=s.slice(0,-1),s+=")",n=0;n<this.interiorRings.length;n++){s+=",(";for(var o=0;o<this.interiorRings[n].length;o++)s+=this._getWktCoordinate(this.interiorRings[n][o])+",";s=s.slice(0,-1),s+=")"}return s+=")",s},h.prototype.toWkb=function(s){var n=new g(this._getWkbSize());n.writeInt8(1),this._writeWkbType(n,d.wkb.Polygon,s),this.exteriorRing.length>0?(n.writeUInt32LE(1+this.interiorRings.length),n.writeUInt32LE(this.exteriorRing.length)):n.writeUInt32LE(0);for(var o=0;o<this.exteriorRing.length;o++)this.exteriorRing[o]._writeWkbPoint(n);for(o=0;o<this.interiorRings.length;o++){n.writeUInt32LE(this.interiorRings[o].length);for(var a=0;a<this.interiorRings[o].length;a++)this.interiorRings[o][a]._writeWkbPoint(n)}return n.buffer},h.prototype.toTwkb=function(){var s=new g(0,!0),n=y.getTwkbPrecision(5,0,0),o=this.exteriorRing.length===0;if(this._writeTwkbHeader(s,d.wkb.Polygon,n,o),this.exteriorRing.length>0){s.writeVarInt(1+this.interiorRings.length),s.writeVarInt(this.exteriorRing.length);for(var a=new l(0,0,0,0),_=0;_<this.exteriorRing.length;_++)this.exteriorRing[_]._writeTwkbPoint(s,n,a);for(_=0;_<this.interiorRings.length;_++){s.writeVarInt(this.interiorRings[_].length);for(var M=0;M<this.interiorRings[_].length;M++)this.interiorRings[_][M]._writeTwkbPoint(s,n,a)}}return s.buffer},h.prototype._getWkbSize=function(){var s=16;this.hasZ&&(s+=8),this.hasM&&(s+=8);var n=9;this.exteriorRing.length>0&&(n+=4+this.exteriorRing.length*s);for(var o=0;o<this.interiorRings.length;o++)n+=4+this.interiorRings[o].length*s;return n},h.prototype.toGeoJSON=function(s){var n=y.prototype.toGeoJSON.call(this,s);if(n.type=d.geoJSON.Polygon,n.coordinates=[],this.exteriorRing.length>0){for(var o=[],a=0;a<this.exteriorRing.length;a++)this.hasZ?o.push([this.exteriorRing[a].x,this.exteriorRing[a].y,this.exteriorRing[a].z]):o.push([this.exteriorRing[a].x,this.exteriorRing[a].y]);n.coordinates.push(o)}for(var _=0;_<this.interiorRings.length;_++){for(var M=[],E=0;E<this.interiorRings[_].length;E++)this.hasZ?M.push([this.interiorRings[_][E].x,this.interiorRings[_][E].y,this.interiorRings[_][E].z]):M.push([this.interiorRings[_][E].x,this.interiorRings[_][E].y]);n.coordinates.push(M)}return n},Le}var Ne,Nr;function Ur(){if(Nr)return Ne;Nr=1,Ne=h;var c=pt,y=at,d=_t(),l=bt(),g=mt;function h(s,n){d.call(this),this.points=s||[],this.srid=n,this.points.length>0&&(this.hasZ=this.points[0].hasZ,this.hasM=this.points[0].hasM)}return c.inherits(h,d),h.Z=function(s,n){var o=new h(s,n);return o.hasZ=!0,o},h.M=function(s,n){var o=new h(s,n);return o.hasM=!0,o},h.ZM=function(s,n){var o=new h(s,n);return o.hasZ=!0,o.hasM=!0,o},h._parseWkt=function(s,n){var o=new h;return o.srid=n.srid,o.hasZ=n.hasZ,o.hasM=n.hasM,s.isMatch(["EMPTY"])||(s.expectGroupStart(),o.points.push.apply(o.points,s.matchCoordinates(n)),s.expectGroupEnd()),o},h._parseWkb=function(s,n){var o=new h;o.srid=n.srid,o.hasZ=n.hasZ,o.hasM=n.hasM;for(var a=s.readUInt32(),_=0;_<a;_++)o.points.push(d.parse(s,n));return o},h._parseTwkb=function(s,n){var o=new h;if(o.hasZ=n.hasZ,o.hasM=n.hasM,n.isEmpty)return o;for(var a=new l(0,0,n.hasZ?0:void 0,n.hasM?0:void 0),_=s.readVarInt(),M=0;M<_;M++)o.points.push(l._readTwkbPoint(s,n,a));return o},h._parseGeoJSON=function(s){var n=new h;s.coordinates.length>0&&(n.hasZ=s.coordinates[0].length>2);for(var o=0;o<s.coordinates.length;o++)n.points.push(l._parseGeoJSON({coordinates:s.coordinates[o]}));return n},h.prototype.toWkt=function(){if(this.points.length===0)return this._getWktType(y.wkt.MultiPoint,!0);for(var s=this._getWktType(y.wkt.MultiPoint,!1)+"(",n=0;n<this.points.length;n++)s+=this._getWktCoordinate(this.points[n])+",";return s=s.slice(0,-1),s+=")",s},h.prototype.toWkb=function(){var s=new g(this._getWkbSize());s.writeInt8(1),this._writeWkbType(s,y.wkb.MultiPoint),s.writeUInt32LE(this.points.length);for(var n=0;n<this.points.length;n++)s.writeBuffer(this.points[n].toWkb({srid:this.srid}));return s.buffer},h.prototype.toTwkb=function(){var s=new g(0,!0),n=d.getTwkbPrecision(5,0,0),o=this.points.length===0;if(this._writeTwkbHeader(s,y.wkb.MultiPoint,n,o),this.points.length>0){s.writeVarInt(this.points.length);for(var a=new l(0,0,0,0),_=0;_<this.points.length;_++)this.points[_]._writeTwkbPoint(s,n,a)}return s.buffer},h.prototype._getWkbSize=function(){var s=16;return this.hasZ&&(s+=8),this.hasM&&(s+=8),s+=5,9+this.points.length*s},h.prototype.toGeoJSON=function(s){var n=d.prototype.toGeoJSON.call(this,s);n.type=y.geoJSON.MultiPoint,n.coordinates=[];for(var o=0;o<this.points.length;o++)n.coordinates.push(this.points[o].toGeoJSON().coordinates);return n},Ne}var Re,Rr;function Gr(){if(Rr)return Re;Rr=1,Re=s;var c=pt,y=at,d=_t(),l=bt(),g=qe(),h=mt;function s(n,o){d.call(this),this.lineStrings=n||[],this.srid=o,this.lineStrings.length>0&&(this.hasZ=this.lineStrings[0].hasZ,this.hasM=this.lineStrings[0].hasM)}return c.inherits(s,d),s.Z=function(n,o){var a=new s(n,o);return a.hasZ=!0,a},s.M=function(n,o){var a=new s(n,o);return a.hasM=!0,a},s.ZM=function(n,o){var a=new s(n,o);return a.hasZ=!0,a.hasM=!0,a},s._parseWkt=function(n,o){var a=new s;if(a.srid=o.srid,a.hasZ=o.hasZ,a.hasM=o.hasM,n.isMatch(["EMPTY"]))return a;n.expectGroupStart();do n.expectGroupStart(),a.lineStrings.push(new g(n.matchCoordinates(o))),n.expectGroupEnd();while(n.isMatch([","]));return n.expectGroupEnd(),a},s._parseWkb=function(n,o){var a=new s;a.srid=o.srid,a.hasZ=o.hasZ,a.hasM=o.hasM;for(var _=n.readUInt32(),M=0;M<_;M++)a.lineStrings.push(d.parse(n,o));return a},s._parseTwkb=function(n,o){var a=new s;if(a.hasZ=o.hasZ,a.hasM=o.hasM,o.isEmpty)return a;for(var _=new l(0,0,o.hasZ?0:void 0,o.hasM?0:void 0),M=n.readVarInt(),E=0;E<M;E++){var v=new g;v.hasZ=o.hasZ,v.hasM=o.hasM;for(var S=n.readVarInt(),b=0;b<S;b++)v.points.push(l._readTwkbPoint(n,o,_));a.lineStrings.push(v)}return a},s._parseGeoJSON=function(n){var o=new s;n.coordinates.length>0&&n.coordinates[0].length>0&&(o.hasZ=n.coordinates[0][0].length>2);for(var a=0;a<n.coordinates.length;a++)o.lineStrings.push(g._parseGeoJSON({coordinates:n.coordinates[a]}));return o},s.prototype.toWkt=function(){if(this.lineStrings.length===0)return this._getWktType(y.wkt.MultiLineString,!0);for(var n=this._getWktType(y.wkt.MultiLineString,!1)+"(",o=0;o<this.lineStrings.length;o++)n+=this.lineStrings[o]._toInnerWkt()+",";return n=n.slice(0,-1),n+=")",n},s.prototype.toWkb=function(){var n=new h(this._getWkbSize());n.writeInt8(1),this._writeWkbType(n,y.wkb.MultiLineString),n.writeUInt32LE(this.lineStrings.length);for(var o=0;o<this.lineStrings.length;o++)n.writeBuffer(this.lineStrings[o].toWkb({srid:this.srid}));return n.buffer},s.prototype.toTwkb=function(){var n=new h(0,!0),o=d.getTwkbPrecision(5,0,0),a=this.lineStrings.length===0;if(this._writeTwkbHeader(n,y.wkb.MultiLineString,o,a),this.lineStrings.length>0){n.writeVarInt(this.lineStrings.length);for(var _=new l(0,0,0,0),M=0;M<this.lineStrings.length;M++){n.writeVarInt(this.lineStrings[M].points.length);for(var E=0;E<this.lineStrings[M].points.length;E++)this.lineStrings[M].points[E]._writeTwkbPoint(n,o,_)}}return n.buffer},s.prototype._getWkbSize=function(){for(var n=9,o=0;o<this.lineStrings.length;o++)n+=this.lineStrings[o]._getWkbSize();return n},s.prototype.toGeoJSON=function(n){var o=d.prototype.toGeoJSON.call(this,n);o.type=y.geoJSON.MultiLineString,o.coordinates=[];for(var a=0;a<this.lineStrings.length;a++)o.coordinates.push(this.lineStrings[a].toGeoJSON().coordinates);return o},Re}var Oe,Or;function Br(){if(Or)return Oe;Or=1,Oe=s;var c=pt,y=at,d=_t(),l=bt(),g=Ue(),h=mt;function s(n,o){d.call(this),this.polygons=n||[],this.srid=o,this.polygons.length>0&&(this.hasZ=this.polygons[0].hasZ,this.hasM=this.polygons[0].hasM)}return c.inherits(s,d),s.Z=function(n,o){var a=new s(n,o);return a.hasZ=!0,a},s.M=function(n,o){var a=new s(n,o);return a.hasM=!0,a},s.ZM=function(n,o){var a=new s(n,o);return a.hasZ=!0,a.hasM=!0,a},s._parseWkt=function(n,o){var a=new s;if(a.srid=o.srid,a.hasZ=o.hasZ,a.hasM=o.hasM,n.isMatch(["EMPTY"]))return a;n.expectGroupStart();do{n.expectGroupStart();var _=[],M=[];for(n.expectGroupStart(),_.push.apply(_,n.matchCoordinates(o)),n.expectGroupEnd();n.isMatch([","]);)n.expectGroupStart(),M.push(n.matchCoordinates(o)),n.expectGroupEnd();a.polygons.push(new g(_,M)),n.expectGroupEnd()}while(n.isMatch([","]));return n.expectGroupEnd(),a},s._parseWkb=function(n,o){var a=new s;a.srid=o.srid,a.hasZ=o.hasZ,a.hasM=o.hasM;for(var _=n.readUInt32(),M=0;M<_;M++)a.polygons.push(d.parse(n,o));return a},s._parseTwkb=function(n,o){var a=new s;if(a.hasZ=o.hasZ,a.hasM=o.hasM,o.isEmpty)return a;for(var _=new l(0,0,o.hasZ?0:void 0,o.hasM?0:void 0),M=n.readVarInt(),E=0;E<M;E++){var v=new g;v.hasZ=o.hasZ,v.hasM=o.hasM;for(var S=n.readVarInt(),b=n.readVarInt(),I=0;I<b;I++)v.exteriorRing.push(l._readTwkbPoint(n,o,_));for(I=1;I<S;I++){for(var q=[],W=n.readVarInt(),Z=0;Z<W;Z++)q.push(l._readTwkbPoint(n,o,_));v.interiorRings.push(q)}a.polygons.push(v)}return a},s._parseGeoJSON=function(n){var o=new s;n.coordinates.length>0&&n.coordinates[0].length>0&&n.coordinates[0][0].length>0&&(o.hasZ=n.coordinates[0][0][0].length>2);for(var a=0;a<n.coordinates.length;a++)o.polygons.push(g._parseGeoJSON({coordinates:n.coordinates[a]}));return o},s.prototype.toWkt=function(){if(this.polygons.length===0)return this._getWktType(y.wkt.MultiPolygon,!0);for(var n=this._getWktType(y.wkt.MultiPolygon,!1)+"(",o=0;o<this.polygons.length;o++)n+=this.polygons[o]._toInnerWkt()+",";return n=n.slice(0,-1),n+=")",n},s.prototype.toWkb=function(){var n=new h(this._getWkbSize());n.writeInt8(1),this._writeWkbType(n,y.wkb.MultiPolygon),n.writeUInt32LE(this.polygons.length);for(var o=0;o<this.polygons.length;o++)n.writeBuffer(this.polygons[o].toWkb({srid:this.srid}));return n.buffer},s.prototype.toTwkb=function(){var n=new h(0,!0),o=d.getTwkbPrecision(5,0,0),a=this.polygons.length===0;if(this._writeTwkbHeader(n,y.wkb.MultiPolygon,o,a),this.polygons.length>0){n.writeVarInt(this.polygons.length);for(var _=new l(0,0,0,0),M=0;M<this.polygons.length;M++){n.writeVarInt(1+this.polygons[M].interiorRings.length),n.writeVarInt(this.polygons[M].exteriorRing.length);for(var E=0;E<this.polygons[M].exteriorRing.length;E++)this.polygons[M].exteriorRing[E]._writeTwkbPoint(n,o,_);for(E=0;E<this.polygons[M].interiorRings.length;E++){n.writeVarInt(this.polygons[M].interiorRings[E].length);for(var v=0;v<this.polygons[M].interiorRings[E].length;v++)this.polygons[M].interiorRings[E][v]._writeTwkbPoint(n,o,_)}}}return n.buffer},s.prototype._getWkbSize=function(){for(var n=9,o=0;o<this.polygons.length;o++)n+=this.polygons[o]._getWkbSize();return n},s.prototype.toGeoJSON=function(n){var o=d.prototype.toGeoJSON.call(this,n);o.type=y.geoJSON.MultiPolygon,o.coordinates=[];for(var a=0;a<this.polygons.length;a++)o.coordinates.push(this.polygons[a].toGeoJSON().coordinates);return o},Oe}var We,Wr;function zr(){if(Wr)return We;Wr=1,We=g;var c=pt,y=at,d=_t(),l=mt;function g(h,s){d.call(this),this.geometries=h||[],this.srid=s,this.geometries.length>0&&(this.hasZ=this.geometries[0].hasZ,this.hasM=this.geometries[0].hasM)}return c.inherits(g,d),g.Z=function(h,s){var n=new g(h,s);return n.hasZ=!0,n},g.M=function(h,s){var n=new g(h,s);return n.hasM=!0,n},g.ZM=function(h,s){var n=new g(h,s);return n.hasZ=!0,n.hasM=!0,n},g._parseWkt=function(h,s){var n=new g;if(n.srid=s.srid,n.hasZ=s.hasZ,n.hasM=s.hasM,h.isMatch(["EMPTY"]))return n;h.expectGroupStart();do n.geometries.push(d.parse(h));while(h.isMatch([","]));return h.expectGroupEnd(),n},g._parseWkb=function(h,s){var n=new g;n.srid=s.srid,n.hasZ=s.hasZ,n.hasM=s.hasM;for(var o=h.readUInt32(),a=0;a<o;a++)n.geometries.push(d.parse(h,s));return n},g._parseTwkb=function(h,s){var n=new g;if(n.hasZ=s.hasZ,n.hasM=s.hasM,s.isEmpty)return n;for(var o=h.readVarInt(),a=0;a<o;a++)n.geometries.push(d.parseTwkb(h));return n},g._parseGeoJSON=function(h){for(var s=new g,n=0;n<h.geometries.length;n++)s.geometries.push(d._parseGeoJSON(h.geometries[n],!0));return s.geometries.length>0&&(s.hasZ=s.geometries[0].hasZ),s},g.prototype.toWkt=function(){if(this.geometries.length===0)return this._getWktType(y.wkt.GeometryCollection,!0);for(var h=this._getWktType(y.wkt.GeometryCollection,!1)+"(",s=0;s<this.geometries.length;s++)h+=this.geometries[s].toWkt()+",";return h=h.slice(0,-1),h+=")",h},g.prototype.toWkb=function(){var h=new l(this._getWkbSize());h.writeInt8(1),this._writeWkbType(h,y.wkb.GeometryCollection),h.writeUInt32LE(this.geometries.length);for(var s=0;s<this.geometries.length;s++)h.writeBuffer(this.geometries[s].toWkb({srid:this.srid}));return h.buffer},g.prototype.toTwkb=function(){var h=new l(0,!0),s=d.getTwkbPrecision(5,0,0),n=this.geometries.length===0;if(this._writeTwkbHeader(h,y.wkb.GeometryCollection,s,n),this.geometries.length>0){h.writeVarInt(this.geometries.length);for(var o=0;o<this.geometries.length;o++)h.writeBuffer(this.geometries[o].toTwkb())}return h.buffer},g.prototype._getWkbSize=function(){for(var h=9,s=0;s<this.geometries.length;s++)h+=this.geometries[s]._getWkbSize();return h},g.prototype.toGeoJSON=function(h){var s=d.prototype.toGeoJSON.call(this,h);s.type=y.geoJSON.GeometryCollection,s.geometries=[];for(var n=0;n<this.geometries.length;n++)s.geometries.push(this.geometries[n].toGeoJSON());return s},We}var Hn=ut;function ut(c,y){this.buffer=c,this.position=0,this.isBigEndian=y||!1}function vt(c,y,d){return function(){var l;return this.isBigEndian?l=y.call(this.buffer,this.position):l=c.call(this.buffer,this.position),this.position+=d,l}}ut.prototype.readUInt8=vt(Buffer.prototype.readUInt8,Buffer.prototype.readUInt8,1);ut.prototype.readUInt16=vt(Buffer.prototype.readUInt16LE,Buffer.prototype.readUInt16BE,2);ut.prototype.readUInt32=vt(Buffer.prototype.readUInt32LE,Buffer.prototype.readUInt32BE,4);ut.prototype.readInt8=vt(Buffer.prototype.readInt8,Buffer.prototype.readInt8,1);ut.prototype.readInt16=vt(Buffer.prototype.readInt16LE,Buffer.prototype.readInt16BE,2);ut.prototype.readInt32=vt(Buffer.prototype.readInt32LE,Buffer.prototype.readInt32BE,4);ut.prototype.readFloat=vt(Buffer.prototype.readFloatLE,Buffer.prototype.readFloatBE,4);ut.prototype.readDouble=vt(Buffer.prototype.readDoubleLE,Buffer.prototype.readDoubleBE,8);ut.prototype.readVarInt=function(){var c,y=0,d=0;do c=this.buffer[this.position+d],y+=(c&127)<<7*d,d++;while(c>=128);return this.position+=d,y};var xe,xr;function $n(){if(xr)return xe;xr=1,xe=d;var c=at,y=bt();function d(l){this.value=l,this.position=0}return d.prototype.match=function(l){this.skipWhitespaces();for(var g=0;g<l.length;g++)if(this.value.substring(this.position).indexOf(l[g])===0)return this.position+=l[g].length,l[g];return null},d.prototype.matchRegex=function(l){this.skipWhitespaces();for(var g=0;g<l.length;g++){var h=this.value.substring(this.position).match(l[g]);if(h)return this.position+=h[0].length,h}return null},d.prototype.isMatch=function(l){this.skipWhitespaces();for(var g=0;g<l.length;g++)if(this.value.substring(this.position).indexOf(l[g])===0)return this.position+=l[g].length,!0;return!1},d.prototype.matchType=function(){var l=this.match([c.wkt.Point,c.wkt.LineString,c.wkt.Polygon,c.wkt.MultiPoint,c.wkt.MultiLineString,c.wkt.MultiPolygon,c.wkt.GeometryCollection]);if(!l)throw new Error("Expected geometry type");return l},d.prototype.matchDimension=function(){var l=this.match(["ZM","Z","M"]);switch(l){case"ZM":return{hasZ:!0,hasM:!0};case"Z":return{hasZ:!0,hasM:!1};case"M":return{hasZ:!1,hasM:!0};default:return{hasZ:!1,hasM:!1}}},d.prototype.expectGroupStart=function(){if(!this.isMatch(["("]))throw new Error("Expected group start")},d.prototype.expectGroupEnd=function(){if(!this.isMatch([")"]))throw new Error("Expected group end")},d.prototype.matchCoordinate=function(l){var g;if(l.hasZ&&l.hasM?g=this.matchRegex([/^(\S*)\s+(\S*)\s+(\S*)\s+([^\s,)]*)/]):l.hasZ||l.hasM?g=this.matchRegex([/^(\S*)\s+(\S*)\s+([^\s,)]*)/]):g=this.matchRegex([/^(\S*)\s+([^\s,)]*)/]),!g)throw new Error("Expected coordinates");return l.hasZ&&l.hasM?new y(parseFloat(g[1]),parseFloat(g[2]),parseFloat(g[3]),parseFloat(g[4])):l.hasZ?new y(parseFloat(g[1]),parseFloat(g[2]),parseFloat(g[3])):l.hasM?new y(parseFloat(g[1]),parseFloat(g[2]),void 0,parseFloat(g[3])):new y(parseFloat(g[1]),parseFloat(g[2]))},d.prototype.matchCoordinates=function(l){var g=[];do{var h=this.isMatch(["("]);g.push(this.matchCoordinate(l)),h&&this.expectGroupEnd()}while(this.isMatch([","]));return g},d.prototype.skipWhitespaces=function(){for(;this.position<this.value.length&&this.value[this.position]===" ";)this.position++},xe}var Ae,Ar;function _t(){if(Ar)return Ae;Ar=1,Ae=E;var c=at,y=bt(),d=qe(),l=Ue(),g=Ur(),h=Gr(),s=Br(),n=zr(),o=Hn,a=mt,_=$n(),M=qr;function E(){this.srid=void 0,this.hasZ=!1,this.hasM=!1}return E.parse=function(v,S){var b=typeof v;if(b==="string"||v instanceof _)return E._parseWkt(v);if(Buffer.isBuffer(v)||v instanceof o)return E._parseWkb(v,S);throw new Error("first argument must be a string or Buffer")},E._parseWkt=function(v){var S,b;v instanceof _?S=v:S=new _(v);var I=S.matchRegex([/^SRID=(\d+);/]);I&&(b=parseInt(I[1],10));var q=S.matchType(),W=S.matchDimension(),Z={srid:b,hasZ:W.hasZ,hasM:W.hasM};switch(q){case c.wkt.Point:return y._parseWkt(S,Z);case c.wkt.LineString:return d._parseWkt(S,Z);case c.wkt.Polygon:return l._parseWkt(S,Z);case c.wkt.MultiPoint:return g._parseWkt(S,Z);case c.wkt.MultiLineString:return h._parseWkt(S,Z);case c.wkt.MultiPolygon:return s._parseWkt(S,Z);case c.wkt.GeometryCollection:return n._parseWkt(S,Z)}},E._parseWkb=function(v,S){var b,I,q,W={};switch(v instanceof o?b=v:b=new o(v),b.isBigEndian=!b.readInt8(),I=b.readUInt32(),W.hasSrid=(I&536870912)===536870912,W.isEwkb=I&536870912||I&1073741824||I&2147483648,W.hasSrid&&(W.srid=b.readUInt32()),W.hasZ=!1,W.hasM=!1,!W.isEwkb&&(!S||!S.isEwkb)?I>=1e3&&I<2e3?(W.hasZ=!0,q=I-1e3):I>=2e3&&I<3e3?(W.hasM=!0,q=I-2e3):I>=3e3&&I<4e3?(W.hasZ=!0,W.hasM=!0,q=I-3e3):q=I:(I&2147483648&&(W.hasZ=!0),I&1073741824&&(W.hasM=!0),q=I&15),q){case c.wkb.Point:return y._parseWkb(b,W);case c.wkb.LineString:return d._parseWkb(b,W);case c.wkb.Polygon:return l._parseWkb(b,W);case c.wkb.MultiPoint:return g._parseWkb(b,W);case c.wkb.MultiLineString:return h._parseWkb(b,W);case c.wkb.MultiPolygon:return s._parseWkb(b,W);case c.wkb.GeometryCollection:return n._parseWkb(b,W);default:throw new Error("GeometryType "+q+" not supported")}},E.parseTwkb=function(v){var S,b={};v instanceof o?S=v:S=new o(v);var I=S.readUInt8(),q=S.readUInt8(),W=I&15;if(b.precision=M.decode(I>>4),b.precisionFactor=Math.pow(10,b.precision),b.hasBoundingBox=q>>0&1,b.hasSizeAttribute=q>>1&1,b.hasIdList=q>>2&1,b.hasExtendedPrecision=q>>3&1,b.isEmpty=q>>4&1,b.hasExtendedPrecision){var Z=S.readUInt8();b.hasZ=(Z&1)===1,b.hasM=(Z&2)===2,b.zPrecision=M.decode((Z&28)>>2),b.zPrecisionFactor=Math.pow(10,b.zPrecision),b.mPrecision=M.decode((Z&224)>>5),b.mPrecisionFactor=Math.pow(10,b.mPrecision)}else b.hasZ=!1,b.hasM=!1;if(b.hasSizeAttribute&&S.readVarInt(),b.hasBoundingBox){var $=2;b.hasZ&&$++,b.hasM&&$++;for(var Y=0;Y<$;Y++)S.readVarInt(),S.readVarInt()}switch(W){case c.wkb.Point:return y._parseTwkb(S,b);case c.wkb.LineString:return d._parseTwkb(S,b);case c.wkb.Polygon:return l._parseTwkb(S,b);case c.wkb.MultiPoint:return g._parseTwkb(S,b);case c.wkb.MultiLineString:return h._parseTwkb(S,b);case c.wkb.MultiPolygon:return s._parseTwkb(S,b);case c.wkb.GeometryCollection:return n._parseTwkb(S,b);default:throw new Error("GeometryType "+W+" not supported")}},E.parseGeoJSON=function(v){return E._parseGeoJSON(v)},E._parseGeoJSON=function(v,S){var b;switch(v.type){case c.geoJSON.Point:b=y._parseGeoJSON(v);break;case c.geoJSON.LineString:b=d._parseGeoJSON(v);break;case c.geoJSON.Polygon:b=l._parseGeoJSON(v);break;case c.geoJSON.MultiPoint:b=g._parseGeoJSON(v);break;case c.geoJSON.MultiLineString:b=h._parseGeoJSON(v);break;case c.geoJSON.MultiPolygon:b=s._parseGeoJSON(v);break;case c.geoJSON.GeometryCollection:b=n._parseGeoJSON(v);break;default:throw new Error("GeometryType "+v.type+" not supported")}if(v.crs&&v.crs.type&&v.crs.type==="name"&&v.crs.properties&&v.crs.properties.name){var I=v.crs.properties.name;if(I.indexOf("EPSG:")===0)b.srid=parseInt(I.substring(5));else if(I.indexOf("urn:ogc:def:crs:EPSG::")===0)b.srid=parseInt(I.substring(22));else throw new Error("Unsupported crs: "+I)}else S||(b.srid=4326);return b},E.prototype.toEwkt=function(){return"SRID="+this.srid+";"+this.toWkt()},E.prototype.toEwkb=function(){var v=new a(this._getWkbSize()+4),S=this.toWkb();return v.writeInt8(1),v.writeUInt32LE((S.slice(1,5).readUInt32LE(0)|536870912)>>>0,!0),v.writeUInt32LE(this.srid),v.writeBuffer(S.slice(5)),v.buffer},E.prototype._getWktType=function(v,S){var b=v;return this.hasZ&&this.hasM?b+=" ZM ":this.hasZ?b+=" Z ":this.hasM&&(b+=" M "),S&&!this.hasZ&&!this.hasM&&(b+=" "),S&&(b+="EMPTY"),b},E.prototype._getWktCoordinate=function(v){var S=v.x+" "+v.y;return this.hasZ&&(S+=" "+v.z),this.hasM&&(S+=" "+v.m),S},E.prototype._writeWkbType=function(v,S,b){var I=0;typeof this.srid>"u"&&(!b||typeof b.srid>"u")?this.hasZ&&this.hasM?I+=3e3:this.hasZ?I+=1e3:this.hasM&&(I+=2e3):(this.hasZ&&(I|=2147483648),this.hasM&&(I|=1073741824)),v.writeUInt32LE(I+S>>>0,!0)},E.getTwkbPrecision=function(v,S,b){return{xy:v,z:S,m:b,xyFactor:Math.pow(10,v),zFactor:Math.pow(10,S),mFactor:Math.pow(10,b)}},E.prototype._writeTwkbHeader=function(v,S,b,I){var q=(M.encode(b.xy)<<4)+S,W=(this.hasZ||this.hasM)<<3;if(W+=I<<4,v.writeUInt8(q),v.writeUInt8(W),this.hasZ||this.hasM){var Z=0;this.hasZ&&(Z|=1),this.hasM&&(Z|=2),v.writeUInt8(Z)}},E.prototype.toGeoJSON=function(v){var S={};return this.srid&&v&&(v.shortCrs?S.crs={type:"name",properties:{name:"EPSG:"+this.srid}}:v.longCrs&&(S.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+this.srid}})),S},Ae}st.Types=at;st.Geometry=_t();st.Point=bt();st.LineString=qe();st.Polygon=Ue();st.MultiPoint=Ur();st.MultiLineString=Gr();st.MultiPolygon=Br();st.GeometryCollection=zr();function Cr(c,y,d){d===void 0&&(d={});var l={type:"Feature"};return(d.id===0||d.id)&&(l.id=d.id),d.bbox&&(l.bbox=d.bbox),l.properties={},l.geometry=c,l}function Qn(c,y,d){d===void 0&&(d={});for(var l=0,g=c;l<g.length;l++){var h=g[l];if(h.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<h[h.length-1].length;s++)if(h[h.length-1][s]!==h[0][s])throw new Error("First and last Position are not equivalent.")}var n={type:"Polygon",coordinates:c};return Cr(n,y,d)}function Kn(c,y,d){d===void 0&&(d={});var l={type:"MultiPolygon",coordinates:c};return Cr(l,y,d)}function Jr(c,y,d){if(c!==null)for(var l,g,h,s,n,o,a,_=0,M=0,E,v=c.type,S=v==="FeatureCollection",b=v==="Feature",I=S?c.features.length:1,q=0;q<I;q++){a=S?c.features[q].geometry:b?c.geometry:c,E=a?a.type==="GeometryCollection":!1,n=E?a.geometries.length:1;for(var W=0;W<n;W++){var Z=0,$=0;if(s=E?a.geometries[W]:a,s!==null){o=s.coordinates;var Y=s.type;switch(_=0,Y){case null:break;case"Point":if(y(o,M,q,Z,$)===!1)return!1;M++,Z++;break;case"LineString":case"MultiPoint":for(l=0;l<o.length;l++){if(y(o[l],M,q,Z,$)===!1)return!1;M++,Y==="MultiPoint"&&Z++}Y==="LineString"&&Z++;break;case"Polygon":case"MultiLineString":for(l=0;l<o.length;l++){for(g=0;g<o[l].length-_;g++){if(y(o[l][g],M,q,Z,$)===!1)return!1;M++}Y==="MultiLineString"&&Z++,Y==="Polygon"&&$++}Y==="Polygon"&&Z++;break;case"MultiPolygon":for(l=0;l<o.length;l++){for($=0,g=0;g<o[l].length;g++){for(h=0;h<o[l][g].length-_;h++){if(y(o[l][g][h],M,q,Z,$)===!1)return!1;M++}$++}Z++}break;case"GeometryCollection":for(l=0;l<s.geometries.length;l++)if(Jr(s.geometries[l],y)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Ze(c){var y=[1/0,1/0,-1/0,-1/0];return Jr(c,function(d){y[0]>d[0]&&(y[0]=d[0]),y[1]>d[1]&&(y[1]=d[1]),y[2]<d[0]&&(y[2]=d[0]),y[3]<d[1]&&(y[3]=d[1])}),y}Ze.default=Ze;function Fr(c){try{return st.Geometry.parse(Buffer.from(c)).toGeoJSON()}catch(y){throw console.error("WKB parse error:",y),y}}function Xn(c){const y=[],d=c.prepare(`
    SELECT 
      fid as id,
      RAJOITUSTYYPPI,
      RAJOITUSTYYPIT,
      SUURUUS,
      PITUUS,
      POIKKEUS,
      "LISTIETO",
      PAATOSTILA,
      "ALKUPIVMR",
      "LOPPUPIVMR",
      DIAARINUMERO,
      TIETOLAHDE,
      JNRO,
      NIMISIJAINTI,
      IRROTUS_PVM,
      geom
    FROM rajoitusalue_a
  `);for(;d.step();){const l=d.getAsObject(),g=l.geom,h=Fr(g),s=l.SUURUUS||"",n=s.match(/(\d+)/),o=n?parseInt(n[1],10):void 0,a=h.type==="Polygon"?Qn(h.coordinates):Kn(h.coordinates),_=Ze(a);y.push({id:l.id,rajoitustyyppi:l.RAJOITUSTYYPPI||"",rajoitustyypit:l.RAJOITUSTYYPIT||"",suuruusKmh:o,suuruusRaw:s,pituusRaw:l.PITUUS,poikkeus:l.POIKKEUS,lisatieto:l.LISTIETO,paatostila:l.PAATOSTILA,alkuPvm:l.ALKUPIVMR,loppuPvm:l.LOPPUPIVMR,diaarinumero:l.DIAARINUMERO,tietolahde:l.TIETOLAHDE,jnro:l.JNRO,nimisijainti:l.NIMISIJAINTI,irrotusPvm:l.IRROTUS_PVM,geometry:h,bbox:_})}return d.free(),y}function jn(c,y){return y!=null?`merkki${c}_${y}`:`merkki${c}`}function ti(c){const y=[],d=c.prepare(`
    SELECT 
      fid as id,
      NIMIFI,
      NIMISV,
      VLMLAJITYYPPI,
      VLMTYYPPI,
      RAJOITUSARVO,
      LISAKILMENTEKSTIFI,
      LISAKILMENTEKSTISV,
      SIJAINTIFI,
      SIJAINTISV,
      VAYLALAJI,
      PAATOS,
      VAIKUTUSALUE,
      PATATYYPPI,
      PAKOTYYPPI,
      TKL_NUMERO,
      MITTAUSPAIVA,
      VAYLAT,
      IRROTUS_PVM,
      geom
    FROM vesiliikennemerkit
  `);for(;d.step();){const l=d.getAsObject(),g=l.geom,h=Fr(g),s=l.VLMLAJITYYPPI,n=l.RAJOITUSARVO!=null?l.RAJOITUSARVO:void 0;y.push({id:l.id,nimiFi:l.NIMIFI,nimiSv:l.NIMISV,vlmlajityyppi:s,vlmtyyppi:l.VLMTYYPPI,rajoitusarvo:n,lisakilmentekstiFi:l.LISAKILMENTEKSTIFI,lisakilmentekstiSv:l.LISAKILMENTEKSTISV,sijaintiFi:l.SIJAINTIFI,sijaintiSv:l.SIJAINTISV,vaylalaji:l.VAYLALAJI,paatos:l.PAATOS,vaikutusalue:l.VAIKUTUSALUE,patatyyppi:l.PATATYYPPI,pakotyyppi:l.PAKOTYYPPI,tklNumero:l.TKL_NUMERO,mittauspaiva:l.MITTAUSPAIVA,vaylat:l.VAYLAT,irrotusPvm:l.IRROTUS_PVM,geometry:h,iconKey:jn(s,n)})}return d.free(),y}async function ei(c,y){const d=await Yn({locateFile:g=>`https://sql.js.org/dist/${g}`}),l=new d.Database(new Uint8Array(c));try{return y==="rajoitus"?Xn(l):ti(l)}finally{l.close()}}self.onmessage=async c=>{try{const{dataType:y,arrayBuffer:d}=c.data,l=await ei(d,y),g={type:"result",dataType:y,data:l};self.postMessage(g)}catch(y){const d={type:"error",error:y instanceof Error?y.message:"Unknown error"};self.postMessage(d)}};
